if(booking.env.enable_scripts_tracking){booking.env.scripts_tracking.jquery={loaded:!!window.jQuery,run:!!window.jQuery};booking.env.scripts_tracking.main={loaded:true,run:false}}B.tools={inherits:function(d,c,f){var e=function(){};e.prototype=c.prototype;d.superClass_=c.prototype;d.prototype=new e();d.prototype.constructor=d;if(f){$.extend(d.prototype,f)}},base:function(g,c,j){var e=arguments.callee.caller;if(!e){throw Error("arguments.caller not defined. tools.base() expects not to be running in strict mode. See http://www.ecma-international.org/ecma-262/5.1/#sec-C")}if(e.superClass_){return e.superClass_.constructor.apply(g,Array.prototype.slice.call(arguments,1))}var d=Array.prototype.slice.call(arguments,2);var h=false;for(var f=g.constructor;f;f=f.superClass_&&f.superClass_.constructor){if(f.prototype[c]===e){h=true}else{if(h){return f.prototype[c].apply(g,d)}}}if(g[c]===e){return g.constructor.prototype[c].apply(g,d)}else{throw Error("tools.base called from a method of one name to a method of a different name")}},addSingletonGetter:function(c){c.getInstance=function(){if(!c.__instance__){c.__instance__=new c()}return c.__instance__}},abstractMethod:function(){throw Error("unimplemented abstract method")},cloneObj:function(e){var d=$.type(e);if(d==="object"||d==="array"){if(typeof e.clone==="function"){return e.clone()}else{var f=(d==="array"?[]:{});for(var c in e){if(e.hasOwnProperty(c)){f[c]=B.tools.cloneObj(e[c])}}return f}}else{return e}},getObjectByName:function(d,e){var f=d.split(".");var g=e||window;for(var c;c=f.shift();){if(g[c]!==null&&g[c]!==undefined){g=g[c]}else{return null}}return g},parseInt:function(c){return parseInt(c,10)},dom:{window:$(window),watchIfBlockVisibleInViewport:function(g,j,h,d){var e=this;function c(){if(e.isBlockVisibleInViewport(g,h)){j();if(!d){f()}}}function f(){e.window.unbind("resize scroll",c)}this.window.bind("resize scroll",c);setTimeout(c,0);return{forceCheck:c,stopWatch:f}},isBlockVisibleInViewport:function(h,d){if(!h||h.length===0){return false}var e=h.offset().top;var c={top:e,bottom:e+h.innerHeight()};var g=this.window.scrollTop();var f={top:g,bottom:g+this.window.height()};if(d){return(c.top>f.top&&c.bottom<f.bottom)}else{return(c.top>f.top&&c.top<f.bottom)}},popupCancel:function(c){window.open(c,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width=400,height=350,left=200,top=200");return false}},css:{CSS_OPACITY_SUPPORT:("opacity" in document.body.style)},misc:{array2Object:function(d){var f={};for(var e=0,c=d.length;e<c;e++){f[d[e]]=true}return f}},keys:Object.keys||function(e){if(e!==Object(e)){throw new TypeError("Invalid object")}var d=[];for(var c in e){if(e.hasOwnProperty(c)){d.push(c)}}return d},each:function(g,j,c){var k=Array.prototype.forEach,f={};var h,d;if(!g){return}if(k&&g.forEach===k){g.forEach(j,c)}else{if(g.length===+g.length){for(h=0,d=g.length;h<d;h++){if(j.call(c,g[h],h,g)===f){return}}}else{var m;try{m=B.tools.keys(g)}catch(l){m=[]}for(h=0,d=m.length;h<d;h++){if(j.call(c,g[m[h]],m[h],g)===f){return}}}}},map:function(g,f,d){var c=[],e=Array.prototype.map;if(g==null){return c}if(e&&g.map===e){return g.map(f,d)}B.tools.each(g,function(k,h,j){c.push(f.call(d,k,h,j))});return c},filter:function(g,e,d){var c=[],f=Array.prototype.filter;if(g==null){return c}if(f&&g.filter===f){return g.filter(e,d)}B.tools.each(g,function(k,h,j){if(e.call(d,k,h,j)){c.push(k)}});return c},reduce:function(j,h,d,g){var f=arguments.length>2,c="Reduce of empty array with no initial value",e=Array.prototype.reduce;if(j==null){j=[]}if(e&&j.reduce===e){if(g){h=$.proxy(h,g)}return f?j.reduce(h,d):j.reduce(h)}B.tools.each(j,function(m,k,l){if(!f){d=m;f=true}else{d=h.call(g,d,m,k,l)}});if(!f){throw new TypeError(c)}return d},defaults:function(d,c){var e;d=d||{};c=c||{};for(e in c){if(c.hasOwnProperty(e)){if(d[e]==null){d[e]=c[e]}}}return d}};B.EventTarget=function(){this.dispatcher=$("<div />")};$.extend(B.EventTarget.prototype,{bind:function(c,d,e){this.dispatcher.bind(c,$.proxy(d,e||this.dispatcher))},unbind:function(c,d){this.dispatcher.unbind(c,d)}});function bookmark(d,g,c){if(window.sidebar&&window.sidebar.addPanel){window.sidebar.addPanel(g,d,"")}else{if(window.external){try{window.external.AddToFavoritesBar(d,g)}catch(f){window.external.AddFavorite(d,g)}}else{if(window.opera&&window.print){c.title=g}}}return false}function addBookmark(d,c){if(window.sidebar){window.sidebar.addPanel(d,c,"")}else{if(document.all){window.external.AddFavorite(c,d)}else{alert("Sorry your browser doesn't support this function\nTo bookmark this page\nWindows users press ctrl + D\nMac users press cmd + D")}}}function hideFrameContainer(d,h,e){if(document.getElementById){var j=document.getElementById(d);var g=document.getElementById(h);j.style.display="none";document.getElementById("headline_newsletter").style.display="block";document.getElementById("headline_createprofile").style.display="none"}}function changeHeadline(){document.getElementById("headline_newsletter").style.display="none";document.getElementById("headline_createprofile").style.display="block"}function hideEl(c){$("#"+c).hide()}function showEl(c){$("#"+c).show()}function showFrameContainer(k,g,j,d,h,v,p,m,t){if(document.getElementById){var o=document.getElementById(k);var q=document.getElementById(g);var n=document.getElementById(j);if(q.style.display=="block"){q.style.display="none";return false}if(n.src!=d){n.src=d}q.style.visibility="hidden";q.style.display="block";var u=$(o).position()||{};var l=u.left,r=u.top;if(p){l+=p}if(m){r+=m}if(!h){h=q.offsetWidth}var w=document.getElementById("bodyconstraint").offsetWidth;if((l+h)>w){l=(w-h-40)}q.style.left=l+"px";q.style.top=r+"px";q.style.visibility="visible";return false}else{window.open(d)}}function sSc(d,c,e){if(document.getElementById){document.getElementById("rsc_"+d).innerHTML=e}}function sSc3(c,d){$("li[id^="+c+"]").attr("style","display: none; ");$("li[id^="+d+"]").removeAttr("style")}function sSc2(f,e,g){if(document.getElementById){if(document.getElementById("rnr")){document.getElementById("rnr").innerHTML=f}for(var d=-1;d<10;d++){var c=document.getElementById("rl"+d);if(c){c.style.color="";c.style.textDecoration="underline"}}e.style.color="#003580";e.style.textDecoration="none";e.blur();$("#gr_profile_chooser ul").removeClass().addClass(g);$(".review_filter_sub").text($(e).find(".key").text());if(g=="group"||g=="review_category_group_of_friends"){classname="group_big"}else{if(g=="solo_traveller"){classname="solo_big"}else{if(g=="family_with_young_children"||g=="review_category_family"){classname="youngchildren_big"}else{if(g=="mature_couple"){classname="maturecouple_big"}else{if(g=="family_with_older_children"){classname="oldchildren_big"}else{if(g=="with_friends"){classname="withfriends_big"}else{if(g=="young_couple"||g=="review_category_couple"){classname="youngcouple_big"}else{classname="global_big"}}}}}}}$(".review_user_type").attr("class","review_user_type type_"+classname)}}if($.ajaxSetup){$.ajaxSetup({cache:false,beforeSend:function(c){c.setRequestHeader("X-Booking-Pageview-Id",booking.env.pageview_id);c.setRequestHeader("X-Booking-AID",booking.env.aid);c.setRequestHeader("X-Booking-Session-Id",booking.env.b_sid)}})}if($(".b_msie_6").length){$(".b_msie_6 .bigbluebutton").mouseenter(function(){$(this).addClass("bigbluebutton_hover")});$(".b_msie_6 .bigbluebutton").mouseleave(function(){$(this).removeClass("bigbluebutton_hover")});$(".b_msie_6 .price_button").mouseenter(function(){$(this).addClass("price_button_hover")});$(".b_msie_6 .price_button").mouseleave(function(){$(this).removeClass("price_button_hover")})}$("#signup_box").hide();$(".userdataform").hide();function ShowHideSignup(){$("#signup_box").animate({height:"toggle"},{duration:500});return false}$("#signup_box #signupForm").click(function(c){c.stopPropagation()});$("#signup_box .userdataform").click(function(c){c.stopPropagation()});$(function(){$(".newsletter_ajax_error").hide();$('input#to[type="text"]').css({backgroundColor:"#FFFFFF"});$('input#to[type="text"]').focus(function(){$(this).css({color:"#003580"});if(this.value==this.defaultValue){this.value=""}if(this.value!=this.defaultValue){this.select()}});$("input.text-input").blur(function(){$(this).css({backgroundColor:"#FFFFFF"})});$("div#newsletterform_form a.flashdeals_nosubscribe").click(function(){$("div#flashdealsbg_wrapper h2.flashdeals_header_one").hide();$("div#flashdealsbg_wrapper h2.flashdeals_header_two").show();$("div#flashdealsbg_wrapper h3.flashdeals_subheader_one").hide();$("div#flashdealsbg_wrapper h3.flashdeals_subheader_two").show();$("div#flashdealsbg_wrapper a.flashdeals_nosubscribe").hide();$("div#flashdealsbg_wrapper a.flashdeals_gotobooking").show();$("div#flashdealsbg_wrapper input.newsletter_button").hide();$("div#flashdealsbg_wrapper input.newsletter_button_deals").show();return false})});(function(e,d){d=d||{};var f=e.console||{};f.warn=f.warn||function(){};var c={_list:{},get:function(h){return c._list[h]},set:function(h,j){var h=h||"";var j=j||"";if(typeof h==="string"){h=h.replace(/^\s+|\s+$/g,"")}if(typeof j==="string"){j=j.replace(/^\s+|\s+$/g,"")}if((h.length>0&&typeof h==="string")||typeof h!=="string"){if(typeof c._list[h]!=="undefined"){f.warn("Booking Strings: replacing string with id: "+h)}c._list[h]=j}else{f.warn("Booking Strings: trying to insert string with empty id")}}};var g=function(h,j){return c[typeof j!=="undefined"?"set":"get"](h,j)};d.strings=g;d.strings.get=c.get;d.strings.set=c.set;d.tmpl=function(h,j){return h.replace(/{([^{}]*)}/g,function(l,k){var m=j[k];return typeof m==="string"||typeof m==="number"?m:l})}})(window,booking);(function(m,o){var d="experiments",h="startup",e="experiments_load",n="startup_load",l=o.env,f=false,j=$(document),c=function(q){return typeof q==="function"},p=function(r){var q="b_site_experiment_"+r;var t=o.jst&&o.jst[r]>0;return((q in l)&&+l[q]>0)||t},g;o.ensureNamespaceExists(d);o.ensureNamespaceExists(h);o.ensureNamespaceExists(e);o.ensureNamespaceExists(n);g=o[h];g.init=function(z){var A=[],M=9,D,v,u,H,F,E,L,K,x,C,t,J,I,y,q=z==="ready";if(o.env.b_inc_filters){var w=o.env.b_inc_filters;for(sFiltrGrp in w){var r=w[sFiltrGrp];for(sFiltr in r){o.jst[sFiltr]=r[sFiltr]}}}D=q?d:e;u=o[D];for(H in u){if(o.b_disable_run){if(isNaN(l["b_site_experiment_"+H])&&(jst=o.jst&&o.jst[H]===undefined)){continue}}A.push([u[H].priority||M,H,D,!p(H)])}v=q?h:n;F=o[v];for(E in F){t=F[E];A.push([t.priority||M,E,v,false])}if(A.length>0){if(B.prepareNSdispatch){var G=function(O,N,Q){var P=function(){var U,W,Y,V,R,X;for(var S=0,T=N.length;S<Q&&S<T;S+=1){U=N[S];W=U[1];Y=U[2];R=o[Y][W];$.extend(R,{strings:o.strings});V=U[3]?R.initElse:R.init;R.ns="booking."+Y;R.name=W;if(c(V)){X=O.execute(V,R);if(X===true){R.init=R.initElse=null}}}N.splice(0,Q);if(N.length){setTimeout(P,0)}};P()};G(this,A.sort(),B.batchSize||0)}else{A.sort();for(I=0,y=A.length;I<y;I+=1){L=A[I];K=L[1];x=L[2];t=o[x][K];$.extend(t,{strings:o.strings});C=L[3]?t.initElse:t.init;t.ns="booking."+x;t.name=K;if(c(C)){setTimeout((function(N,P,O){return function(){J=N.execute(P,O);if(J===true){O.init=O.initElse=null}}})(this,C,t),0)}}}}$(document).trigger(z+":finished");if(q&&!f){f=true;o.track.exp(o.track.queue.join(","))}};g.execute=function(r,q){return r.call(q)};l.amTracking=[];(function(){var v=20,w=Object.prototype.toString,D=Array.prototype.slice,z=$(m),I=$(document),t=function(N){var P=N.offset(),M=(typeof P.constructor==="function")?P.constructor:{name:"OtherConstructor"},O;if(M.name==="ClientRect"){O=$(N.trackingSelector).eq(0).offset();if(O){return O.top}return false}return P.top},E=function(N){var M=t(N);if(M===false){return false}return((z.scrollTop()+z.height())>(M+v))&&N.is(":visible")},A=function(M,O){try{z.trigger(M,O)}catch(N){}},C={css:jQuery.fn.css,show:jQuery.fn.show,hide:jQuery.fn.hide,toggle:jQuery.fn.toggle},J={show:/block|inline|list-item|inline-block/,hide:/none/};jQuery.fn.css=function(O,N){var M=C.css.apply(this,D.apply(arguments));if(this.selector){if(typeof N!=="undefined"&&O==="display"){A("ELEMENT_DISPLAY:"+this.selector,{elem:this,value:N})}else{if(w.apply(O)==="[object Object]"&&"display" in O){A("ELEMENT_DISPLAY:"+this.selector,{elem:this,value:O.display})}}}return M};$.each("show hide toggle".split(" "),function(M,N){jQuery.fn[N]=function(){var O=C[N].apply(this,D.apply(arguments));if(this.selector){A("ELEMENT_DISPLAY:"+this.selector,{elem:this,value:this.css("display")})}return O}});var K=[],F=[],L,u,r,x,q,H;q=function(){H=false};u=function(){var N,P,Q,R=[];L=false;if(H){L=setTimeout(u,50);return}if(K.length>0||F.length>0){H=true;z.trigger("ClickTale:TrackDynamic",{experiments:K});N=F.length?";what="+F.join(","):"";Q=$("#req_info").html()||"";for(var O=0,M=K.length;O<M;O++){if(Q.indexOf(K[O])===-1){R.push(K[O])}}R=R.join(",");if(B.trackNoDom){P=new Image(1,1);P.onload=P.onerror=q;P.src="/js_tracking?ver=1"+N+";sid="+l.b_sid+";aid="+l.b_aid+";lang="+l.b_lang_for_url+";new=1;pid="+l.pageview_id+";exps="+K.join(",")}else{P=document.createElement("img");P.setAttribute("style","height:1px;width:1px;visibility:hidden;float:left;");P.onload=P.onerror=q;P.src="/js_tracking?ver=1"+N+";sid="+l.b_sid+";aid="+l.b_aid+";lang="+l.b_lang_for_url+";new=1;pid="+l.pageview_id+";exps="+K.join(",");document.body.appendChild(P)}$("#req_info").html(Q+","+R);K=[];F=[]}};r=function(O,N){if(typeof O==="undefined"||O===null||l.b_browser==="bot"){return}var S=($.isArray(O)?O:(O.split?O.split(","):[])),R,P,Q,M=o.env.js_experiment_tracking||{},T,V,U;if(!f){o.track.queue.push(O)}for(R=0,P=S.length;R<P;R+=1){U=S[R];V=o.jst&&typeof o.jst[U]!=="undefined"&&o.jsdt&&!o.jsdt[U];T=(isNaN(+U)&&!!M?M[U]:U)||(V?U:false);if((/^[0-9]+$/.test(T)||V)&&typeof l.amTracking["e"+T]==="undefined"){K.push(T);l.amTracking["e"+T]=1}}if(N&&typeof l.amTracking["g"+N]==="undefined"){F.push(N);l.amTracking["g"+N]=1}if(O!==true&&!K.length){return false}else{if(M&&M.njst&&/^[0-9]+$/.test(M.njst)&&typeof l.amTracking["e"+M.njst]==="undefined"){K.push(M.njst);l.amTracking["e"+M.njst]=1}}if(L){m.clearTimeout(L);L=false}L=m.setTimeout(u,50)};var y=o.track.queue;o.track={queue:y,exp:r,goal:function(M){if(!M){return}r(true,M)},getVariant:function(M){if(M&&o.jst&&!isNaN(o.jst[M])){return o.jst[M]}return false},onView:function(M){var N=$(M).eq(0),O=this.exp;N.trackingSelector=M;return{exp:function(){var P=D.apply(arguments),Q=$.proxy(function(){var R;if(E(N)){R="ONVIEW:"+(w.apply(M)==="[object String]"?M:$(M).selector);z.trigger(R,{source:M});O.apply(o.track,this.args);z.unbind("resize scroll",Q)}},{args:P});if(N.length){if(N.css("display")==="none"){N.css({display:"block",visibility:"hidden"})}z.bind("resize scroll",Q);Q()}}}},onNav:function(){return{exp:function(){}}}};$.each("blur change click dblclick mouseover mouseout".split(" "),function(N,M){var P=M.slice(0,1),O=M.replace(P,P.toUpperCase());o.track[M]=o.track["on"+O]=function(Q){var R=$(Q);return{exp:function(){var S=D.apply(arguments),T=$.proxy(function(){o.track.exp.apply(o.track,this.args);R.unbind(M,T)},{args:S});R.bind(M,T)}}};o.track["live"+O]=function(Q){return{exp:function(){var R=D.apply(arguments),S=$.proxy(function(){o.track.exp.apply(o.track,this.args);$(Q).unbind(M,S)},{args:R});I.delegate(Q,M,S)}}}});$.each("show hide".split(" "),function(N,M){o.track[M]=function(O){var P=$(O);if(!P.selector){return{exp:function(){}}}return{exp:function(){var Q=D.apply(arguments),R=$.proxy(function(S,T){if(J[M].test(T.value)&&(T.elem.selector===P.selector||(P.length===1&&T.elem[0]===P[0]))){o.track.exp.apply(o.track,this.args);z.unbind("ELEMENT_DISPLAY:"+P.selector,R)}},{args:Q});z.bind("ELEMENT_DISPLAY:"+P.selector,R)}}}});$.each("blur change click dblclick mouseover mouseout".split(" "),function(O,N){var M="[data-track-on-"+N+"]",P=function(){o.track.exp.call(o.track,$(this).data("track-on-"+N)+"")};I.delegate(M,N,P)});var G={mouseenter:"hover",hover:"hover",click:"click"};I.delegate("[data-google-track]","click hover mouseenter mouseleave",function(N){var M=($(this).data("google-track")||"").split("/");if(M[0].toLowerCase()===G[N.type]){o.google.trackEvent.apply(o.google,M)}})})();l.trackExperiment=function(){o.track.exp.apply(this,Array.prototype.slice.apply(arguments))};$(function(){j.trigger("ready:before");o[h].init("ready")});$(m).load(function(){o[h].init("load")});o.run=function(q){return{afterReady:function(r){this.onReady(function(){j.bind("ready:finished",r)})},onReady:function(r){o[h][q]={priority:9,init:r}},onLoad:function(r){o[n][q]={priority:9,init:r}}}};o.runExp=function(q){return{beforeReady:function(r){j.bind("ready:before",r)},afterReady:function(r){this.onReady(function(){j.bind("ready:finished",r)})},onReady:function(r){o[d][q]={priority:9,init:r}},afterLoad:function(r){this.onLoad(function(){j.bind("load:finished",r)})},onLoad:function(r){o[e][q]={priority:9,init:r}}}};o.env.b_occupancy=(function k(){var x=o.env.b_group,r,v,u,w=0,t=0,q={adults:2,children:0,guests:2},y;if(Object.prototype.toString.apply(x)!=="[object Array]"){return q}v=x.length;u=x[0];y=v>1||(v===1&&(u.guests===1||u.guests>2||u.children>0));if(!y){return q}for(r=0;r<v;r+=1){u=x[r];w+=u.guests;t+=u.children}return{adults:w,children:t,guests:w+t}})();o.eventEmitter=$(m);m.sNSExperiments=d;m.sNSStartup=h;m.sNSExperimentsLoad=e;m.sNSStartupLoad=n})(this,this.booking);(function(k,n){var h=n.startup,m=Array.prototype.slice,d=Object.prototype.toString,e=function(){return +new Date+Math.random()+""},j=function(p){var q,u,t,r=false,o;if(p.length){for(q=0,u=p.length;q<u;q+=1){t=p[q];if(t&&d.apply(t)==="[object Function]"){o=q;r=t;break}}}return{handler:r,handlerIndex:o}},f={},g=n.env;function l(o){return(typeof o==="object"&&typeof o.nodeName==="string")}var c=function(o){return function(){var u,r,v=Array.prototype.slice,t,p,q=v.apply(arguments);if(this.length){u=j(q);r=u.handler;p=u.handlerIndex;if(r){q[p]=function(w){if(typeof ClickTaleExec!=="function"||!l(this)){return r.apply(this,v.apply(arguments))}if(!/submit/i.test(w.type)){if(this===k){ClickTaleExec("jQuery(window)."+w.type+"()");return r.apply(this,v.apply(arguments))}else{if(this===document){ClickTaleExec("jQuery(document)."+w.type+"()");return r.apply(this,v.apply(arguments))}else{if(this===document.documentElement){ClickTaleExec("jQuery(document.documentElement)."+w.type+"()");return r.apply(this,v.apply(arguments))}}}}var G=$(this),y=G.attr("id"),C=w.type,E,F,z=this.tagName.toLowerCase(),A,D,x;if(y){D=$("#"+y).index(this);x='jQuery("#'+y+'").eq('+D+")"}else{E=G.closest("[id]");F=E.attr("id");A=$("#"+F).index(E);D=E.find(z).index(this);x='jQuery("#'+F+'").eq('+A+').find("'+z+'").eq('+D+")"}if(!/submit/i.test(w.type)){if(C==="change"){x+='.val("'+G.val()+'")'}x+="."+C+"()";if(!G.hasClass("ClickTaleSensitive")){if(n.env.clicktale_event_check){if(w.handleObj&&w.handleObj.guid&&G.data("events")&&G.data("events")[C]&&G.data("events")[C][0]&&G.data("events")[C][0]["guid"]){if(w.handleObj.guid===G.data("events")[C][0]["guid"]){ClickTaleExec(x)}}}else{ClickTaleExec(x)}}}return r.apply(this,v.apply(arguments))};t=r.bookingClicktaleEventHandlerID=e();f[t]=q[p]}}return o.apply(this,q)}};if(!g.b_site_experiment_clicktale&&!/clicktale/.test(document.location.hostname)){return}if(g.b_site_experiment_clicktale_reloaded){(function(){var o=$.fn.bind,p=$.fn.unbind,q=$.fn.live;$.fn.bind=c(o);$.fn.live=c(q);$.fn.unbind=function(){var r=m.apply(arguments),u,t;if(this.length){u=j(r);t=u.handler.bookingClicktaleEventHandlerID;if(t&&f[t]){r[u.handlerIndex]=f[t]}}return p.apply(this,r)}})()}else{h.execute=function(q,p){var o=$.fn.bind,r=$.fn.live;$.fn.bind=c(o);$.fn.live=c(r);q.call(p);$.fn.bind=o;$.fn.live=r}}})(this,this.booking);$(function(){if(!booking.env.b_site_experiment_clicktale&&!/clicktale/.test(document.location.hostname)){return}ClickTaleEvent=(typeof ClickTaleEvent==="function")?ClickTaleEvent:function(){};ClickTaleRegisterElementAction=(typeof ClickTaleRegisterElementAction==="function")?ClickTaleRegisterElementAction:function(){};ClickTaleRegisterFormSubmitNotSent=(typeof ClickTaleRegisterFormSubmitNotSent==="function")?ClickTaleRegisterFormSubmitNotSent:function(){};ClickTaleRegisterFormSubmitSent=(typeof ClickTaleRegisterFormSubmitSent==="function")?ClickTaleRegisterFormSubmitSent:function(){};ClickTaleRegisterFormSubmitFailure=(typeof ClickTaleRegisterFormSubmitFailure==="function")?ClickTaleRegisterFormSubmitFailure:function(){};ClickTaleRegisterFormSubmitSuccess=(typeof ClickTaleRegisterFormSubmitSuccess==="function")?ClickTaleRegisterFormSubmitSuccess:function(){};var n=function(w){if("ClickTaleContext" in window&&l(ClickTaleContext)==="[object Object]"){try{ClickTaleContext.getAggregationContextAsync("1",w)}catch(v){}}},j=$("[data-clicktale-signify]"),p=$(".clicktale-propagation, .bigbluebutton"),k=booking.env,c=k.b_occupancy||{},r=k.all_experiment_labels_running_for_clicktale,t={index:"#b_searchbox_errors",searchresults:".dateerrors",hotel:".dateerrors",city:".dateerrors",country:".dateerrors",book:".errorSimpleMsg",confirmation:""},e=$(".clicktalecatch"),u=t[k.b_action],o=$(u),q=k.b_action==="searchresults",d=$("#basiclayout").length,h,g,f=$(window),m={"0":"User not logged in","1":"User recognized","2":"User logged in"},l=function(v){return Object.prototype.toString.apply(v)};if(j.length){j.map(function(){var v=$(this),x=v.data("clicktale-signify").split("_"),w=x[0];if(w==="hover"){w="mouseenter"}v.bind(w,function(){ClickTaleEvent(x[1]+" "+w+"ed")})})}p.click(function(v){ClickTaleRegisterElementAction("click",v)});if(k.rtl){ClickTaleEvent("Right To Left")}if(k.b_action==="book"){ClickTaleEvent("Booking step "+k.b_stage);if(typeof(k.bs_multi_room)!="undefined"){if(k.bs_multi_room){ClickTaleEvent("Booking multiple room booking")}else{ClickTaleEvent("Booking single room booking")}}}if(/utm_medium/.test(document.location.search)){ClickTaleEvent("Source: email")}if(k.b_locale){ClickTaleEvent("Language: "+k.b_locale)}if(q){if(k.b_is_disambiguation){ClickTaleEvent("Disambiguation Page")}else{if(d){ClickTaleEvent("Search results Page")}else{ClickTaleEvent("Deal Finder Page")}}}if(k.b_action==="myreservations"){ClickTaleEvent("My bookings Page")}ClickTaleEvent(m[k.auth_level]);for(h=0,g=r.length;h<g;h+=1){ClickTaleEvent(r[h])}if(k.b_is_internal_ip){ClickTaleEvent("Internal IP")}ClickTaleEvent(k.user_has_dates?"Dates chosen":"Dates not chosen");ClickTaleEvent(c.adults+" adults");ClickTaleEvent(c.children+" children");ClickTaleEvent(((k.b_group&&$.isArray(k.b_group)&&k.b_group.length)?k.b_group.length:1)+" rooms selected");if(k.b_action==="hotel"){ClickTaleEvent($(".maintr").length+" rooms in rooms table");ClickTaleEvent(k.b_acc_type)}if(booking.env&&booking.env.b_action!="book"){if(u&&o.length&&o.is(":visible")){ClickTaleRegisterFormSubmitFailure()}else{ClickTaleRegisterFormSubmitSuccess()}}f.bind("Form:NotValid",function(v,w){ClickTaleRegisterFormSubmitNotSent(w.form)});f.bind("Form:Valid",function(v,w){ClickTaleRegisterFormSubmitSent(w.form)});$(".ctaction").live("click",function(){var v=$(".ctaction").index(this);ClickTaleExec('jQuery(".ctaction:eq('+v+')").click()')});$(".b_advanced_search_toggler").bind("click",function(){ClickTaleEvent("Advanced search is opened")});e.bind("input keydown blur",function(){(window.ClickTaleExec||function(){})('jQuery(".clicktalecatch:eq('+e.index(this)+')").val("'+$(this).val()+'");')});e.bind("auto_completed",function(){(window.ClickTaleExec||function(){})('jQuery(".clicktalecatch:eq('+e.index(this)+')").val("'+$(this).val()+'");')});n(function(v){$("#bOn").click()});f.bind("ClickTale:TrackDynamic",function(z,C){var A=C.experiments,x,v,w,y;for(w=0,y=A.length;w<=y;w+=1){x=A[w]+"";if(x in k.clicktale_experiment_ids){v=k.clicktale_experiment_ids[x];if(v in k.all_experiment_names_running_for_clicktale){ClickTaleEvent("Experiment "+v+" variant "+k.all_experiment_names_running_for_clicktale[v])}}}});if(k.b_action){ClickTaleEvent("Action: "+k.b_action)}});if(booking.env.b_site_experiment_clicktale){function safeClickTaleRegisterFormSubmit(c){if(typeof ClickTaleRegisterFormSubmit==="function"){ClickTaleRegisterFormSubmit(c)}}function safeClickTaleRegisterFormSubmitSent(c){if(typeof ClickTaleRegisterFormSubmitSent==="function"){ClickTaleRegisterFormSubmitSent(c)}}function safeClickTaleRegisterFormSubmitNotSent(c){if(typeof ClickTaleRegisterFormSubmitNotSent==="function"){ClickTaleRegisterFormSubmitNotSent(c)}}function safeClickTaleRegisterFormSubmitSuccess(c){if(typeof ClickTaleRegisterFormSubmitSuccess==="function"){ClickTaleRegisterFormSubmitSuccess(c)}}function safeClickTaleRegisterFormSubmitFailure(c){if(typeof ClickTaleRegisterFormSubmitFailure==="function"){ClickTaleRegisterFormSubmitFailure(c)}}if(booking.env.b_action==="book"){jQuery(document).ready(function(){jQuery("form").bind("submit.CT",function(){safeClickTaleRegisterFormSubmit(this);safeClickTaleRegisterFormSubmitSent(this)});if($.trim($(".errorSimpleMsg").text())&&jQuery("#top_warning").length>0){safeClickTaleRegisterFormSubmitFailure()}else{safeClickTaleRegisterFormSubmitSuccess()}})}}booking[sNSStartup].popups={priority:9,curPopup:null,tempTar:null,sizes:{s:{width:300,height:400},m:{width:400,height:400},l:{width:600,height:580},xl:{width:850,height:600}},init:function(){var c=this;$(".popup_s, .popup_m, .popup_l, .popup_xl").click(function(){var f="l";var d=$(this).attr("class").split(" ");for(var e=0;e<d.length;e++){if(d[e].indexOf("popup_")>-1){f=d[e].split("_")[1]}}c.tempTar=$(this).attr("href");c.openPopup(f);return false})},openPopup:function(d){var c=this;if(this.curPopup){this.curPopup.close();this.curPopup=null;var d=d;setTimeout(function(){c.openPopup(d)},300)}else{var e=this.sizes[d];this.curPopup=window.open(this.tempTar,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width="+e.width+",height="+e.height+",left=200,top=200");this.curPopup.focus();this.tempTar=null}}};$(document).delegate(".tabs > ul > li","click",function(){var e=$(this),d=e.closest("ul"),c=d.children("li").removeClass("tab-selected");d.siblings("div").children("div").hide().eq(c.index(e.addClass("tab-selected"))).show()});(function(){var d=$(document.body),h=Object.prototype.toString,c=function(k){return h.apply(k)==="[object String]"};function g(l,k,m){d.append(k=$('<div style="position:fixed;top:-10000px;left:-10000px"></div>').append(l=$(l).clone()));m={height:l.height(),width:l.width()};k.remove();return m}function f(m,l,k){m.width(l.width).height(Math.floor(l.width*k))}function j(m,l,k){m.height(l.height).width(Math.floor(l.height/k))}function e(m,l){m=$(m);m.removeAttr("height").removeAttr("width");var n=m.data("current-dimensions")||g(m),k;n.height=+n.height;n.width=+n.width;k=n.height/n.width;if(n.width<=l.width&&n.height<=l.height){return}if(n.width>l.width&&n.height<=l.height){f(m,l,k);return}if(n.width<=l.width&&n.height>l.height){j(m,l,k);return}if((l.width*k)<=l.height){f(m,l,k);return}j(m,l,k)}window.booking.fitImage=e})();B.search=(function(){var e={checkout:null,checkin:null,"checkout-month":null,"checkin-month":null},c={term:null,ufi:null};function g(h){if(!(h instanceof Date||typeof h==="string")){return false}if(h.getTime&&isNaN(h.getTime())){return false}return h}function f(j,k){var h;if(!j){return false}if(typeof e[j]==="undefined"){return false}if(!k){return e[j]}else{if(k instanceof Date){h=g(k);if(h&&(!e[j]||(e[j].getTime()!==h.getTime()))){e[j]=h;e[j+"-month"]=h.getMonth()+"-"+h.getFullYear();B.eventEmitter.trigger("SEARCH:date_changed",{type:j,value:h})}}else{if(typeof k==="string"){h=g(k);if(e[j+"-month"]!==h){e[j+"-month"]=h;B.eventEmitter.trigger("SEARCH:month_changed",{type:j,value:h})}}}}}function d(h){if(!h){return c}if(c.term!==h.term){c.term=h.term;c.data=h.data;B.eventEmitter.trigger("SEARCH:destination_selected",c)}}return{dates:f,destination:d}}());booking.ensureNamespaceExists(sNSStartup);booking[sNSStartup].initSearchValues={init:function(){var c,d;function f(h,g){var k=g.split("-"),j=new Date(k[0],k[1]-1,h,0,0,0,0);if(isNaN(j.getTime())){return false}return j}function e(h){var j=h.split("-"),g=new Date(j[0],j[1]-1,j[2],0,0,0,0);if(isNaN(g.getTime())){return false}return g}if(B.env.s_value_checkin_monthday&&B.env.s_value_checkin_year_month){c=f(B.env.s_value_checkin_monthday,B.env.s_value_checkin_year_month);if(c){B.search.dates("checkin",c)}}else{if(B.env.b_checkin_date){c=e(B.env.b_checkin_date);if(c){B.search.dates("checkin",c)}}}if(B.env.s_value_checkout_monthday&&B.env.s_value_checkout_year_month){d=f(B.env.s_value_checkout_monthday,B.env.s_value_checkout_year_month);if(d){B.search.dates("checkout",d)}}else{if(B.env.b_checkout_date){d=e(B.env.b_checkout_date);if(d){B.search.dates("checkout",d)}}}}};jQuery.cookie=function(d,l,o){if(typeof l!="undefined"){o=o||{};if(l===null){l="";o=$.extend({},o);o.expires=-1}var g="";if(o.expires&&(typeof o.expires=="number"||o.expires.toUTCString)){var h;if(typeof o.expires=="number"){h=new Date();h.setTime(h.getTime()+(o.expires*24*60*60*1000))}else{h=o.expires}g="; expires="+h.toUTCString()}var n=o.path?"; path="+(o.path):"";var j=o.domain?"; domain="+(o.domain):"";var c=o.secure?"; secure":"";document.cookie=[d,"=",encodeURIComponent(l),g,n,j,c].join("")}else{var f=null;if(document.cookie&&document.cookie!=""){var m=document.cookie.split(";");for(var k=0;k<m.length;k++){var e=jQuery.trim(m[k]);if(e.substring(0,d.length+1)==(d+"=")){f=decodeURIComponent(e.substring(d.length+1));break}}}return f}};jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(f,g,e,j,h){return jQuery.easing[jQuery.easing.def](f,g,e,j,h)},easeInQuad:function(f,g,e,j,h){return j*(g/=h)*g+e},easeOutQuad:function(f,g,e,j,h){return -j*(g/=h)*(g-2)+e},easeInOutQuad:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g+e}return -j/2*((--g)*(g-2)-1)+e},easeInCubic:function(f,g,e,j,h){return j*(g/=h)*g*g+e},easeOutCubic:function(f,g,e,j,h){return j*((g=g/h-1)*g*g+1)+e},easeInOutCubic:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g*g+e}return j/2*((g-=2)*g*g+2)+e},easeInQuart:function(f,g,e,j,h){return j*(g/=h)*g*g*g+e},easeOutQuart:function(f,g,e,j,h){return -j*((g=g/h-1)*g*g*g-1)+e},easeInOutQuart:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g*g*g+e}return -j/2*((g-=2)*g*g*g-2)+e},easeInQuint:function(f,g,e,j,h){return j*(g/=h)*g*g*g*g+e},easeOutQuint:function(f,g,e,j,h){return j*((g=g/h-1)*g*g*g*g+1)+e},easeInOutQuint:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g*g*g*g+e}return j/2*((g-=2)*g*g*g*g+2)+e},easeInSine:function(f,g,e,j,h){return -j*Math.cos(g/h*(Math.PI/2))+j+e},easeOutSine:function(f,g,e,j,h){return j*Math.sin(g/h*(Math.PI/2))+e},easeInOutSine:function(f,g,e,j,h){return -j/2*(Math.cos(Math.PI*g/h)-1)+e},easeInExpo:function(f,g,e,j,h){return(g==0)?e:j*Math.pow(2,10*(g/h-1))+e},easeOutExpo:function(f,g,e,j,h){return(g==h)?e+j:j*(-Math.pow(2,-10*g/h)+1)+e},easeInOutExpo:function(f,g,e,j,h){if(g==0){return e}if(g==h){return e+j}if((g/=h/2)<1){return j/2*Math.pow(2,10*(g-1))+e}return j/2*(-Math.pow(2,-10*--g)+2)+e},easeInCirc:function(f,g,e,j,h){return -j*(Math.sqrt(1-(g/=h)*g)-1)+e},easeOutCirc:function(f,g,e,j,h){return j*Math.sqrt(1-(g=g/h-1)*g)+e},easeInOutCirc:function(f,g,e,j,h){if((g/=h/2)<1){return -j/2*(Math.sqrt(1-g*g)-1)+e}return j/2*(Math.sqrt(1-(g-=2)*g)+1)+e},easeInElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e},easeOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return g*Math.pow(2,-10*h)*Math.sin((h*l-j)*(2*Math.PI)/k)+m+e},easeInOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l/2)==2){return e+m}if(!k){k=l*(0.3*1.5)}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k)*0.5+m+e},easeInBack:function(f,g,e,k,j,h){if(h==undefined){h=1.70158}return k*(g/=j)*g*((h+1)*g-h)+e},easeOutBack:function(f,g,e,k,j,h){if(h==undefined){h=1.70158}return k*((g=g/j-1)*g*((h+1)*g+h)+1)+e},easeInOutBack:function(f,g,e,k,j,h){if(h==undefined){h=1.70158}if((g/=j/2)<1){return k/2*(g*g*(((h*=(1.525))+1)*g-h))+e}return k/2*((g-=2)*g*(((h*=(1.525))+1)*g+h)+2)+e},easeInBounce:function(f,g,e,j,h){return j-jQuery.easing.easeOutBounce(f,h-g,0,j,h)+e},easeOutBounce:function(f,g,e,j,h){if((g/=h)<(1/2.75)){return j*(7.5625*g*g)+e}else{if(g<(2/2.75)){return j*(7.5625*(g-=(1.5/2.75))*g+0.75)+e}else{if(g<(2.5/2.75)){return j*(7.5625*(g-=(2.25/2.75))*g+0.9375)+e}else{return j*(7.5625*(g-=(2.625/2.75))*g+0.984375)+e}}}},easeInOutBounce:function(f,g,e,j,h){if(g<h/2){return jQuery.easing.easeInBounce(f,g*2,0,j,h)*0.5+e}return jQuery.easing.easeOutBounce(f,g*2-h,0,j,h)*0.5+j*0.5+e}});
/*!
* jQuery hashchange event - v1.3 - 7/21/2010
* http://benalman.com/projects/jquery-hashchange-plugin/
* 
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/
(function($,g,d){var e="hashchange",k=document,h,j=$.event.special,l=k.documentMode,f="on"+e in g&&(l===d||l>7);function c(m){m=m||location.href;return"#"+m.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[e]=function(m){return m?this.bind(e,m):this.trigger(e)};$.fn[e].delay=50;j[e]=$.extend(j[e],{setup:function(){if(f){return false}$(h.start)},teardown:function(){if(f){return false}$(h.stop)}});h=(function(){var m={},t,p=c(),n=function(u){return u},o=n,r=n;m.start=function(){t||q()};m.stop=function(){t&&clearTimeout(t);t=d};function q(){var v=c(),u=r(p);if(v!==p){o(p=v,u);$(g).trigger(e)}else{if(u!==p){location.href=location.href.replace(/#.*/,"")+u}}t=setTimeout(q,$.fn[e].delay)}$.browser.msie&&!f&&(function(){var u,v;m.start=function(){if(!u){v=$.fn[e].src;v=v&&v+c();u=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){v||o(c());q()}).attr("src",v||"javascript:0").insertAfter("body")[0].contentWindow;k.onpropertychange=function(){try{if(event.propertyName==="title"){u.document.title=k.title}}catch(w){}}}};m.stop=n;r=function(){return c(u.location.href)};o=function(z,w){var y=u.document,x=$.fn[e].domain;if(z!==w){y.title=k.title;y.open();x&&y.write('<script>document.domain="'+x+'"<\/script>');y.close();u.location.hash=z}}})();return m})()})(jQuery,window);(function(c){c.fn.hint=function(d){if(!d){d="blur"}return this.each(function(){var j=c(this),g=j.attr("title"),f=c(this.form),h=c(window);function e(){if(j.val()===g&&j.hasClass(d)){j.val("").removeClass(d)}}if(g){j.blur(function(){if(this.value===""){j.val(g).addClass(d)}}).focus(e).blur();f.submit(e);h.unload(e)}})}})(jQuery);if(!booking.env.no_search_placeholder_ie){$("input#destination:text").hint();$("input#keyword.faq_search_input").hint()}(function(h,g,m){var l=g.event,k;l.special.smartresize={setup:function(){g(this).bind("resize",l.special.smartresize.handler)},teardown:function(){g(this).unbind("resize",l.special.smartresize.handler)},handler:function(e,p){var o=this,n=arguments;e.type="smartresize",k&&clearTimeout(k),k=setTimeout(function(){g.event.handle.apply(o,n)},p==="execAsap"?0:100)}},g.fn.smartresize=function(c){return c?this.bind("smartresize",c):this.trigger("smartresize",["execAsap"])},g.Mason=function(d,e){this.element=g(e),this._create(d),this._init()},g.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},g.Mason.prototype={_filterFindBricks:function(d){var c=this.options.itemSelector;return c?d.filter(c).add(d.find(c)):d},_getBricks:function(d){var c=this._filterFindBricks(d).css({position:"absolute"}).addClass("masonry-brick");return c},_create:function(r){this.options=g.extend(!0,{},g.Mason.settings,r),this.styleQueue=[];var q=this.element[0].style;this.originalStyle={height:q.height||""};var p=this.options.containerStyle;for(var o in p){this.originalStyle[o]=q[o]||""}this.element.css(p),this.horizontalDirection=this.options.isRTL?"right":"left",this.offset={x:parseInt(this.element.css("padding-"+this.horizontalDirection),10),y:parseInt(this.element.css("padding-top"),10)},this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth=="function";var n=this;setTimeout(function(){n.element.addClass("masonry")},0),this.options.isResizable&&g(h).bind("smartresize.masonry",function(){n.resize()}),this.reloadItems()},_init:function(c){this._getColumns(),this._reLayout(c)},option:function(d,e){g.isPlainObject(d)&&(this.options=g.extend(!0,this.options,d))},layout:function(w,v){for(var u=0,t=w.length;u<t;u++){this._placeBrick(w[u])}var r={};r.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var q=0;u=this.cols;while(--u){if(this.colYs[u]!==0){break}q++}r.width=(this.cols-q)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:r});var p=this.isLaidOut?this.options.isAnimated?"animate":"css":"css",o=this.options.animationOptions,n;for(u=0,t=this.styleQueue.length;u<t;u++){n=this.styleQueue[u],n.$el[p](n.style,o)}this.styleQueue=[],v&&v.call(w),this.isLaidOut=!0},_getColumns:function(){var d=this.options.isFitWidth?this.element.parent():this.element,c=d.width();this.columnWidth=this.isFluid?this.options.columnWidth(c):this.options.columnWidth||this.$bricks.outerWidth(!0)||c,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((c+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(E){var D=g(E),C,A,z,y,x;C=Math.ceil(D.outerWidth(!0)/this.columnWidth),C=Math.min(C,this.cols);if(C===1){z=this.colYs}else{A=this.cols+1-C,z=[];for(x=0;x<A;x++){y=this.colYs.slice(x,x+C),z[x]=Math.max.apply(Math,y)}}var w=Math.min.apply(Math,z),v=0;for(var u=0,t=z.length;u<t;u++){if(z[u]===w){v=u;break}}var r={top:w+this.offset.y};r[this.horizontalDirection]=this.columnWidth*v+this.offset.x,this.styleQueue.push({$el:D,style:r});var q=w+D.outerHeight(!0),p=this.cols+1-t;for(u=0;u<p;u++){this.colYs[v+u]=q}},resize:function(){var c=this.cols;this._getColumns(),(this.isFluid||this.cols!==c)&&this._reLayout()},_reLayout:function(d){var c=this.cols;this.colYs=[];while(c--){this.colYs.push(0)}this.layout(this.$bricks,d)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(c){this.reloadItems(),this._init(c)},appended:function(f,e,o){if(e){this._filterFindBricks(f).css({top:this.element.height()});var n=this;setTimeout(function(){n._appended(f,o)},1)}else{this._appended(f,o)}},_appended:function(e,d){var f=this._getBricks(e);this.$bricks=this.$bricks.add(f),this.layout(f,d)},remove:function(c){this.$bricks=this.$bricks.not(c),c.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var f=this.element[0].style;for(var e in this.originalStyle){f[e]=this.originalStyle[e]}this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),g(h).unbind(".masonry")}},g.fn.imagesLoaded=function(n){function p(){n.call(v,u)}function o(d){var e=d.target;e.src!==r&&g.inArray(e,q)===-1&&(q.push(e),--t<=0&&(setTimeout(p),u.unbind(".imagesLoaded",o)))}var v=this,u=v.find("img").add(v.filter("img")),t=u.length,r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",q=[];return t||p(),u.bind("load.imagesLoaded error.imagesLoaded",o).each(function(){var c=this.src;this.src=r,this.src=c}),v};var j=function(c){h.console&&h.console.error(c)};g.fn.masonry=function(d){if(typeof d=="string"){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var c=g.data(this,"masonry");if(!c){j("cannot call methods on masonry prior to initialization; attempted to call method '"+d+"'");return}if(!g.isFunction(c[d])||d.charAt(0)==="_"){j("no such method '"+d+"' for masonry instance");return}c[d].apply(c,e)})}else{this.each(function(){var f=g.data(this,"masonry");f?(f.option(d||{}),f._init()):g.data(this,"masonry",new g.Mason(d,this))})}return this}})(window,jQuery);(function(d){var c=false;d.extend({noticeAdd:function(g){if(!d.canShowNotice()){return false}var l={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:3000,text:"",stay:false,type:"notice",destination:"",platform:"mac",addClassName:""};var g,m,k,h,f,e;g=d.extend({},l,g);if(typeof booking.env.b_site_experiment_ipad_improvements!="undefined"&&booking.env.b_site_experiment_ipad_improvements){return}var j=navigator&&navigator.platform&&(navigator.platform.indexOf("Mac")==-1&&navigator.platform.indexOf("iPad")==-1&&navigator.platform.indexOf("iPhone")==-1);if(j){g.platform="win"}if(!d(".notice-wrap").length){m=d("<div></div>").addClass("notice-wrap").addClass(g.platform).appendTo("body");m[0].id="growl_squash"}else{m=d(".notice-wrap")}if(booking.track.getVariant("YVVPCQMWUFXPdePUWe")){m.addClass("openGrowl").addClass("__squashed")}k=d("<div></div>").addClass("notice-item-wrapper");e=(g.destination=="")?"<p>"+g.text+"</p>":'<p><a href="'+g.destination+'">'+g.text+"</a></p>";if(g.close=="all"){h=d("<div></div>").hide().addClass("notice-item "+g.type+" "+g.addClassName).appendTo(m).html(e).animate(g.inEffect,g.inEffectDuration).wrap(k).click(function(o){if(booking.env.b_action==="hotel"){var n=JSON.parse($.cookie("bs"))||{};n.gc=1;if(typeof(JSON)!="undefined"){$.cookie("bs",JSON.stringify(n),{path:"/",domain:booking.env.b_domain_end})}}booking.google.trackEvent(booking.google.clickTracker,"growl_removed",o&&o.target&&$(o.target).closest(".notice-item-close-x").length?"x":"message");d.noticeRemove(h,g.addClassName,false,true);d.setCookieOnClose();return false});f=d("<div></div>").addClass("notice-item-close-x").prependTo(h)}else{h=d("<div></div>").hide().addClass("notice-item "+g.type).appendTo(m).html(e).animate(g.inEffect,g.inEffectDuration).wrap(k);f=d("<div></div>").addClass("notice-item-close-x").prependTo(h).click(function(){d.noticeRemove(h,false,false,true);d.setCookieOnClose();if(g.type=="language"){if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})}}return false})}if(g.type=="language"){$(".notice-item p").css("cursor","pointer");$(".notice-item p").click(function(){$("#langselectformlist").val(booking.env.browser_lang);$("#languageselect")[0].submit();d.noticeRemove(h);return false})}if(navigator.userAgent.match(/MSIE 6/i)){m.css({top:document.documentElement.scrollTop})}if(!g.stay){setTimeout(function(){d.noticeRemove(h,"",1)},g.stayTime)}},noticeAddBig:function(f){if(!d.canShowNotice()){return false}var j={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:3000,text:"",stay:false,type:"notice"};var f,k,h,g,e;f=d.extend({},j,f);k=(!d(".notice-wrap").length)?d("<div></div>").addClass("notice-wrap").appendTo("body"):d(".notice-wrap");h=d("<div></div>").addClass("notice-item-wrapper");g=d("<div></div>").hide().addClass("notice-item-big "+f.type).appendTo(k).html("<p>"+f.text+"</p>").animate(f.inEffect,f.inEffectDuration).wrap(h);e=d("<div></div>").addClass("notice-item-close").prependTo(g).html("x").click(function(){d.noticeRemove(g)});if(navigator.userAgent.match(/MSIE 6/i)){k.css({top:document.documentElement.scrollTop})}if(!f.stay){setTimeout(function(){d.noticeRemove(g)},f.stayTime)}},noticeRemove:function(g,f,e,j){var h=$("#growl_squash");if(booking.track.getVariant("YVVPCQMWUFXPdePUWe")&&(h.find(".notice-item").length==1||e)){setTimeout(function(){h.removeClass("openGrowl")},400)}if(j){c=true}g.animate({opacity:"0"},600,function(){g.parent().animate({height:"0px"},300,function(){g.parent().remove()})});if(f&&f!=""){$("."+f).removeClass(f)}},canShowNotice:function(){if(c){B.track.exp(["YVVPCOOJMWOMSbZFUGBeQEHT"])}if(booking.env.growl_not_show_on_close_sitewide){var e=$.cookie("gcsw")||false;if(e){return false}else{return true}}else{return true}},setCookieOnClose:function(){if(booking.env.growl_not_show_on_close_sitewide){$.cookie("gcsw","1",{path:"/",domain:booking.env.b_domain_end});return true}else{return false}}})})(jQuery);jQuery.fn.pulse=function(c,f,d,j,l){if(isNaN(d)){l=j;j=d;d=1}var k=jQuery.speed(f,j,l),h=k.queue!==false,g=0;for(var e in c){g=Math.max(c[e].length,g)}k.times=k.times||d;return this[h?"queue":"each"](function(){var o={},n=jQuery.extend({},k),m=jQuery(this);p();function p(){var t={},q=false;for(var r in c){o[r]=o[r]||{runs:0,cur:-1};if(o[r].cur<c[r].length-1){++o[r].cur}else{o[r].cur=0;++o[r].runs}if(c[r].length===g){q=n.times>o[r].runs}t[r]=c[r][o[r].cur]}n.complete=p;n.queue=false;if(q){m.animate(t,n)}else{k.complete.call(m[0])}}})};(function(f){var c=f.scrollTo=function(d,g,h){f(window).scrollTo(d,g,h)};c.defaults={axis:"xy",duration:parseFloat(f.fn.jquery)>=1.3?0:1};c.window=function(d){return f(window)._scrollable()};f.fn._scrollable=function(){return this.map(function(){var d=this,g=!d.nodeName||f.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!g){return d}var h=(d.contentWindow||d).document||d.ownerDocument||d;return f.browser.safari||h.compatMode=="BackCompat"?h.body:h.documentElement})};f.fn.scrollTo=function(h,g,d){if(typeof g=="object"){d=g;g=0}if(typeof d=="function"){d={onAfter:d}}if(h=="max"){h=9000000000}d=f.extend({},c.defaults,d);g=g||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){g/=2}d.offset=e(d.offset);d.over=e(d.over);return this._scrollable().each(function(){var p=this,n=f(p),o=h,l,m={},j=n.is("html,body");switch(typeof o){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(o)){o=e(o);break}o=f(o,this);case"object":if(o.is||o.style){l=(o=f(o)).offset()}}f.each(d.axis.split(""),function(t,u){var w=u=="x"?"Left":"Top",v=w.toLowerCase(),y="scroll"+w,r=p[y],q=c.max(p,u);if(l){m[y]=l[v]+(j?0:r-n.offset()[v]);if(d.margin){m[y]-=parseInt(o.css("margin"+w))||0;m[y]-=parseInt(o.css("border"+w+"Width"))||0}m[y]+=d.offset[v]||0;if(d.over[v]){m[y]+=o[u=="x"?"width":"height"]()*d.over[v]}}else{var x=o[v];if(!x){return false}m[y]=x.slice&&x.slice(-1)=="%"?parseFloat(x)/100*q:x}if(/^\d+$/.test(m[y])){m[y]=m[y]<=0?0:Math.min(m[y],q)}if(!t&&d.queue){if(r!=m[y]){k(d.onAfterFirst)}delete m[y]}});k(d.onAfter);function k(q){n.animate(m,g,d.easing,q&&function(){q.call(this,h,d)})}}).end()};c.max=function(j,k){var o=k=="x"?"Width":"Height",n="scroll"+o;if(!f(j).is("html,body")){return j[n]-f(j)[o.toLowerCase()]()}var p="client"+o,g=j.ownerDocument.documentElement,d=j.ownerDocument.body;return Math.max(g[n],d[n])-Math.min(g[p],d[p])};function e(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);
/*!
* accounting.js v0.3.2
* Copyright 2011, Joss Crowcroft
*
* Freely distributable under the MIT license.
* Portions of accounting.js are inspired or borrowed from underscore.js
*
* Full details and documentation:
* http://josscrowcroft.github.com/accounting.js/
*/
(function(r,j){var q={};q.version="0.3.2";q.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var t=Array.prototype.map,m=Array.isArray,h=Object.prototype.toString;function e(v){return !!(v===""||(v&&v.charCodeAt&&v.substr))}function n(v){return m?m(v):h.call(v)==="[object Array]"}function u(v){return v&&h.call(v)==="[object Object]"}function k(w,v){var x;w=w||{};v=v||{};for(x in v){if(v.hasOwnProperty(x)){if(w[x]==null){w[x]=v[x]}}}return w}function c(A,z,y){var x=[],w,v;if(!A){return x}if(t&&A.map===t){return A.map(z,y)}for(w=0,v=A.length;w<v;w++){x[w]=z.call(y,A[w],w,A)}return x}function o(w,v){w=Math.round(Math.abs(w));return isNaN(w)?v:w}function g(w){var v=q.settings.currency.format;if(typeof w==="function"){w=w()}if(e(w)&&w.match("%v")){return{pos:w,neg:w.replace("-","").replace("%v","-%v"),zero:w}}else{if(!w||!w.pos||!w.pos.match("%v")){return(!e(v))?v:q.settings.currency.format={pos:v,neg:v.replace("%v","-%v"),zero:v}}}return w}var l=q.unformat=q.parse=function(y,v){if(n(y)){return c(y,function(z){return l(z,v)})}y=y||0;if(typeof y==="number"){return y}v=v||q.settings.number.decimal;var x=new RegExp("[^0-9-"+v+"]",["g"]),w=parseFloat((""+y).replace(/\((.*)\)/,"-$1").replace(x,"").replace(v,"."));return !isNaN(w)?w:0};var d=q.toFixed=function(x,v){v=o(v,q.settings.number.precision);var w=Math.pow(10,v);return(Math.round(q.unformat(x)*w)/w).toFixed(v)};var f=q.formatNumber=function(x,A,E,z){if(n(x)){return c(x,function(F){return f(F,A,E,z)})}x=l(x);var v=k((u(A)?A:{precision:A,thousand:E,decimal:z}),q.settings.number),C=o(v.precision),y=x<0?"-":"",w=parseInt(d(Math.abs(x||0),C),10)+"",D=w.length>3?w.length%3:0;return y+(D?w.substr(0,D)+v.thousand:"")+w.substr(D).replace(/(\d{3})(?=\d)/g,"$1"+v.thousand)+(C?v.decimal+d(Math.abs(x),C).split(".")[1]:"")};var p=q.formatMoney=function(x,w,z,E,y,D){if(n(x)){return c(x,function(F){return p(F,w,z,E,y,D)})}x=l(x);var v=k((u(w)?w:{symbol:w,precision:z,thousand:E,decimal:y,format:D}),q.settings.currency),C=g(v.format),A=x>0?C.pos:x<0?C.neg:C.zero;return A.replace("%s",v.symbol).replace("%v",f(Math.abs(x),o(v.precision),v.thousand,v.decimal))};q.formatColumn=function(D,x,A,G,z,F){if(!D){return[]}var v=k((u(x)?x:{symbol:x,precision:A,thousand:G,decimal:z,format:F}),q.settings.currency),E=g(v.format),C=E.pos.indexOf("%s")<E.pos.indexOf("%v")?true:false,w=0,y=c(D,function(K,I){if(n(K)){return q.formatColumn(K,v)}else{K=l(K);var H=K>0?E.pos:K<0?E.neg:E.zero,J=H.replace("%s",v.symbol).replace("%v",f(Math.abs(K),o(v.precision),v.thousand,v.decimal));if(J.length>w){w=J.length}return J}});return c(y,function(I,H){if(e(I)&&I.length<w){return C?I.replace(v.symbol,v.symbol+(new Array(w-I.length+1).join(" "))):(new Array(w-I.length+1).join(" "))+I}return I})};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=q}exports.accounting=q}else{if(typeof define==="function"&&define.amd){define([],function(){return q})}else{q.noConflict=(function(v){return function(){r.accounting=v;q.noConflict=j;return q}})(r.accounting);r.accounting=q}}}(this));if(!window.console){window.console=new function(){this.log=function(c){};this.dir=function(c){};this.debug=function(c){};this.info=function(c){};this.warn=function(c){};this.table=function(c){};this.trace=function(){};this.time=function(c){};this.timeEnd=function(c){};this.info=function(c){}}}booking[sNSStartup].anchorJump={priority:9,init:function(){if($("#newsletterbox .error").length){location.href=location.href+"#errormsg"}$(".forgotten a, a.forgotten").click(function(){window.open(this.href,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width=500,height=500,left=200,top=200");return false})}};booking.browserStorageHandler=(function(g,c,d){var j=(g.localStorage&&g.sessionStorage?true:false);if(j){try{g.localStorage.setItem("btest","1")}catch(h){j=false}}var f={_readCookie:function(e){if(typeof(JSON)!=="undefined"){return JSON.parse($.cookie(e))||{}}},_modifySingleValue:function(o,m,e,t,l){if(!m||!e){return}if(j&&!l){var n=(o==="session"?g.sessionStorage:g.localStorage);if(m==="delete"){n.removeItem(e)}else{n.setItem(e,t)}}else{var q,k,r,p;if(o==="session"){q="bs"}else{q="b";p=30}k=this._readCookie(q);if(m==="delete"){delete k[e]}else{k[e]=t}if($.isEmptyObject(k)){r=null}else{r=JSON.stringify(k)}$.cookie(q,r,{expires:p,path:"/",domain:d.b_domain_end})}},_getValue:function(n,k,l){if(!k){return undefined}if(j&&!l){var m=(n==="session"?g.sessionStorage:g.localStorage);return m.getItem(k)}else{var o,e;if(n==="session"){o="bs"}else{o="b"}e=this._readCookie(o);return e[k]}}};return{addSessionValue:function(e,l,k){return f._modifySingleValue("session","add",e,l,k)},deleteSessionValue:function(e,k){return f._modifySingleValue("session","delete",e,undefined,k)},getSessionValue:function(e,k){return f._getValue("session",e,k)},addPermanentValue:function(e,l,k){return f._modifySingleValue("permament","add",e,l,k)},deletePermanentValue:function(e,k){return f._modifySingleValue("permanent","delete",e,undefined,k)},getPermanentValue:function(e,k){return f._getValue("permanent",e,k)}}})(window,document,booking.env);(function(){var j=booking.env,h="",e=j.b_timestamp*1000,d=false,c=Math.abs(+new Date()-new Date(e))>=24*3600*1000,f=typeof j.bse_dirty_dates!=="undefined"&&c,k=j.bse_dirty_dates&&c,g=booking[sNSStartup].calendar={priority:9,version:1.4,datefmt:"YYYY MM DD",minimalDays:1,maximalDays:30,oldDays:1,from:{date:null,day:null,month:null,year:null},till:{date:null,day:null,month:null,year:null},viewDateFrom:k?new Date(e):new Date(),viewDateTill:k?new Date(e):new Date(),oneDayInMS:86400000,calendars:[],calendarTypes:{checkin_day:{isTill:false,isDay:true},checkin_monthday:{isTill:false,isDay:true},checkin_year_month:{isTill:false,isDay:false},pre_checkin_year_month:{isTill:false,isDay:false},checkout_day:{isTill:true,isDay:true},checkout_monthday:{isTill:true,isDay:true},checkout_year_month:{isTill:true,isDay:false},pre_checkout_year_month:{isTill:true,isDay:false},start_monthday:{isTill:false,isDay:true},start_year_month:{isTill:false,isDay:false},end_monthday:{isTill:true,isDay:true},end_year_month:{isTill:true,isDay:false}},maxMonthsInFuture:12,maxDaysInFuture:365,maxDaysInThePast:1,syncDate:null,userServDate:false,hasDataRange:false,dateFormat:function(r,E,x){var t=/D{1,4}|M{1,4}|YY(?:YY)?/g,q=function(y,m){y=String(y);m=m||2;while(y.length<m){y="0"+y}return y};var p=this;if(arguments.length==1&&Object.prototype.toString.call(r)=="[object String]"&&!/\d/.test(r)){E=r;r=undefined}r=r?new Date(r):new Date;if(isNaN(r)){throw SyntaxError("invalid date")}E=String(E||p.datefmt);if(E.slice(0,4)=="UTC:"){E=E.slice(4);x=true}var A=x?"getUTC":"get",v=r[A+"Date"](),l=r[A+"Day"](),o=r[A+"Month"](),w=r[A+"FullYear"](),z=r[A+"Hours"](),u=r[A+"Minutes"](),C=r[A+"Seconds"](),n={D:v,DD:q(v),DDD:j.b_simple_weekdays_for_js[(l+6)%7],DDDD:j.b_long_weekdays[(l+6)%7],M:o+1,MM:q(o+1),MMM:j.b_short_months_abbr[o],MMMM:j.b_short_months[o],YY:String(w).slice(2),YYYY:w};return E.replace(t,function(m){return m in n?n[m]:m.slice(1,m.length-1)})},searchMinDays:function(l){this.minimalDays=l},maxYearsInFuture:function(){this.today=(k)?this.noHourDate(new Date(e)):this.noHourDate(null);this.maxMonthsInFuture=12;this.maxDaysInFuture=parseInt(j.calendar_days_allowed_number);if(j.b_site_experiment_rolling_calendar_year){if(this.maxMonthsInFuture<13){this.maxMonthsInFuture=13}}this.tomorrow=this.dateAfterDays(this.today,1);this.endOfYear1=this.dateAfterDays(this.today,this.maxDaysInFuture);this.endOfYear2=this.dateAfterDays(this.today,this.maxDaysInFuture-1)},setPast:function(l){this.maxDaysInThePast=l},syncDates:function(l,m,r,o,q){$(".b_check_blocked").removeClass("b_check_blocked");if(!q){$("#availcheck").attr("checked",false);$("#define_group input, #define_group select").removeAttr("disabled");$("#define_group").removeClass("disableme")}if(l){this.till.day=(m==null)?this.till.day:m;this.till.month=(r==null)?this.till.month:r;this.till.year=(o==null)?this.till.year:o;if(this.till.day!=null&&this.till.month!=null&&this.till.year!=null){this.till.date=new Date(this.till.year+"/"+this.till.month+"/"+this.till.day+" 00:00:00");this.viewDateTill=new Date(this.till.year+"/"+this.till.month+"/"+this.till.day+" 00:00:00")}}else{this.hasDataRange=true;this.from.day=(m==null)?this.from.day:m;this.from.month=(r==null)?this.from.month:r;this.from.year=(o==null)?this.from.year:o;if(this.from.day!=null&&this.from.month!=null&&this.from.year!=null){this.from.date=new Date(this.from.year+"/"+this.from.month+"/"+this.from.day+" 00:00:00");this.viewDateFrom=new Date(this.from.year+"/"+this.from.month+"/"+this.from.day+" 00:00:00")}}var p=false;if(!l&&this.from.date!=null){if(this.till.date!=null){if(this.till.date<=this.from.date){if(booking.env.b_site_experiment_av_calendar&&booking.avCalendar.isCheckInAvailable(this.from)){this.till.date=new Date(booking.avCalendar.getFirstAvailableCheckOut(this.from)+" 00:00:00")}else{this.till.date=this.dateAfterDays(this.from.date,this.oldDays)}p=true}else{if(booking.env.b_site_experiment_clip_checkout_day_dropdown){if(booking.env.b_site_experiment_clip_checkout_day_dropdown=="2"){this.till.date=this.dateAfterDays(this.from.date,this.oldDays)}p=true}if(booking.env.b_site_experiment_av_calendar&&booking.avCalendar.isCheckOutAvailable(this.from,this.till)===false){this.till.date=new Date(booking.avCalendar.getFirstAvailableCheckOut(this.from)+" 00:00:00");p=true}}}else{if(!q){if(booking.env.b_site_experiment_av_calendar&&booking.avCalendar.isCheckInAvailable(this.from)){this.till.date=new Date(booking.avCalendar.getFirstAvailableCheckOut(this.from)+" 00:00:00")}else{this.till.date=this.dateAfterDays(this.from.date,this.minimalDays)}p=true}}}else{if(l&&this.till.date!=null){if(this.from.date==null){if(!q){this.from.date=this.dateAfterDays(this.till.date,~(this.minimalDays-1));p=true}}}}if(p){if(!l){this.till.year=this.till.date.getFullYear();this.till.month=this.till.date.getMonth()+1;this.till.day=this.till.date.getDate();this.viewDateTill=new Date(this.till.year+"/"+this.till.month+"/"+this.till.day+" 00:00:00")}else{this.from.year=this.from.date.getFullYear();this.from.month=this.from.date.getMonth()+1;this.from.day=this.from.date.getDate();this.viewDateFrom=new Date(this.from.year+"/"+this.from.month+"/"+this.from.day+" 00:00:00")}}for(var n=0;n<this.calendars.length;n++){$(this.calendars[n]).trigger("changed_date",[l,p])}booking.eventEmitter.trigger("CALENDAR:dates_changed",{type:(l)?"checkout":"checkin",otherChanged:p,oldApi:this})},updateCalendarTables:function(l){if($(l).hasClass("calendarTill")){this.rebuildCalendarTable($("table",l).get(0),true,this.viewDateTill.getMonth()+1,this.viewDateTill.getFullYear())}else{this.rebuildCalendarTable($("table",l).get(0),false,this.viewDateFrom.getMonth()+1,this.viewDateFrom.getFullYear())}},init:function(){if(this.calendarReady){return}this.calendarReady=true;this.maxYearsInFuture();this.initAddHandlers()},initAddHandlers:function(){var l=this;$("select").each(function(){if(l.calendarTypes[$(this).attr("name")]){l.calendars.push(this);var m=$(this).val();if(m!="0"){var o=l.calendarTypes[$(this).attr("name")];if(o.isDay){if(o.isTill){l.till.day=m}else{l.from.day=m}}else{var n=m?m.split("-"):"";if(n.length&&n.length>0){if(o.isTill){l.till.year=n[0];l.till.month=n[1]}else{l.from.year=n[0];l.from.month=n[1]}}}}$(this).bind("changed_date",function(q,p,t){$("input",this.parentNode).each(function(){if(l.calendarTypes[$(this).attr("name")]){var u=l.calendarTypes[$(this).attr("name")];if(u.isDay&&u.isTill&&l.till.day!=null){$(this).val(l.till.day)}if(u.isDay&&!u.isTill&&l.from.day!=null){$(this).val(l.from.day)}if(!u.isDay&&u.isTill&&l.till.month!=null&&l.till.year!=null){$(this).val(l.till.year+"-"+l.till.month)}if(!u.isDay&&!u.isTill&&l.from.month!=null&&l.from.year!=null){$(this).val(l.from.year+"-"+l.from.month)}}});var r=l.calendarTypes[$(this).attr("name")];if(((p||t)&&r.isTill)||((!p||t)&&!r.isTill)){if(r.isDay){if((r.isTill&&l.till.year!=null&&l.till.month!=null)||(!r.isTill&&l.from.year!=null&&l.from.month!=null)){l.rebuildDaySelect(this,r.isTill)}}else{if(r.isTill&&l.till.year!=null&&l.till.month!=null){l.selectOption(this,l.till.year+"-"+l.till.month)}else{if(!r.isTill&&l.from.year!=null&&l.from.month!=null){l.selectOption(this,l.from.year+"-"+l.from.month)}}}}});$(this).change(function(){var t=l.calendarTypes[$(this).attr("name")];var r=$(this).val();var q=r.split("-");if(r!="0"){if($(this).parents(".newcalendar").length){var p=$(this).parents(".newcalendar");if(q.length&&q.length>1){if($(this).parents(".calendarTill").length){l.viewDateTill=new Date(q[0]+"/"+q[1]+"/"+l.viewDateTill.getDate()+" 00:00:00");l.rebuildCalendarTable($("table",p).get(0),true,l.viewDateTill.getMonth()+1,l.viewDateTill.getFullYear())}else{l.viewDateFrom=new Date(q[0]+"/"+q[1]+"/"+l.viewDateFrom.getDate()+" 00:00:00");l.rebuildCalendarTable($("table",p).get(0),false,l.viewDateFrom.getMonth()+1,l.viewDateFrom.getFullYear())}}}else{l.syncDates(t.isTill,(t.isDay)?r:null,(t.isDay)?null:((q.length&&q.length>1)?q[1]:null),(t.isDay)?null:q[0])}}l.trackDateInteraction(t.isTill?"checkOut":"checkIn",t.isDay?"daySelect":"monthSelect")})}});$(".newcalendar").each(function(){if($(this).hasClass("calendarTill")){l.rebuildCalendarTable($("table",this).get(0),true,l.viewDateTill.getMonth()+1,l.viewDateTill.getFullYear())}else{l.rebuildCalendarTable($("table",this).get(0),false,l.viewDateFrom.getMonth()+1,l.viewDateFrom.getFullYear())}l.calendars.push(this);$(this).bind("changed_date",function(p,o,r){if($(this).hasClass("calendarTill")){if(l.till.month!=null&&l.till.year!=null){var q=(l.till.day)?l.till.day:1;l.viewDateTill=new Date(l.till.year+"/"+l.till.month+"/"+q+" 00:00:00");l.rebuildCalendarTable($("table",this).get(0),true,l.till.month,l.till.year)}}else{if(l.from.month!=null&&l.from.year!=null){var q=(l.from.day)?l.from.day:1;l.viewDateFrom=new Date(l.from.year+"/"+l.from.month+"/"+q+" 00:00:00");l.rebuildCalendarTable($("table",this).get(0),false,l.from.month,l.from.year)}}l.updateLabels()});var n=$(this);n.delegate("td","click",function(){var o=$(this).text();if($("a",this).length){m(o)}return false});n.delegate(".calendar-holidays-section a","click",function(o){o.preventDefault();booking.google.trackEvent(booking.google.clickTracker,booking.env.b_action,"on_holiday_date");m($(this).text())});n.delegate(".calendar-holidays-section a","hover",function(q){var p=$(this).text();var o=n.find("td").filter(function(){return $(this).text()===p}).find("a");if(q.type==="mouseenter"){o.addClass("calendar-date-hovered")}else{o.removeClass("calendar-date-hovered")}});function m(q,p){if(!parseInt(q)){return}if(n.hasClass("calendarTill")){l.syncDates(true,q,l.viewDateTill.getMonth()+1,l.viewDateTill.getFullYear());l.trackDateInteraction("checkOut","icon")}else{l.syncDates(false,q,l.viewDateFrom.getMonth()+1,l.viewDateFrom.getFullYear());l.trackDateInteraction("checkIn","icon")}l.closePopupCalendar();var r=booking.formatter.date(l.from.year+"-"+(l.from.month)+"-"+l.from.day,"short_date"),o=booking.formatter.date(l.till.year+"-"+(l.till.month)+"-"+l.till.day,"short_date");$(".checkinDateSection .selected_date").text(r);$(".checkoutDateSection .selected_date").text(o);l.checkFormPost()}$(".nextmonth",this).bind("click",function(){if(!$(this).hasClass("disabled")){var o=$(this).parents(".newcalendar").get(0);if($(this).parents(".calendarTill").length){l.viewDateTill=l.dateAfterDays(l.viewDateTill,0,1);l.rebuildCalendarTable($("table",o).get(0),true,l.viewDateTill.getMonth()+1,l.viewDateTill.getFullYear())}else{l.viewDateFrom=l.dateAfterDays(l.viewDateFrom,0,1);l.rebuildCalendarTable($("table",o).get(0),false,l.viewDateFrom.getMonth()+1,l.viewDateFrom.getFullYear())}}this.blur();return false});$(".prevmonth",this).bind("click",function(){if(!$(this).hasClass("disabled")){var o=$(this).parents(".newcalendar").get(0);if($(this).parents(".calendarTill").length){l.viewDateTill=l.dateAfterDays(l.viewDateTill,0,-1);l.rebuildCalendarTable($("table",o).get(0),true,l.viewDateTill.getMonth()+1,l.viewDateTill.getFullYear())}else{l.viewDateFrom=l.dateAfterDays(l.viewDateFrom,0,-1);l.rebuildCalendarTable($("table",o).get(0),false,l.viewDateFrom.getMonth()+1,l.viewDateFrom.getFullYear())}}this.blur();return false});$("select",this).each(function(){var o=$(this).attr("name");var p=$(this).val();if(l.calendarTypes[o]){if(!l.calendarTypes[o].isDay){$(this).attr("name","pre_"+o);$(this.parentNode).append('<input type="hidden" name="'+o+'" value="'+p+'" />')}}else{$(this).change(function(){var q=$(this).val();if(q!="0"){var r=q.split("-");if(r.length&&r.length>0){oCalendar=$(this).parents(".newcalendar");if($(this).parents(".calendarTill").length){l.viewDateTill=new Date(r[0]+"/"+r[1]+"/1 00:00:00");l.rebuildCalendarTable($("table",oCalendar).get(0),true,r[1],r[0])}else{l.viewDateFrom=new Date(r[0]+"/"+r[1]+"/1 00:00:00");l.rebuildCalendarTable($("table",oCalendar).get(0),false,r[1],r[0])}}}})}})});$(".calendarLink").click(function(){window.calendarRef=$(this).parent().attr("class");l.openPopupCalendar(this);return false});$(".calendar_close").click(function(){l.closePopupCalendar();return false});if(this.from.year!=null&&this.from.month!=null&&this.from.day!=null){l.syncDates(false,this.from.day,this.from.month,this.from.year,true)}if(this.till.year!=null&&this.till.month!=null&&this.till.day!=null){l.syncDates(true,this.till.day,this.till.month,this.till.year,true)}if(window.location.hash=="#auto_open_checkout"){$("#auto_open_checkout a").click()}},trackDateInteraction:function(m,l){var n=B[sNSExperiments]["bLNQFZDDUZWfAaNCWRe"];try{n.track.apply(n,arguments);return true}catch(o){return false}},checkFormPost:function(){if(h&&$("."+h+" .submit_on_change").length){if(booking.env.b_action=="hotel"){if(h=="dealCheckinDate"&&$("#hotelpage_availform").attr("action").indexOf("#")>-1){var l=$("#hotelpage_availform").attr("action").split("#")[0];$("#hotelpage_availform").attr("action",l)}$("#hotelpage_availform").submit()}else{$("#frm").submit()}}},updateLabels:function(){var m=Math.round((this.noHourDate(this.till.date)-this.noHourDate(this.from.date))/this.oneDayInMS);if(m>0){if(j.night&&j.nights){var l=(m==1)?1+" "+j.night:j.nights.replace("{amount}",m);if(l.indexOf(m)<0){l=m+" "+l}if($(".dayamount").length){$(".dayamount").text(l)}if($(".no_nights_helper").length){$(".no_nights_helper").text("("+l+")")}}}if($(".calendarFrom").length){$(".calendarFrom .ct_month").text(j.b_short_months[parseInt(this.from.month)-1]);$(".calendarFrom .ct_day").text(this.from.day);if($(".calendarTill").length){$(".calendarTill .ct_month").text(j.b_short_months[parseInt(this.till.month)-1]);$(".calendarTill .ct_day").text(this.till.day)}}},updatePrevNextLinks:function(l,m){var q=this;var p=this.dateAfterDays(this.tomorrow,(this.maxDaysInFuture-2));var o=(this.maxDaysInThePast>1)?this.dateAfterDays(this.tomorrow,~this.maxDaysInThePast):this.tomorrow;var n=($(m).parents(".calendarTill").length)?this.viewDateTill:this.viewDateFrom;$(".nextmonth",m.parentNode).each(function(){if(q.dateAfterDays(n,0,1,true)>p){$(this).addClass("disabled")}else{$(this).removeClass("disabled")}});$(".prevmonth",m.parentNode).each(function(){if(q.dateAfterDays(n,0,-1,true)<o){$(this).addClass("disabled")}else{$(this).removeClass("disabled")}});this.selectOption($("select",m.parentNode),n.getFullYear()+"-"+(n.getMonth()+1))},rebuildCalendarTable:function(n,o,z,A){var l=$(n).parents(".newcalendar");var x=document.createElement("table");$(x).html(n.innerHTML);var y=booking.env.b_site_experiment_av_calendar&&l.hasClass("avCalendar");if(o&&y&&this.from.date){$(".avCalendar_pick_checkin").hide();$(".avCalendar.calendarTill").show()}var C=parseInt(new Date(A+"/"+z+"/1").getDay())-2;if(j.calendar_sunday_first_day_for_us){C+=1}else{if(booking.env.b_in_sundays_first_rtl&&booking.track.getVariant("HIYcBGecbWPTaKe")){C+=1}else{if(j.b_site_experiment_change_wk_sunday_ar){C+=1}else{if(C<0){C=7+C}}}}var v=x.getElementsByTagName("td");for(var u=0;u<42;u++){var t=u-C;var m=v[u];if(t>0&&t<=this.getDaysInMonth(z,A)){var p=new Date(A+"/"+z+"/"+t+" 00:00:00");if(!this.isValidDate(p,o)){if(p-this.today==0&&!y){m.innerHTML='<span class="today">'+t+"</span>"}else{m.innerHTML="<span>"+t+"</span>"}}else{var w="";if(y){if((p-this.till.date==0&&o)||(p-this.from.date==0&&!o)){w+=" selected"}if(!o&&booking.avCalendar.isDateInRange({year:A,month:z,day:t})){w+=booking.avCalendar.isCheckInAvailable({year:A,month:z,day:t})?" has_av":" no_av"}if(o&&this.from.day&&booking.avCalendar.isDateInRange(this.from)){w+=booking.avCalendar.isCheckOutAvailable(this.from,{year:A,month:z,day:t})?" has_av":" no_av"}}else{if(p-this.today==0){w+=" today"}if(p-this.till.date==0){w+=o?" selected":" endsel"}if(p-this.from.date==0){w+=o?" endsel":" selected"}if(p<this.till.date&&p>this.from.date){w+=" inbetween"}}if(booking.env.b_fd_hotel_dates){for(var r=0;r<booking.env.b_fd_hotel_dates.length;r++){if(booking.env.b_fd_hotel_dates[r]){$.lst=booking.env.b_fd_hotel_dates[r].split("-");var q=new Date(Number($.lst[0]),Number($.lst[1])-1,Number($.lst[2]));if(p-q==0){w+=" flashdeals"}}}}m.innerHTML='<a href="#" class="'+w+'">'+t+"</a>"}}else{m.innerHTML="&nbsp;"}}$(n).html(x.innerHTML);if(booking.track.getVariant("BfZdbEJNZJSUJBGWcOCbXOTJBae")>=0){booking.eventEmitter.trigger("CALENDAR:after_rebuild_calendar_table",{currentTable:n,month:z,year:A})}this.updatePrevNextLinks(true,n)},isValidDate:function(m,l){var n=(this.maxDaysInThePast>1)?this.dateAfterDays(this.today,~this.maxDaysInThePast):this.today;return !(m<n||(l&&m<this.tomorrow&&this.maxDaysInThePast<2)||m>this.endOfYear1||(!l&&m>this.endOfYear2))},rebuildDaySelect:function(p,n){var u="&nbsp;";if(n){var w=this.till.month;var z=this.till.year;var r=this.till.day;var x=this.from.month;var m=this.from.year;var l=this.from.day;if(r==null||booking.env.keep_day_month){if((!((w==booking.env.b_this_month)&&(z>booking.env.b_this_year4)&&(t>(booking.env.b_this_day-1))&&booking.env.b_site_experiment_rolling_calendar_year))&&(!(z==m&&w==x&&l<booking.env.b_this_day&&booking.env.b_site_experiment_clip_checkout_day_dropdown))){u='<option style="text-transform:capitalize;" value="0">'+j.day+"</option>"}}}else{var w=this.from.month;var z=this.from.year;var r=this.from.day;if(r==null||booking.env.keep_day_month){if(!((w==booking.env.b_this_month)&&(z>booking.env.b_this_year4)&&(t>(booking.env.b_this_day-5))&&booking.env.b_site_experiment_rolling_calendar_year)){u='<option style="text-transform:capitalize;" value="0">'+j.day+"</option>"}}}$(p).html(u);var A=this.getDaysInMonth(w,z);function y(E,F,C){var D=new Date(Date.UTC(E,F-1,C));var C=D.getUTCDay();C=(C>0)?C-1:6;return C}for(var t=1;t<=A;t++){var o=new Date(z+"/"+w+"/"+t+" 00:00:00");var q=(o.getDay()>0)?o.getDay()-1:6;if(booking.track.getVariant("IUeBAcbGbVSRFdHWEQPfaGO")){q=y(z,w,t)}var v=j.b_simple_weekdays_for_js[q]+" "+t;if((j.b_lang=="ja")||(j.b_lang=="zh")||(j.b_lang=="ko")||(j.b_lang=="hu")){v=t+" "+j.b_simple_weekdays_for_js[q]}if(!((w==booking.env.b_this_month)&&(z>booking.env.b_this_year4)&&(((t>(booking.env.b_this_day-2))&&!n)||((t>(booking.env.b_this_day-1))&&n))&&booking.env.b_site_experiment_rolling_calendar_year)){if(n){if(!((z==m)&&(w==x)&&(t<=l)&&(booking.env.b_site_experiment_clip_checkout_day_dropdown))){$(p).append('<option value="'+t+'"'+((r==t)?' selected="selected"':"")+">"+v+"</option>")}}else{$(p).append('<option value="'+t+'"'+((r==t)?' selected="selected"':"")+">"+v+"</option>")}}}},noHourDate:function(m){var l=(typeof m==="undefined"||m===null)?(this.userServDate?new Date(this.syncDate):new Date()):m;l.setHours(0);l.setMilliseconds(0);l.setMinutes(0);l.setSeconds(0);return l},getDaysInMonth:function(n,l){var m=[31,(function(){return((((l%4)===0)&&((l%100)!==0)||((l%400)===0))?29:28)})(),31,30,31,30,31,31,30,31,30,31];return m[n-1]},selectOption:function(p,u,q){var m=$(p).parents(".newcalendar");var t=booking.env.b_site_experiment_av_calendar&&m.hasClass("avCalendar");var n=false;var w=$("option",p);var o,l,v;for(var r=0;r<w.length;r++){o=w[r];l=$(o);v=l.text();if(u&&u!=""){if(l.val()==u){o.selected=true;n=true;if(t){m.find(".avCalendar_month").text(v)}}else{w[r].selected=false}}if(q&&q!=""){if(v==u){o.selected=true;n=true;if(t){m.find(".avCalendar_month").text(v)}}else{o.selected=false}}}return n},dateAfterDays:function(v,p,r,u){var l=this.oneDayInMS*p;var q=12;if(u){v.setDate(1)}if(r){var m=this.noHourDate(v);if(r>q||r<-1*q){v.setFullYear(v.getFullYear()+parseInt(r/q));r=r%q}if(r!=0){var n=v.getMonth();if(n+r>q){v.setFullYear(v.getFullYear()+1);v.setMonth((n+r)-q)}else{if(n+r<0){v.setFullYear(v.getFullYear()-1);v.setMonth((n+r)+q)}else{v.setMonth(n+r)}}}}var o=new Date((this.noHourDate(v)*1)+l);if(v.getTimezoneOffset()!=o.getTimezoneOffset()){var t=v.getTimezoneOffset()-o.getTimezoneOffset();t=((t<0)?~t+1:t)*60*1000;if(t>0){o=new Date((this.noHourDate(v)*1)+l+t)}}return o},setPosition:function(n){var m=$(n).offset(),o=10,l=m.top+o;leftPos=m.left,$window=$(window),windowHeight=$window.height(),windowWidth=$window.width(),documentScrollTop=$(document).scrollTop();if(j.rtl){leftPos=leftPos-211}if(windowWidth<leftPos+230){if(windowWidth-230>0){leftPos=windowWidth-230}}if(windowHeight+documentScrollTop<l+230){if(l-documentScrollTop-250>0){l=l-250}else{l=windowHeight+documentScrollTop-250}}$("#calendar_popup").css({top:l+"px",left:leftPos+"px"})},scrollHandlers:[],openPopupCalendar:function(o){var m=$("#calendar_popup").get(0),q=$(window),p,l=this;var n="";switch(o.nodeName.toLowerCase()){case"a":n=o.href.split("#")[1];break;case"input":n=o.name;break;case"select":n=o.name;break;case"label":n=o.getAttribute("data-title");break;default:break}p=function(){l.setPosition(o)};this.scrollHandlers.push(p);this.setPosition(o);q.bind("scroll resize",p);$("#calendar_popup").show();booking.track.exp("fEJLBWHcZKNFcWRET");booking.track.exp("fEJLBWHcZKNFcWRBYNIUfUYCeHHQC");booking.track.exp("bWfKKTAAaJefC");if(this.calendarTypes[n]&&this.calendarTypes[n].isTill){$(m).addClass("calendarTill");this.rebuildCalendarTable($("table",m).get(0),true,this.viewDateTill.getMonth()+1,this.viewDateTill.getFullYear())}else{$(m).removeClass("calendarTill");this.rebuildCalendarTable($("table",m).get(0),false,this.viewDateFrom.getMonth()+1,this.viewDateFrom.getFullYear())}$("body").bind("close_calendar",this.closeHandler);booking.eventEmitter.trigger("CALENDAR:datepicker_opened",this)},closeHandler:function(){g.closePopupCalendar()},closePopupCalendar:function(){var l,n,m;$("#calendar_popup").removeClass("calendarTill").hide();$("body").unbind("close_calendar",this.closeHandler);for(l=0,n=this.scrollHandlers.length;l<n;l+=1){m=this.scrollHandlers[l];if(typeof m==="function"){$window.unbind("scroll resize",m)}}this.scrollHandlers=[]}}})();booking[sNSStartupLoad].change_dates={priority:9,init:function(){if(typeof trigger_error_template_event_tracking!="undefined"&&trigger_error_template_event_tracking===true){booking.google.trackEvent(booking.google.pageviewTracker,"Error Template (Aggregate)",b_errors);if(b_this_referer!=""){booking.google.trackEvent(booking.google.pageviewTracker,"Error Template (Referrer)",b_this_referer+" - "+b_errors)}booking.google.trackEvent(booking.google.pageviewTracker,"Error Template (RequestURL)",b_this_url+" - "+b_errors)}if(booking.env.b_page=="send_change_dates"){$("#message_changing-dates").fadeIn();$("#change_dates").submit(function(){var e=$("input[name=do]");var c=$("#change_dates input[name=checkin_date]").val();var d=$("#change_dates input[name=checkout_date]").val();if(c&&d&&(c.length>0||d.length>0)){cin_yymm=$("#checkin_year_month").val();cin_dd=$("#checkin_day").val();cin_yymmdd=cin_yymm+"-"+cin_dd;cout_yymm=$("#checkout_year_month").val();cout_dd=$("#checkout_monthday").val();cout_yymmdd=cout_yymm+"-"+cout_dd;a=c.replace(/-0/g,"-");b=d.replace(/-0/g,"-");if(a!=cin_yymmdd||b!=cout_yymmdd){e.val("dochangedates")}}})}if(booking.env.b_action=="mybooking"){$("#message_changing-dates").fadeIn()}}};booking[sNSStartup].cookie_warning={priority:10,init:function(){if(booking.env.cookie_warning&&!$.cookie("cookie_notice_shown")){var d=$("#cookie_warning");d.show();var c=function(){if(typeof(JSON)!="undefined"){$.cookie("cookie_notice_shown",1,{expires:365,path:"/",domain:booking.env.b_domain_end})}};$("#cookie_warning a").click(function(e){c();if($(this).hasClass("close_warning")){d.fadeOut("1000",function(){$(this).remove()});booking.google.trackEvent(booking.google.clickTracker,"Cookie warning","Close");e.preventDefault()}else{booking.google.trackEvent(booking.google.clickTracker,"Cookie warning","Read")}})}}};function switchDateStack(c,e){var d=c;if($(c).parents("div").length){d=$(c).parents("div").get(0)}var f=0;while(d){if(d.nodeName.toLowerCase()=="div"){f++;if(f==e){d.style.display="block"}}d=d.nextSibling}}function switchDateFlashDeal(c,d){$("div#editDates").css("display","block");$("div#available_rooms_header1").css("display","none")}booking[sNSStartup].validatedate={priority:9,init:function(){$("#frm, #hotelpage_availform").submit(function(){var d=booking[sNSStartup].validatedate.validate(this),c=!d?"Form:NotValid":"Form:Valid";if(!d&&this.id==="hotelpage_availform"){fminit("hotelpage_availform")}$(window).trigger(c,{form:this});if(!d){booking.track.exp("bLYTYeYCNOSPcVDaaXe")}if(booking.track.getVariant("bLYTYeYCNOSPcVDaaXe")){if(!d){$(this).addClass("has-date-validation-error-exp")}else{$(this).removeClass("has-date-validation-error-exp")}}return d});$("#fd_dates, #fd_flashdeals").submit(function(){return booking[sNSStartup].validatedate.validate(this)});$("#availcheck").click(function(){var c="";if($("#availcheck").is(":checked")){c="Check"}else{c="Uncheck"}booking.google.trackEvent(booking.google.clickTracker,booking.env.b_action+" | searchbox checkbox",c)});if(booking.track.getVariant("VCBdJXIHUJFaNSAJSUC")){$("#frm, #hotelpage_availform").delegate(".confirm_30_days_plus_yes","click",function(){B.browserStorageHandler.addSessionValue("confirm_30_days_plus","true");$(this).closest("form").removeClass("has-date-validation-error-exp").submit();return false});$("#frm, #hotelpage_availform").delegate(".confirm_30_days_plus_no","click",function(){var c=$(this).closest("form");c.removeClass("has-date-validation-error-exp");c.find(".dateerrors").empty().hide();c.find('a[rel="checkout_year_month"]').trigger("click");return false})}},validate:function(oForm){if($("#availcheck:checked").length){return true}var sError="",_serverTime=booking.env.b_timestamp*1000,_datesDiffer=Math.abs(+new Date()-new Date(_serverTime))>=24*3600*1000,today=_datesDiffer?new Date(_serverTime):new Date(),sErrorIsNeedDates=false;var oCheckinD=$("select[name=checkin_monthday]",oForm);var oCheckinYM=$("select[name=checkin_year_month]",oForm);var oCheckoutD=$("select[name=checkout_monthday]",oForm);var oCheckoutYM=$("select[name=checkout_year_month]",oForm);today.setHours(0);today.setMinutes(0);today.setSeconds(0);today.setMilliseconds(0);if(oCheckinD.length&&oCheckinYM.length&&oCheckoutD.length&&oCheckoutYM.length){var checkinYM=oCheckinYM.val();var checkinD=parseInt(oCheckinD.val(),10);var checkoutYM=oCheckoutYM.val();var checkoutD=parseInt(oCheckoutD.val(),10);if(checkinYM==0&&checkinD==0&&checkoutYM==0&&checkoutD==0){if(booking.track.getVariant("bLYHDEFRNNcMVTPMVSHT")!==false){$("#frm").append("<input type='hidden' name='aawwddexp' value='1'>")}if(booking.track.getVariant("bLYHDEFRNNcMVTPMVSHT")){$("#availcheck").attr("checked","checked");return true}else{if("bLYHDEFRNNcMVTPMVSHT"){booking.google.trackEvent(booking.google.clickTracker,"Try to send without dates in base","Homepage")}}}if((typeof checkinYM!="undefined")){var checkinSplitYM=checkinYM.split("-");var checkinY=parseInt(checkinSplitYM[0],10);var checkinM=parseInt(checkinSplitYM[1],10);var checkoutSplitYM=checkoutYM.split("-");var checkoutY=parseInt(checkoutSplitYM[0],10);var checkoutM=parseInt(checkoutSplitYM[1],10);var checkin=new Date(Date.UTC(checkinY,checkinM-1,checkinD));var checkout=new Date(Date.UTC(checkoutY,checkoutM-1,checkoutD));var numDays=(checkout-checkin)/86400000;if(checkinYM=="0"||checkinD=="0"){if(checkoutYM=="0"||checkoutD=="0"){sError=booking.env.to_check_availability_please_enter_your_dates_of_stay;if(booking.env.b_site_experiment_remove_no_dates_box){sError+=' <a href="#" id="swd">'+booking.env.click_here_to_search_without_dates+"</a>"}sErrorIsNeedDates=true}else{sError=booking.env.please_enter_your_check_in_date}}else{if(checkoutYM=="0"||checkoutD=="0"){sError=booking.env.please_enter_your_check_out_date}else{if((checkinY>checkoutY)||((checkinY==checkoutY)&&(eval(checkinYM)<eval(checkoutYM)))||((checkinYM==checkoutYM)&&(checkinD>checkoutD))){sError=booking.env.error.checkout_date_not_after_checkin_date.name}}}if(sError==""){if(checkin.getTime()<today.getTime()&&!(checkin.getTime()>today.getTime()-86400005&&booking.env.b_site_experiment_fix_timezone_error)){if(booking.env.b_site_experiment_sb_date_in_past_err){sError=booking.env.error.checkin_in_past_error_suggest_tonight.name}else{sError=booking.env.error.checkin_date_in_the_past.name}}else{if(numDays>30){booking.track.exp("VCBdJXIHUJFaNSAJSUC");if(booking.track.getVariant("VCBdJXIHUJFaNSAJSUC")){if(numDays>45){sError=booking.env.error.checkout_date_more_than_45_days_after_checkin.name}else{if(B.browserStorageHandler.getSessionValue("confirm_30_days_plus")!=="true"){sError=B.strings.get("stays_over_30_days_error");sError+='<br/><span class="confirm_30_days_plus_yes">'+B.strings.get("stays_over_30_yes")+"</span> ";sError+='<span class="confirm_30_days_plus_no">'+B.strings.get("stays_over_30_no")+"</span>"}}}else{sError=booking.env.error.checkout_date_more_than_30_days_after_checkin.name}}else{if(checkin>checkout){sError=booking.env.error.checkout_date_not_after_checkin_date.name}}}}}}if(sError!=""){if($(".dateerrors",oForm).length){var errorField=$(".dateerrors",oForm).get(0),consistentErrorMessageExpHash="bLYTYeYCNOSPcVDZBOGdIO";booking.track.exp(consistentErrorMessageExpHash);if(sErrorIsNeedDates&&!booking.track.getVariant(consistentErrorMessageExpHash)){$("#inout select").change(function(){$("#friendly_error_popup").remove()});$(".calendar").click(function(){$("#friendly_error_popup").remove()});$("#friendly_error_popup span.close_errormsg").live("click",function(){$("#friendly_error_popup").remove()});$("#inout .avail, .toggle_overview, .toggle_review").live("click",function(){$("#friendly_error_popup").remove()});if($("#friendly_error_popup").length==0){var last_dropdown_searchbox=$("#inout select").eq(3);if(booking.env.b_action=="hotel"||booking.env.b_action=="searchresults"){last_dropdown_searchbox=$(".leftsmall #inout select").eq(1)}var last_dropdown_offset=last_dropdown_searchbox.offset();var last_dropdown_hotelpage=$("#hotelpage_availform select").eq(3);if(booking.env.nodates_popup_up){last_dropdown_hotelpage=$("#hotelpage_availform select").eq(0)}var last_dropdown_hotelpage_offset=last_dropdown_hotelpage.offset()||{};var first_dropdown_searchbox=$("#inout select").eq(0);var first_dropdown_offset=last_dropdown_searchbox.offset();var homeinPos=($("#checkin_year_month").position().top-18);var nodates_popup_upRight=-255;if($.browser.msie&&$.browser.version==="7.0"){nodates_popup_upRight=-200}if(booking.env.b_lang=="ar"||booking.env.b_lang=="he"){var errorHTML='<div id="friendly_error_popup" style="direction:ltr;background-position:center right;top:'+homeinPos+"px;left:"+(nodates_popup_upRight+50)+'px"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>";$("#inout").css({position:"relative","z-index":"999"}).append(errorHTML)}else{if(oForm.id=="hotelpage_availform"){if(booking.env.nodates_popup_up){var errorHTML='<div id="friendly_error_popup" class="hotelpage new_change_dates" style="top:'+(last_dropdown_hotelpage_offset.top-90)+"px;left:"+(last_dropdown_hotelpage_offset.left-150)+'px;"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>"}else{var errorHTML='<span class="exclamation exclamation_daterrrors">&nbsp;!&nbsp;</span><p class="error errors_dateerros">'+sError+"</p>";errorField.innerHTML=errorHTML;errorField.style.display="block"}}else{if(booking.env.is_user_dashboard){var errorHTML='<div id="friendly_error_popup" style="top:'+homeinPos+'px;left:200px"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>";$("#inout").css({position:"relative","z-index":"999"}).append(errorHTML)}else{var errorHTML='<div id="friendly_error_popup" style="top:'+homeinPos+"px;right:"+nodates_popup_upRight+'px"><div class="wrapper"><span class="close_errormsg"></span><p>'+booking.env.view_prices_enter_dates+"</p></div></div>";$("#inout").css({position:"relative","z-index":"999"}).append(errorHTML)}}}}}else{var errorHTML='<span class="exclamation exclamation_daterrrors">&nbsp;!&nbsp;</span><p class="error errors_dateerros">'+sError+"</p>";errorField.innerHTML=errorHTML;errorField.style.display="block"}$("#swd").click(function(){document.getElementById("availcheck").checked="checked";document.getElementById("frm").submit();return false});return false}else{return true}}else{return true}}};booking[sNSStartup].default_input_text={priority:9,init:function(){$("input.swap_text, textarea.swap_text").each(function(){if($(this).val()==""){$(this).val($(this).attr("alt"));$(this).removeClass("swapped")}else{if($(this).val()==$(this).attr("alt")){$(this).removeClass("swapped")}else{$(this).addClass("swapped")}}$(this).focus(function(){if($(this).val()==$(this).attr("alt")){$(this).val("");$(this).addClass("swapped")}}).blur(function(){if($(this).val()==""){$(this).val($(this).attr("alt"));$(this).removeClass("swapped")}});$(this).closest("form").submit(function(){$("input.swap_text, textarea.swap_text",this).each(function(){if($(this).val()==$(this).attr("alt")){$(this).val("")}})})})}};booking[sNSStartupLoad].destination_suggestion_dropdown={init:function(){var c=$(".input-wrapper");if(c.length===0){return}var n=c.find('input[name="ss"]'),m=c.find(".input-icon"),o=c.find(".input-icon-arrow"),t=c.find(".input-pop-dest"),p=c.find(".input-tip");var g={show:function(){if(!t.hasClass("input-dropdown-closed")){booking.google.trackEvent(booking.google.clickTracker,booking.env.b_action,"show_suggestion_dropdown");booking.track.exp("THfYbDZeQMIbAMITbWFSIYO");t.show();o.html("&#9662;")}},open:function(){t.removeClass("input-dropdown-closed")},hide:function(){t.hide();o.html("&#9656;")},close:function(){t.addClass("input-dropdown-closed")}};n.focus(q).keyup(q);function q(){p.remove();var u=n.val();if(u===""||u===n.attr("placeholder")){g.show()}else{g.hide()}}c.delegate(".input-icon","click",function(){if(t.hasClass("input-dropdown-closed")){booking.google.trackEvent(booking.google.clickTracker,booking.env.b_action,"use_icon_to_open_suggestion");g.open()}else{if(t.is(":visible")){g.hide();g.close()}}n.val("").focus().select()});$("html").click(function(){g.hide()});c.click(function(u){u.stopPropagation()});c.delegate(".destination-area a","click",l);c.delegate(".destination_area a","click",l);function l(w){w.preventDefault();var v=$("#frm fieldset");n.val($(this).text()).removeClass("blur");g.hide();v.find("input[name='dest_type'], input[name='dest_id']").remove();v.append($("<input>",{type:"hidden",name:"dest_type",value:$(this).data("destType")||"city"}));v.append($("<input>",{type:"hidden",name:"dest_id",value:$(this).data("destId")}));var u=(!booking.env.user_has_dates&&!$("#availcheck").attr("checked")&&(parseInt($("#checkin_day").val(),10)===0&&parseInt($("#checkout_monthday").val(),10)===0));if(u){try{booking[sNSStartup].calendar.openPopupCalendar($("#homein .calendarLink").get(0))}catch(w){}}booking.google.trackEvent(booking.google.clickTracker,booking.env.b_action,"choose_a_destination_in_suggestion_dropdown")}var r="destination-section",e="tab-nav-item-active",k="tab-content",f="tab-panel",j="tab-panel-active";var d;c.delegate(".tab-nav li","click",function(u){u.preventDefault();clearTimeout(d);h($(this))});if(booking.track.getVariant("THfYbDZeQMIbAMITbWFSIYO")){c.delegate(".tab-nav li","mouseover",function(){var u=$(this);d=setTimeout(function(){h(u)},300)});c.delegate(".tab-nav li","mouseout",function(){clearTimeout(d)})}function h(w){var v=w.closest("."+r),u=v.children("."+k);w.siblings().removeClass(e);w.addClass(e);u.find("."+f).removeClass(j).eq(w.index()).addClass(j);booking.google.trackEvent(booking.google.clickTracker,booking.env.b_action,"destination_suggestion_dropdown_tab");if(v.hasClass("domestic-destination")){booking.google.trackEvent(booking.google.clickTracker,booking.env.b_action,"destination_suggestion_dropdown_tab_domestic")}else{booking.google.trackEvent(booking.google.clickTracker,booking.env.b_action,"destination_suggestion_dropdown_tab_abroad")}}}};$(function(){var c=["item_searching","topten","item_volcano_eruption","item_roomtypes","item_pricing","item_creditcards","item_payments","item_reservation_process","item_hotelpolicies","item_confirmation","item_extrafacilities","item_cancellation","item_directions","item_reviews"];var f=window.location.search.split("faq=");if(f.length==2&&f[1].length){var e=f[1].split(",");if(e.length){$(c).each(function(j,k){hideEl(k)});$.each(e,function(j,m){var k=$("span#"+m),l=k.prev();if(k&&l&&m.match(/faqa\d+/)&&!l.parents("span.faqA").size()){l.clone().appendTo("#faq_deeplink");k.clone().appendTo("#faq_deeplink")}})}}$(".staticmenustyle").children("li").children("a").each(function(j,k){$(k).click(function(){$("#faq_deeplink").children().remove()})});if(location&&location.hash){var h=location.hash.slice(1);if(h!=""){for(var d=0;d<c.length;d++){var g=c[d];if(g=="item_"+h||g==h){showEl(g)}else{hideEl(g)}}}}});booking[sNSStartup].fixMail={priority:9,init:function(){var c=this;$(".encrypted").each(function(){$(this).html(c.deCode($(this).text()));$(this).removeClass("encrypted")})},deCode:function(c){return c.replace(/[a-zA-Z]/g,function(d){return String.fromCharCode((d<="Z"?90:122)>=(d=d.charCodeAt(0)+13)?d:d-26)})}};function calcage(c,e,d){s=((Math.floor(c/e))%d).toString();if(LeadingZero&&s.length<2){s="0"+s}return"<b>"+s+"</b>"}function CountBack(c){if(c<0){if(document.getElementById("cntdwn")){document.getElementById("cntdwn").innerHTML=FinishMessage;return}}else{if(c>86400){DisplayStr_days=DisplayFormat_days.replace(/%%D%%/g,calcage(c,86400,100000));document.getElementById("flash_days").innerHTML=DisplayStr_days}else{document.getElementById("flash_days_wrapper").style.display="none"}}DisplayStr_hours=DisplayFormat_hours.replace(/%%H%%/g,calcage(c,3600,24));DisplayStr_minutes=DisplayFormat_minutes.replace(/%%M%%/g,calcage(c,60,60));DisplayStr_seconds=DisplayFormat_seconds.replace(/%%S%%/g,calcage(c,1,60));document.getElementById("flash_hours").innerHTML=DisplayStr_hours;document.getElementById("flash_minutes").innerHTML=DisplayStr_minutes;document.getElementById("flash_seconds").innerHTML=DisplayStr_seconds;if(CountActive){setTimeout("CountBack("+(c+CountStepper)+")",SetTimeOutPeriod)}}if(typeof(TargetDate)=="undefined"){TargetDate="12/31/2020 5:00 AM"}if(typeof(DisplayFormat)=="undefined"){DisplayFormat="%%D%% Days, %%H%% Hours, %%M%% Minutes, %%S%% Seconds."}if(typeof(CountActive)=="undefined"){CountActive=true}if(typeof(FinishMessage)=="undefined"){FinishMessage=""}if(typeof(CountStepper)!="number"){CountStepper=-1}if(typeof(LeadingZero)=="undefined"){LeadingZero=true}CountStepper=Math.ceil(CountStepper);if(CountStepper==0){CountActive=false}var SetTimeOutPeriod=(Math.abs(CountStepper)-1)*1000+990;var dthen=new Date(TargetDate);var dnow=new Date();if(CountStepper>0){ddiff=new Date(dnow-dthen)}else{ddiff=new Date(dthen-dnow)}gsecs=Math.floor(ddiff.valueOf()/1000);if(document.getElementById("flash_seconds")){CountBack(gsecs)}booking[sNSStartupLoad].google_thumbnail_map={priority:9,init:function(){var e=$("#b_google_map_thumbnail"),d=e.attr("data-map"),c;if(d&&e.length){if(window.location.protocol.indexOf("s")!=-1){d=d.replace("http","https")}e.attr("style","background-image: url("+d+");")}return true}};if(!Array.prototype.walk){Array.prototype.walk=function(e){var c=[],d=this.length;while(d--){c.push(e(this[d]))}return c.reverse()}}if(!Array.prototype.flatten){Array.prototype.flatten=function(){var d=[],e=-1,c=this.length;while(++e<c){d=d.concat(this[e].constructor==Array?this[e].flatten():this[e])}return d}}if(!Array.indexOf){Array.prototype.indexOf=function(d){for(var c=0;c<this.length;c++){if(this[c]==d){return c}}return -1}}booking.ensureNamespaceExists("google");booking.google.returnAnalyticsTrackingString=function(){var g=booking.env;var j=[];j[j.length]=g.b_this_urchin.replace(/&amp;$/,"");j[j.length]="ur_aid="+g.b_aid;j[j.length]="ur_plang="+g.b_lang_for_url;j[j.length]="ur_gstcc="+g.b_guest_country;if(g.b_search_category!=""){j[j.length]="ur_scat="+g.b_search_category}if(g.b_experiment_group){j[j.length]="ur_expgr=1"}if(g.b_action==="hotel"){if(g.b_hotel_blocks===0&&g.b_checkin_date){j[j.length]="ur_honovail=1"}j[j.length]="ur_hocc1="+g.b_countrycode;if(typeof g.b_label!="undefined"&&g.b_label.substr(0,11)=="postbooking"){j[j.length]="ur_postbknglabel="+g.b_label}}if(+g.b_availability_checked||g.b_checkin_date){j[j.length]="ur_dat=1"}else{j[j.length]="ur_nodat=1"}if(g.b_action==="searchresults"){if(g.b_multiple_destinations_found){j[j.length]="ur_srdis=1"}if(typeof g.b_available_hotels!="undefined"){if(g.b_available_hotels==0){j[j.length]="ur_hc=0"}else{if(g.b_available_hotels<=20){j[j.length]="ur_hc=1"}else{j[j.length]="ur_hc=2"}}}}if(g.b_context_details){j[j.length]=g.b_context_details.walk(function(k){return["rctp="+k.b_type,"ur_srcid="+k.b_code]})}if(typeof b_first_seen!="undefined"&&b_first_seen!=""){j[j.length]="first_seen="+b_first_seen}if(g.b_acc_type_ga){j[j.length]="ur_acctype="+g.b_acc_type_ga}if(g.b_book_stage){j[j.length]="stage="+g.b_book_stage}if(g.b_action==="review"){if(g.b_review_submitted){j[j.length]="review_form_submitted=1"}else{j[j.length]="review_form=1"}}if(g.b_action==="myreservations"){if(/bn=\d+/.test(window.location.search)&&/pincode=\d+/.test(window.location.search)){j[j.length]="myres_single_booking"}}if(g.b_action==="myreservations"||g.b_action==="index"||g.b_action==="confirmation"||g.b_action==="general"){if(/pbsource=\w+/.test(window.location.search)){var e={};var h=window.location.search.substring(1).split(";");for(var f=0;f<h.length;f++){var d=h[f].split("=");if(!d[0]){continue}e[d[0]]=d[1]||true}var c="pbsource="+e.pbsource;j[j.length]=c}}return j.flatten().join("&amp;")};booking.ensureNamespaceExists("google");booking.google.trackEvent=function(e,g,h,d,c){var f=d||1;if(typeof e!="undefined"){_gaq.push(["_trackEvent",e,g,h,d,true]);if(window.ga){ga("send","event",e,g,h,d)}}};booking[sNSExperiments].event_tracking={priority:9,init:function(){if(typeof _gaq!="undefined"){booking.google.errorTracker="Error";booking.google.clickTracker="Click";booking.google.hoverTracker="Hover";booking.google.mapTracker="Map";booking.google.pageviewTracker="Pageview";booking.google.viewTracker="View";booking.google.cityTracker="City";booking.google.groupTracker="Group";booking.google.cardTracker="Credit Card";booking.google.comparisonTracker="Hotel Comparison";booking.google.userProfileTracker="User profile";booking.google.bookProcessTracker="Book process";$(window).load(function(){if(booking.env.f_seen_experiments){for(var h in booking.env.f_seen_experiments){booking.google.trackEvent("Experiment",h,booking.env.f_seen_experiments[h])}}});$("body").delegate("a, .trackit","click",function(){var h="";$(this).parents(".tracked").each(function(){h=(this.id)?"#"+this.id+" > "+h:(this.className)?"."+this.className+" > "+h:this.tagName+" > "+h});if(h!=""){h=(this.id)?h+"#"+this.id:(this.className)?h+"."+this.className:h+"a";booking.google.trackEvent(booking.google.clickTracker,"Action: "+booking.env.b_action,h)}});if($("select[name^=group]").length){$("#frm").submit(function(){if($("#clear_group").val()=="1"){return}var h=$("#frm select[name=group_adults]");var j=h.length;h.each(function(){var l=this.value;var k=$(this).parent().next().find("select").val();var m=[];$("#frm input[name=age]").each(function(n){m[n]=this.value});booking.google.trackEvent(booking.google.groupTracker,"["+j+"] "+l+" adults + "+k+" children","Ages: "+m.join(", "))})});$("#clear_and_submit").click(function(){booking.google.trackEvent(booking.google.groupTracker,"Clear Group",booking.env.b_action)})}$("#select_group2").click(function(){booking.google.trackEvent(booking.google.groupTracker,"Clicked group Book button")});var g=$(".error, .errorSimpleMsg");for(var f=0;f<g.length;f++){if(!$(this).hasClass("disabled")){var e=g[f].getAttribute("rel");if(e!=null){booking.google.trackEvent(booking.google.errorTracker,"Display",e)}}}$(".custom_track").click(function(){var h=$(this).attr("data-trackname");if(h&&booking.google.userProfileTracker){booking.google.trackEvent(booking.google.userProfileTracker,booking.env.b_action+" : "+h,booking.env.b_action)}});$("#login-form").submit(function(){if(booking.google.userProfileTracker){booking.google.trackEvent(booking.google.userProfileTracker,"Login attempt : Other",booking.env.b_action)}});if(typeof trigger_error404_event_tracking!="undefined"&&trigger_error404_event_tracking==true){booking.google.trackEvent(booking.google.pageviewTracker,"404 Error",document.location.pathname+document.location.search+"&from="+document.referrer)}$(".filterbox a").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Filter",(this.id==="city_centre_filter_opt"?"district-city_centre":this.getAttribute("data-id")))});if(booking.env.b_action==="hotel"){$("#hcta").click(function(){var h="Hotel cta";if(booking.env.track_htca){h+=("v"+booking.env.track_htca)}booking.google.trackEvent(booking.google.clickTracker,h,this.getAttribute("data-id"))})}$("#sort_by a").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Sort",this.href.substr(this.href.indexOf("order=")+6))});$("#ccfaq").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Credit Card FAQ Popup","View")});$(".track_register").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Login","Register")});$(".track_login").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Login","Login")});if(booking.env.b_action=="hotelcomparison"){$(".back").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Previous Page","Clicked")});$("h1 a, .hotel_comparison_header").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Hotel Header",$(this).parent("td").eq(0).attr("class"))});$(".bigbluebutton").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Book Now Button",$(this).parent().attr("class"))});$(".bigbluebutton.topbutton").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Top Book Now Button on comparison_colors_buttons",$(this).parent().attr("class"))});$(".bigbluebutton.bottombutton2").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Bottom Book Now Button on comparison_colors_buttons",$(this).parent().attr("class"))});$(".bigbluebutton.bottombutton").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Bottom Book Now Button on comparison_colors",$(this).parent().attr("class"))});$(".remove_hotel").click(function(){booking.google.trackEvent(booking.google.comparisonTracker,"Remove and Replace",$(this).parent().attr("class"))})}$("#bookconditions").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Booking Conditions","Link clicked")});$("#localcurr_dis a").mouseenter(function(){booking.google.trackEvent(booking.google.clickTracker,"Action: "+booking.env.b_action,"hover_tooltip_local_currency")});if(booking.env.smart_deals_count&&booking.env.smart_deals_count>0){booking.google.trackEvent(booking.google.viewTracker,"Smart deal filter",booking.env.smart_deals_count+" deals displayed")}$(".hotel_quick_links a").click(function(){var h=this.href;if(!h){return}booking.google.trackEvent(booking.google.clickTracker,"Hotel quick links",h.replace(/^.+#/,"#"))});$(".footer_acc_type_links a").click(function(){booking.google.trackEvent(booking.google.clickTracker,"Footer acc type links",$(this).data("ga"))});$(".adv_search_btn.adv_trk_1").click(function(){booking.google.trackEvent(booking.google.clickTracker,"adv_search_1","Link clicked")});$(".adv_search_btn.adv_trk_2").click(function(){booking.google.trackEvent(booking.google.clickTracker,"adv_search_2","Link clicked")});$(".adv_search_btn.adv_trk_3").click(function(){booking.google.trackEvent(booking.google.clickTracker,"adv_search_3","Link clicked")});$(".adv_search_btn.adv_trk_4").click(function(){booking.google.trackEvent(booking.google.clickTracker,"adv_search_4","Link clicked")});$(".adv_search_btn.adv_trk_5").click(function(){booking.google.trackEvent(booking.google.clickTracker,"adv_search_5","Link clicked")});if(booking.env.b_action==="hotel"){var c=$(window).width(),d;if(c<800){d="less than 800"}else{if(c<=1280){d="between 800 and 1280"}else{d="greater than 1280"}}booking.google.trackEvent(booking.google.viewTracker,"User viewport width (HP)",d,c)}}return true}};(function(h,k,l,g,j){var d=false,e=false,f=[],c=0;var m=function(o){if(c){console.log("googleInit")}var p;if(!d){d=true;l.track.exp("NHJbEeNfcHe");l.track.exp("fdRDFeNZaXWMNNQKe");p=k.createElement("script");p.type="text/javascript";p.src=g.google_map_current_url;var n=function(){e=true;var u;for(var t=0,r=f.length;t<r;t++){u=f[t];if(u.cb){u.cb.apply(u.ctx||null,u.args||[])}}};h.rerunCreateMap=n;$("head").append(p)}if(!e){f.push(o)}};l.google_geo_api={loaded:function(){return e&&h.google&&google.maps},load:m}})(window,document,booking,booking.env,sNSStartupLoad);booking[sNSStartup].google_pageview_tracker={priority:9,init:function(){var d=booking.env,e=d.b_action,c,f=window._gaq;if(typeof d.google_analytics_tracking_enabled!="undefined"&&d.google_analytics_tracking_enabled){$('div#survey[surveykey="'+d.survey_key+'"] button[value="accept"]').click(function(){f.push(["_trackPageview",d.surveytracklink])});if(e==="general"){$("a#jobsite").click(function(){f.push(["_trackPageview","/outgoinglink/jobsite"])})}$("#review_useful_share a").click(function(){var g;this.id=="share_any_review_fb"?g="facebook":g="twitter";g+="/"+this.getAttribute("data-id");f.push(["_trackPageview","/outgoinglink/socnet_share/review_v2/"+g]);f.push(["_trackSocial",g,"Share Review"])});$("#flash_bookmark_home").click(function(){f.push(["_trackPageview","/outgoinglink/flashdeals/bookmark"])});$(".priceline_ext_link").click(function(){f.push(["_trackPageview","/outgoinglink/priceline_name_your_price"])});$("#share_hotel_history_fb_v1").click(function(){f.push(["_trackPageview","/outgoinglink/socnet_share/hotel_history/Facebook"]);f.push(["_trackSocial","Facebook"," Share My Viewed Hotels V1",""])});$("#share_hotel_history_fb_v2").click(function(){f.push(["_trackPageview","/outgoinglink/socnet_share/hotel_history/Facebook"]);f.push(["_trackSocial","Facebook"," Share My Viewed Hotels V2",""])});$("#share_hotel_history_email_v1").click(function(){f.push(["_trackPageview","/outgoinglink/socnet_share/hotel_history/Email"]);f.push(["_trackSocial","Email"," Share My Viewed Hotels V1",""])});$("#share_hotel_history_email_v2").click(function(){f.push(["_trackPageview","/outgoinglink/socnet_share/hotel_history/Email"]);f.push(["_trackSocial","Email"," Share My Viewed Hotels V2",""])});$("#fb_conf_sharer_base").click(function(){f.push(["_trackSocial","Facebook","Confirmation Page Share BASE"])});$("#fb_conf_sharer_v1").click(function(){f.push(["_trackSocial","Facebook","Confirmation Page Share V2"])});$("#view_score_avg_wrap #view_score_avg").click(function(){f.push(["_trackEvent","Hotel Page","Click","View Hotel Review Score Chart"])});$("#pb_confirmation_travellist").click(function(){f.push(["_trackSocial","FB TravelList","Booking Confirmation Click"])});if(e==="index"){$("#number_one_promotion #wua_link_logo").click(function(){f.push(["_trackPageview","/outgoinglink/wua-1"])});$("#number_one_promotion #link_jobsite_nl").click(function(){f.push(["_trackPageview","/outgoinglink/jobsite_promo_nl"])})}if(e==="confirmation"){$("#social_share_links a").click(function(){var g="base";if(this.id=="social_share_conf_facebook"){g+="/facebook";sn="facebook"}else{g+="/twitter";sn="twitter"}f.push(["_trackPageview","/outgoinglink/socnet_share/confirmation/"+g]);f.push(["_trackSocial",sn,"Share Confirmation"])});$("#external_review_invite_link").click(function(){f.push(["_trackPageview","/outgoinglink/confirmation/external_review_invite/"])})}if(/error/.test(e)){c=(d.b_referrer||"").split("?")[0].replace(window.location.origin,"")||"dont-know";f.push(["_trackPageview","/error-action/"+e+"/caused-by"+c])}if((e==="searchresults")&&d.is_ipad){$("a.filterelement").click(function(){var g=$(this).parent().parent().attr("id");g=g.substring(7);if(d.filterbox_ipad){var j="var1"}else{var j="base"}var h="/outgoinglink/filterbox_ipad_link/"+j+"/"+g+"/";f.push(["_trackPageview",h])})}}}};booking[sNSStartup].header_cleaned_links={priority:9,init:function(){$(".forgot_link_look, .forgot_pass_trigger").live("click",function(){var c=$(this).attr("data-href")||$(this).attr("href");window.open(c,"_blank","left=42,top=42,height=502px,width=440px,resizable=false");return false});$("body").delegate(".hide_reminder_iframe","click",function(){$(this).parent(".reminder_iframe_wrapper").remove();$(".better_login").show();booking[sNSStartup].new_personal_menu.recheckHeight();oThat.openSelect("current_account")});$("#foldout_loggedin li").live("click",function(){var c=$(this);if(c.hasClass("seo_link_look")&&c.attr("data-href")){if(!c.hasClass("my_logout")){window.location=c.attr("data-href")}}})}};booking[sNSStartup].hotel_share_center={priority:9,share_center:null,share_center_popup:null,prev_share_center_link:null,init:function(){var c=this;$(".share_center .share_center_button strong, .general_share_center_button").click(function(){if($("#general_share_center").length){c.share_center=$("#general_share_center").get(0);$(c.share_center).removeClass("has_short_url");var e=$(this).attr("data-hotelname");var d=$(this).attr("data-hotelimage");var h=$(this).attr("data-sharelinks").split(",");var f=$(c.share_center).attr("data-checkinvars");var g=[$(this).offset().left-$("#bodyconstraint-inner").offset().left,$(this).offset().top];$(".details",c.share_center).html('<img src="'+d+'" width="50" height="50" alt="" /><h3>'+e+"<small>"+h[0]+"</small></h3><hr />");$("#share_center_url").val(h[0]);$(".sc_facebook a",c.share_center).attr("href",h[1]+f);$(".sc_google a",c.share_center).attr("href",h[2]+f);$(".sc_twitter a",c.share_center).attr("href",h[3]+f);$(".sc_email a",c.share_center).attr("href",h[4]+f);$(c.share_center).css({left:g[0]+"px",top:g[1]+"px"})}else{c.share_center=$(this).closest(".share_center")}c.share_center_popup=$(".share_center_popup",c.share_center);if($(c.share_center).hasClass("open")){if(c.prev_share_center_link==null||c.prev_share_center_link==this){c.close()}else{c.addShortUrl()}}else{c.prev_share_center_link=this;c.open()}return false});$(".share_center .close").click(function(){c.close(" - Corner");return false});$(".share_center .out_link a").click(function(){type=$(this).attr("rel");url=$(this).attr("href");_gaq.push(["_trackSocial","Share Center","Link Share on"+type]);window.open(url,"sc_share","menubar=0,resizable=1,width=600,height=400");return false});$(".share_center .sc_email a").click(function(){_gaq.push(["_trackSocial","Share Center","Link Share onEmail"])});$(".share_center_url").click(function(){this.select();$(".copy_hint",$(this).closest(".share_center")).fadeIn("fast");_gaq.push(["_trackSocial","Share Center","Copy URL"])});$(".share_center_url").blur(function(){$(".share_center .copy_hint",this).fadeOut("fast")})},open:function(){$(this.share_center_popup).fadeIn("fast");$(this.share_center).addClass("open");_gaq.push(["_trackSocial","Share Center","Open Share Center"]);this.addShortUrl()},addShortUrl:function(){if(!$(this.share_center).hasClass("has_short_url")){full_url=$(".share_center_url",this.share_center).val()+"?label=social_sharecenter_copy_url";if($(this.share_center).data("checkin")&&$(this.share_center).data("checkout")){full_url=full_url+"&checkin="+$(this.share_center).data("checkin")+"&checkout="+$(this.share_center).data("checkout")}$.get("/short_uri?url="+escape(full_url)+"&aid="+booking.env.aid,function(c){sc_short_url="http://booking.com/"+c.short_url;$("h3 small",this.share_center).text(sc_short_url);$(".share_center_url",this.share_center).val(sc_short_url);$(this.share_center).addClass("has_short_url")})}},close:function(c){this.prev_share_center_link=null;$(this.share_center_popup).fadeOut("fast");$(this.share_center).removeClass("open");_gaq.push(["_trackSocial","Share Center","Close Share Center"+c])}};(function(c){c.idleTimer=function(m,e){var f=false,j=true,k=30000,n="mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove";e=e||document;var h=function(r){if(typeof r==="number"){r=undefined}var q=c.data(r||e,"idleTimerObj");q.idle=!q.idle;var o=(+new Date())-q.olddate;q.olddate=+new Date();if(q.idle&&(o<k)){q.idle=false;clearTimeout(c.idleTimer.tId);if(j){c.idleTimer.tId=setTimeout(h,k)}return}var p=jQuery.Event(c.data(e,"idleTimer",q.idle?"idle":"active")+".idleTimer");p.stopPropagation();c(e).trigger(p)},l=function(o){var p=c.data(o,"idleTimerObj");p.enabled=false;clearTimeout(p.tId);c(o).unbind(".idleTimer")},d=function(){var o=c.data(this,"idleTimerObj");clearTimeout(o.tId);if(o.enabled){if(o.idle){h(this)}o.tId=setTimeout(h,o.timeout)}};var g=c.data(e,"idleTimerObj")||{};g.olddate=g.olddate||+new Date();if(typeof m==="number"){k=m}else{if(m==="destroy"){l(e);return this}else{if(m==="getElapsedTime"){return(+new Date())-g.olddate}}}c(e).bind(c.trim((n+" ").split(" ").join(".idleTimer ")),d);g.idle=f;g.enabled=j;g.timeout=k;g.tId=setTimeout(h,g.timeout);c.data(e,"idleTimer","active");c.data(e,"idleTimerObj",g)};c.fn.idleTimer=function(d){if(this[0]){c.idleTimer(d,this[0])}return this}})(jQuery);booking[sNSStartup].ie6_content_width={priority:9,init:function(){if($("html.b_msie_6").length){$(window).resize(function(){var c=document.documentElement.clientWidth;document.getElementById("bodyconstraint-inner").style.width=(c<630)?"630px":((c>1094)?"1094px":(c-20)+"px")})}}};booking[sNSStartup].in_and_around_updates={priority:9,loadpos:0,savecheck:0,init:function(){var c=(booking.env.b_action=="hotel")?1:12;$(".landing .widesep ul, .hotel .in_and_around ul").each(function(){if((booking.env.b_action=="country")&&($(this).siblings("h4")[0].className=="iaa_city")){if(booking.env.b_site_experiment_more_cities_on_country_page==2){return}}else{if((booking.env.b_action=="region")&&($(this).siblings("h4")[0].className=="iaa_city")){if(booking.env.b_site_experiment_more_cities_on_region_page){return}}}var d=$(this).find("li");if(d.length>c+2&&!(booking.env.b_site_experiment_country_sides_swapped||booking.track.getVariant("BUYdXfMOKe"))){if(booking.env.b_site_experiment_more_promotions_blue){d.eq(c).after('<li class="iaa_more iaa_more_blue"><a href="#">'+booking.env.inandaround_more+"</a></li>")}else{d.eq(c).after('<li class="iaa_more"><a href="#">'+booking.env.inandaround_more+"</a></li>")}d.filter(":gt("+c+")").hide()}});$("li.iaa_more a").click(function(){$(this).hide().parents("ul").find("li").show();if(booking.env.b_action!="hotel"){$("#in_and_around .masonry").masonry()}return false});if(document.getElementById("in_and_around")&&booking.env.b_action!="hotel"){$(window).resize(function(){var d=$("#in_and_around .masonry");d.masonry({itemSelector:".in_and_around",isResizable:false,columnWidth:d.width()*0.499})}).resize()}}};if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());if($.cookie("b")){var b_cookie=JSON.parse($.cookie("b"))||{}}else{var b_cookie={}}(function(){var c=booking.env,d=booking[sNSStartupLoad].show_language={priority:9,init:function(){var f=function(){b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:c.b_domain_end})}};if(typeof(b_cookie)=="undefined"){b_cookie={}}$("#langselectbutton, #languageselect input").hide();$("#langselectformlist, #currList").change(function(){$("#languageselect")[0].submit();f()});$(".language_flags").click(function(){f()});if(c.show_language_suggestion){if(b_cookie.countLang){if(!isNaN(b_cookie.countLang)){var e=parseInt(parseInt(b_cookie.countLang)+1);if(e<=4){c.language_dialog_count2=e;b_cookie.countLang=c.language_dialog_count2}}else{c.language_dialog_count2=1;b_cookie.countLang=1}}else{c.language_dialog_count2=1;b_cookie.countLang=1}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:c.b_domain_end})}if(b_cookie.langPrompt!="dontshow"&&c.language_dialog_count2<4){setTimeout(d.createAlert,2000)}}},createAlert:function(j){var k=c.show_language_suggestion,n=c.browser_lang,f=c.icons,l,o=false,g="",e="",m="";if(k){var h=230;current_currency_width=$("#current_currency").width();current_language_width=$("#current_language").width();personal_form_space=Math.round(current_currency_width+(current_language_width/2)-(h/2));lang_prompt_html="";if($("#languageselect .language-wrapper").length){l=$("#languageselect .language-wrapper");g="margin-top:10px;";e="top: -2px;";if(c.b_is_ie6||c.b_is_ie7){m="margin-top:25px;left:100px;"}o=true}else{l=$("#personal_form");e="top: -11px;";m="top:40px;"}lang_prompt_html+='<div id="lang-prompt" style="display:none;height:1px;position:absolute;z-index:50;width:'+h+"px;left:"+personal_form_space+"px;"+m+'"><div style="position:absolute;zoom:1;'+e+";left:120px;width:17px;height:13px;background:url('//r-ec.bstatic.com/static/img/experiments/top-info-arrrow2/932e26ee2c70a335e5031bf87df7595bf93ca5b9.png');\"></div><div style=\"border:2px solid #a2bbda;padding:10px;background:#e6edf6;width:230px;-moz-box-shadow:0 1px 2px rgba(0,0,0,.7);-webkit-box-shadow:0 1px 2px rgba(0,0,0,.7);"+g+'"><a href="#" class="close" style="float:right;font-weight:normal;font-size:12px;line-height:1.3;opacity:.35;filter:alpha(opacity=35);">'+c.transl_close_x+"</a>";lang_prompt_html+='<a href="#scs" id="lang_change_link" class="lang_change_link" style="display:block;font-weight:normal;margin-right:50px;padding-left:40px;white-space:normal;background:url(\'//q-ec.bstatic.com/static/img/flags/24/'+c.b_flag_to_suggest+'.png\') no-repeat;" data-lang-code="'+k.suggested_lang_select+'">'+k.transl_change_page_lang_to_x+"</a>";lang_prompt_html+="</div></div>";l.append(lang_prompt_html);$("#lang-prompt").fadeIn("slow");booking.google.trackEvent(booking.google.clickTracker,"Lang prompt","Show");$("#lang-prompt .close").click(function(){b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:c.b_domain_end})}$("#lang-prompt").hide();booking.google.trackEvent(booking.google.clickTracker,"Lang prompt","Close");return false});$("#lang-prompt .lang_change_link").click(function(){b_cookie.langPrompt="dontshow";if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:c.b_domain_end})}var p=$(this).attr("data-lang-code");if(o){$("#langselectformlist").val(p);$("#languageselect")[0].submit()}else{window.location=$(".lang_"+p).attr("data-href")}})}}}})();booking[sNSExperiments].ng_last_viewed={priority:9,resultsPerPage:5,totalPages:0,currentPage:0,googleTracked:false,headerIsTracked:false,lastViewedHotels:null,ajaxPath:"/userhistory."+booking.env.b_lang_for_url+".html",ajaxStatus:0,init:function(){$("body").append('<div id="ng-overlay" hidden></div>');this.addEvents()},addEvents:function(){var c=this,d=$("#top_lw_wrapper"),e=$("a#top_last_viewed");e.bind("click",{exp:c},function(h){var g=$(this),f=$("#history_count").attr("data-count");if(!h.data.exp.headerIsTracked){h.data.exp.headerIsTracked=true}if(!c.googleTracked){booking.google.trackEvent(booking.google.clickTracker,"Last Viewed In Header","Opened Last Viewed Hotels from the header button");c.googleTracked=true}if($("#ng-overlay").is(":visible")){c.distoryOverlay();d.hide()}else{c.createOverlay();d.show()}if(!c.ajaxStatus&&f&&(f-0)>0){c.getLastViewedHotels()}if(typeof booking.maps!=="undefined"&&booking.maps.map_opened){booking.maps.close()}h.preventDefault()});$("#ng-overlay, #current_account, #header_currency, #header_language").bind("touchstart",function(h){var g=$(this),f=$(h.target);if(f.get(0).id=="ng-overlay"){h.preventDefault()}c.distoryOverlay()});$("#lw_next, #lw_prev").bind("touchstart",function(h){var g=$(this),f;h.preventDefault();f=setTimeout(function(){c.renderItems(g.data("page"))},300)});$("#sidebar_last_viewed").bind("click",function(f){f.preventDefault();$(document.body).animate({scrollTop:0},400,function(){e.trigger("click");booking.google.trackEvent(booking.google.clickTracker,"Last Viewed In Header","Opened Last Viewed Hotels from the sidebar button")})})},createOverlay:function(){var c=this;$(document).bind("touchmove",false);$("#ng-overlay").show()},distoryOverlay:function(){$(document).unbind("touchmove",false);$("#ng-overlay").hide();$("#top_lw_wrapper").hide();return false},getLastViewedHotels:function(){var c=this,d=$("#lw_list #spinner");c.ajaxStatus=1;if($.ajax){$.ajax({type:"GET",cache:false,url:c.ajaxPath,dataType:"JSON",data:{last_viewed_json:1,tmpl:"profile/json",stid:350339},success:function(e){c.ajaxStatus=2;if(typeof e!=="object"){e=$.parseJSON(e)}if(!e||$.isEmptyObject(e)||(e instanceof Array&&!e.length)){return}c.lastViewedHotels=e;c.totalPages=Math.ceil(e.length/c.resultsPerPage);c.renderItems(1);d.remove()}})}return true},renderItems:function(l){var e=this,c=$("#lw_next"),d=$("#lw_prev"),g=$("#lw_list"),k=e.lastViewedHotels,h=(l-1)*e.resultsPerPage,f=h+e.resultsPerPage;f=f>k.length?k.length:f;g.empty();e.currentPage=l;for(h;h<f;h++){g.append(this.renderItem(k[h]))}if(e.currentPage<e.totalPages){c.data("page",e.currentPage+1).show()}else{c.hide()}if(e.currentPage!=1){d.data("page",e.currentPage-1).show()}else{d.hide()}},renderItem:function(e){var c=this,d="";d+="<li>";d+='<a class="ui-helper-clearfix" href="';d+=booking.env.b_nonsecure_hostname_signup+e.url+booking.env.b_query_params_with_lang;d+=booking.env.b_url_params+booking.env.b_query_params_delimiter;if(booking.env.b_param_do_availability_check!="undefined"){d+="do_availability_check=on"+booking.env.b_query_params_delimiter;if(booking.env.b_checkin_date&&booking.env.b_checkout_date){d+="checkin="+booking.env.b_checkin_date;d+=booking.env.b_query_params_delimiter;d+="checkoutn="+booking.env.b_checkout_date}}d+='">';if(e.photo_id){d+='<img width="60px" height="60px" src="/images/hotel/square60/'+e.photo_id.substring(0,3)+"/"+e.photo_id+'.jpg " />'}d+='<span class="lw_hotel_name">'+e.title+"</span>";if(e.rating){if(e.class_is_estimated&&e.hotel_cc1=="de"&&booking.env.b_site_experiment_t_de_rating_bugfix>0){d+=booking.env.b_site_experiment_t_retina_rating>0?'<span class="retina_estimated_small '+c.loadRetinaRatingClass(e.rating,e.rating_half)+'"></span>':'<span class="circles '+c.loadRatingClass(e.rating,e.rating_half)+'"></span>'}else{if(e.class_is_estimated&&e.hotel_cc1=="au"&&booking.env.b_site_experiment_t_au_rating_bugfix>0){d+=booking.env.b_site_experiment_t_retina_rating>0?'<span class="retina_estimated_small '+c.loadRetinaRatingClass(e.rating,e.rating_half)+'"></span>':'<span class="circles '+c.loadRatingClass(e.rating,e.rating_half)+'"></span>'}else{d+=booking.env.b_site_experiment_t_retina_rating>0?'<span class="retina_stars_small '+c.loadRetinaRatingClass(e.rating,e.rating_half)+'"></span>':'<span class="use_sprites stars4 stars4i'+e.rating+'"></span>'}}if(e.class_is_estimated&&e.hotel_cc1=="au"&&!c.isAUTracked){booking.track.exp(booking.env.js_experiment_tracking.t_au_rating_bugfix);c.isAUTracked=true}}if(e.address){d+='<span class="lw_address">'+e.address+"</span>"}d+="</a>";d+="</li>";return d},loadRatingClass:function(c,d){return(d?"circle"+c+"i4half":"circle"+c+"i4")},loadRetinaRatingClass:function(c,d){return"retina_stars_small_"+c+(d?"half":"")}};booking.ensureNamespaceExists(sNSStartup);booking.lightbox=booking[sNSStartup].lightbox=(function(){var l;var c;var m;var f;var u;var d;var k={bAnimation:true,bCloseButton:true,customWrapperClassName:"",customMaskClassName:"",bFullscreen:false,hideCallBack:null,hideBeforeCallBack:null,positionBeforeCallBack:null,positionAfterCallBack:null,cloneElement:false,bCanScroll:false,bOverflowVisible:false,opacity:0.5};var e={};var g=function(){if(!c){return}if(e.hideBeforeCallBack){e.hideBeforeCallBack()}if(!e.cloneElement){u.prepend(f);f.css("display",d)}l.remove();c.remove();$("body").removeClass("modal-visible");$(window).unbind("resize",n);$(document).unbind("keyup",q);$("#calendar_popup").css("display","none");if($.browser.msie&&$.browser.version<=6){$("embed, object, select").filter(function(){return $(this).closest(".modal-wrapper").length!=1}).css({visibility:"visible"})}if(e.hideCallBack){e.hideCallBack()}};var v=function(){if(e.positionBeforeCallBack){e.positionBeforeCallBack()}l.css({width:$(document).width(),height:$(document).height()});if($.browser.msie&&$.browser.version<=6){l.width($(document.body).innerWidth())}var y=$(window).width(),w=$(window).height();if($.browser.msie&&($.browser.version<9)){y=y-parseInt(c.css("paddingLeft"))-parseInt(c.css("paddingRight"));w=w-parseInt(c.css("paddingTop"))-parseInt(c.css("paddingBottom"))}if(c.outerHeight()>$(window).height()){c.css("height",w)}else{c.css("height","");if(c.outerHeight()>=$(window).height()){c.css("height",w)}}if(c.outerWidth()>$(window).width()){c.css("width",y)}else{c.css("width","");if(c.outerWidth()>=$(window).width()){c.css("width",y)}}var A=0,z=0;if(!e.bFullscreen){if(window.self!==window.top&&booking.track.getVariant("OLDGGBYT")){if(window.parent&&window.parent.booking[sNSExperiments]&&window.parent.booking[sNSExperiments]["OLDGGBYT"]){var x=window.parent.booking[sNSExperiments]["OLDGGBYT"].getScrollPos();A=Math.max(0,(x[1]/2-c.outerHeight()/2)+x[0])}else{A=Math.max(0,$(window).height()/2-c.outerHeight()/2)}}else{A=Math.max(0,$(window).height()/2-c.outerHeight()/2)}z=Math.max(0,$(window).width()/2-c.outerWidth()/2)}else{c.css({width:y,height:w})}var C="hidden";if(e.bCanScroll){C="auto"}else{if(e.bOverflowVisible){C="visible"}}c.css({top:A,left:z,overflow:C});if(booking.env.b_run_bp_back_info_windows&&booking.env.b_is_ipad){m.css({top:A-8,left:z+y-120})}if($.browser.msie&&$.browser.version<=6){h()}if(e.positionAfterCallBack){e.positionAfterCallBack()}};var n=function(){if(c&&c.is(":visible")){v()}};var q=function(w){if(w.keyCode===27){g()}};var h=function(){var w=Math.max(0,$(window).height()/2-c.outerHeight()/2);w+=$(document).scrollTop();c.css("top",w);if(booking.env.b_run_bp_back_info_windows&&booking.env.b_is_ipad){m.css("top",w)}};var p=function(){if(booking.env.b_run_bp_back_info_windows&&booking.env.b_is_ipad){m.one("click",function(){g()})}else{$(".modal-wrapper .modal-mask-closeBtn").one("click",function(){g()})}$(".modal-mask").one("click",function(){g()});$(document).bind("keyup",q);$(window).bind("resize",n)};var o=function(){$('<div class="modal-mask"/>').appendTo(document.body);l=$(".modal-mask");if(e.customMaskClassName.length>0){l.addClass(e.customMaskClassName)}$('<div class="modal-wrapper"/>').appendTo(document.body);c=$(".modal-wrapper");if(e.customWrapperClassName.length>0){c.addClass(e.customWrapperClassName)}if(e.cloneElement){f.clone().appendTo(c)}else{c.append(f)}if(e.bCloseButton){if(booking.env.b_run_bp_back_info_windows&&booking.env.b_is_ipad){$('<div class="modal-mask-closeBtn" title="'+booking.env.experiment_popups_close+'"/>').appendTo(document.body);m=$(".modal-mask-closeBtn")}else{c.append($('<div class="modal-mask-closeBtn" title="'+booking.env.experiment_popups_close+'"/>'))}}if(e.bFullscreen){c.addClass("modal-wrapper--fullscreen")}$("body").addClass("modal-visible");f.show();v();p();if($.browser.msie&&$.browser.version<=6){$(window).scroll(function(){if(c.is(":visible")){h()}})}};var t=function(y,x){if(c&&c.is(":visible")){return}e={};$.extend(e,k,x);if(e.iframe){var w="";if(booking.env.b_run_bp_back_info_windows){w=$('<iframe id="lightbox_iframe" src="'+y+'" frameborder="0" width="100%" height="'+e.iframeHeight+'"></iframe> ')}else{w=$('<iframe id="lightbox_iframe" src="'+y+'" width="100%" height="'+e.iframeHeight+'"></iframe> ')}if(typeof e.loadCallBack=="function"){w.load(e.loadCallBack)}f=w;u=f.parent();d=f.css("display");r()}else{if(e.ajax){jQuery.ajax({url:y,cache:true,success:function(z){f=$(z);u=f.parent();d=f.css("display");r()}})}else{f=$(y);u=f.parent();d=f.css("display");r()}}};var r=function(){o();c.css("visibility","visible");if(e.bAnimation&&!($.browser.msie&&$.browser.version<=6)){l.fadeTo("slow",e.opacity);c.css("opacity","0").animate({opacity:1},1000,function(){$(this).css("opacity","")})}else{l.css("opacity",e.opacity).show()}if($.browser.msie&&$.browser.version<=6){$("embed, object, select").filter(function(){return $(this).closest(".modal-wrapper").length!=1}).css({visibility:"hidden"})}if(booking.env.b_run_bp_back_info_windows&&booking.env.b_is_ipad){$(window).trigger("resize")}};var j=function(y,x,w,z){booking[sNSStartup].lightbox.show($("#"+z))};return{priority:5,init:function(){},show:t,hide:g,rePosition:n,open:j}}());$(document).ready(function(){if(!booking.env.live_av_outer){return}if(typeof(c)=="undefined"){var c={}}c.URL="/live_av";c.active=false;c.info_string=booking.strings("LIVE_AV_INFO_MSG")||"$ properties available";c.cico_fields=["checkin_day","checkin_year_month","checkout_monthday","checkout_year_month"];c.show_message=function(d){if(booking.track.getVariant("BZKBfXWXcdVT")>0){$(".live_av_wrap_2").show()}$("#live_av_wrap #live_av_info").html(d)};c.is_valid_cico=function(g,f){var e=new Date().getTime();var h=Date.UTC.apply(null,g.split("-"));var d=Date.UTC.apply(null,f.split("-"));if(h<d){return true}return false};c.build_av_query=function(){var h={};h.lang=booking.env.b_lang;var e=booking[sNSExperiments].search_autocomplete.cur_ui_item;var d=["checkin_monthday","checkout_monthday","checkin_year_month","checkout_year_month","age","group_adults","group_children","in_a_group","org_nr_rooms","org_nr_adults","org_nr_children"];var g={dest_type:e.dest_type,dest_id:e.dest_id};if(!c.dom_cache_by_name){c.dom_cache_by_name={}}for(i=0;i<d.length;i++){var f=d[i];var j=c.dom_cache_by_name[f];if(!j){j=$("form#frm [name="+f+"]");if(j){c.dom_cache_by_name[f]=j}}if(j&&j.val()){h[f]=j.val()}}for(f in g){var k=g[f];if(k){h[f]=k}else{return false}}return h};c.get_live_av=function(){if(!c.cico_fields_obj){c.cico_fields_obj={};for(i=0;i<c.cico_fields.length;i++){var e=c.cico_fields[i];c.cico_fields_obj[e]=$("#"+e)}}for(field_type in c.cico_fields_obj){if(c.cico_fields_obj[field_type]){if(parseInt(c.cico_fields_obj[field_type].val())==0){return false}}}var d=c.cico_fields_obj.checkin_year_month.val()+"-"+c.cico_fields_obj.checkin_day.val();var g=c.cico_fields_obj.checkout_year_month.val()+"-"+c.cico_fields_obj.checkout_monthday.val();if(c.is_valid_cico(d,g)){if(c.av_xhr){c.av_xhr.abort()}var f=c.build_av_query();if(!f){return false}c.av_xhr=$.getJSON(c.URL,f,function(h){if(h&&h.hotel_total_count&&!h.error){booking.track.exp("BZKBfXWXcdVT");if(h.message&&booking.track.getVariant("BZKBfXWXcdVT")){if(h.hasOwnProperty("msg_type")){msg_exp=["BZKBfXDJGcTC","BZKBfXDJaT"][h.msg_type];if(msg_exp.length>0){booking.track.exp(msg_exp)}}c.show_message(h.message)}}});return true}else{}return false};c.fetch_and_show_live_av=function(){if(!booking.env.live_av_outer){return false}if(c.active){c.active=clearTimeout(c.active)}c.active=setTimeout(function(){if(!c.get_live_av()){}},100)};$(document).ready(function(){booking.eventEmitter.bind("CALENDAR:dates_changed",c.fetch_and_show_live_av);$("#inout select[name^=check]").change(c.fetch_and_show_live_av);$("#destination").bind("auto_completed",c.fetch_and_show_live_av)});booking.LIVE_AV=c});booking[sNSStartupLoad].message_box={priority:9,init:function(){$("#self_change1 .messageBox").click(function(e){var c=$(this).children("a").attr("href");var d=/(?:\b)tmpl[\=]docs[\\\/]customer_service(?:\b)/i;if(c&&(c!="#")&&(!d.test(c))){location.href=$(this).children("a").attr("href")}return false});$("#isDifferent").fadeIn()}};booking.newsLanding=(function(){var c=function(){$(".location_dropdowns select").live("focus",function(){var d=$(this).find(":selected").text();$(this).attr("oldValue",d)});$(".location_dropdowns select").change(function(){myid=$(this).attr("id");myvalue=$(this).find(":selected").val();mytext=$(this).find(":selected").text();selected=$(this).attr("oldValue");if(myvalue.length>0){if(myid=="fd_title_countryname"){track_string=booking.env.b_lang+" | Countries | "+mytext}else{if(myid=="fd_title_regionname"){track_string=booking.env.b_lang+" | Regions | "+mytext}else{if(myid=="fd_title_cityname"){track_string=booking.env.b_lang+" | Cities | "+mytext}}}}else{if(myid=="fd_title_countryname"){track_string=booking.env.b_lang+" | Countries Remove | "+selected}else{if(myid=="fd_title_regionname"){track_string=booking.env.b_lang+" | Regions Remove | "+selected}else{if(myid=="fd_title_cityname"){track_string=booking.env.b_lang+" | Cities Remove | "+selected}}}}booking.google.trackEvent(booking.google.clickTracker,"Dealfinder",track_string);this.form.submit()});$("#b_sortbox select").change(function(){booking.google.trackEvent(booking.google.clickTracker,"Dealfinder","df_dropdown_sorting");this.form.submit()});$("#checkin-flexible-form").submit(function(){var d=$("#b_fd_checkin_date").val();var e=$("#fd_flex").attr("checked");if(d!="undefined"){if(e){track_string=booking.env.b_lang+" | Date Select | Flexible"}else{track_string=booking.env.b_lang+" | Date Select"}}else{track_string=booking.env.b_lang+" | Date Remove | "}booking.google.trackEvent(booking.google.clickTracker,"Dealfinder",track_string)})};return{init:c}}());booking[sNSExperiments].fd_pages={priority:1,init:function(){booking.newsLanding.init()}};booking[sNSStartup].newsletterSignup={priority:8,init:function(){$(".subscriptionbox").click(function(){booking[sNSStartup].lightbox.show($("#subsciber_firstname_lightbox"),{customWrapperClassName:"subscribername-lightbox"});return false});if(booking.env.b_show_newsletter_popup){booking[sNSStartup].lightbox.show($("#subsciber_firstname_lightbox"),{customWrapperClassName:"subscribername-lightbox"})}if(booking.env.b_show_solicitation_popup){if(booking.env.b_show_success_popup_content){booking[sNSStartup].lightbox.show($("#solicitation_feedback_success"),{customWrapperClassName:"solicitation-lightbox"});return false}else{if(booking.env.b_show_error_popup_content){booking[sNSStartup].lightbox.show($("#solicitation_feedback_error"),{customWrapperClassName:"solicitation-lightbox"});return false}}}}};booking[sNSStartup].newsletterTutorials={priority:8,init:function(){var e=1;var f=this;if(booking.env.tutorialpopup){if(b_cookie&&(b_cookie.showthistutorial!=booking.env.tutorialpopup)){var c=booking.env.tutorialpopup;var d=$(".tutorialwrapper_"+c).attr("id");f.loadPopups("#tutorial_dyk_"+c+"_s"+e,c,e)}}$("#tutorial_dyk_02_s1 a.fd_next").click(function(){$("#show_reviews_tab").click()});$("a.fd_close").click(function(){f.closeTutorial(this)});$("a.fd_next").click(function(){f.nextPopup(this,d,c)})},loadPopups:function(g,j,h){var c=this;var k=$("#tutorial_dyk_"+j+"_s"+h).attr("rel");if(k){var f=new c.relativePosition(k,true,false);var d=$(g).attr("rev");var e=$(g).width();var m=new c.getRelInlineCss(g);if(m.rgValues){$(this).css({top:"",right:"",bottom:"",left:""})}if(d!="undefined"){if(d=="right"){var l={top:(f.relDivTop+m.rgTop)+"px",left:(f.relDivSide+m.rgLeft)+"px"}}else{if(d=="left"){var l={top:(f.relDivTop+m.rgTop)+"px",left:(f.relDivSide-e+m.rgLeft)+"px"}}}}if(f.scrollToDiv&&h==1){$("html, body").delay(500).animate({scrollTop:(f.relDivTop-50)},1000,function(){$(g).css(l).fadeIn(300)})}else{$(g).delay(300).css(l).fadeIn(500)}}else{$(g).delay(300).fadeIn(500)}},relativePosition:function(c){var d=$("#"+c).offset()||{};this.relDivTop=d.top;var f=d.left;var e=$("#bodyconstraint-inner").offset().left;this.relDivSide=(f-e);if(this.relDivTop>200){this.scrollToDiv=true}else{this.scrollToDiv=false}},getRelInlineCss:function(c){this.rgTop=parseInt($(c).css("top").replace("px",""))||0;this.rgLeft=parseInt($(c).css("left").replace("px",""))||0;if(this.rgLeft==0&&this.rgTop){this.rgValues=false}else{this.rgValues=true}},nextPopup:function(c,g,d){var h=$(c).attr("id").split("nextstep_")[1];var e=(parseInt(h)+1);var f="#"+g+"_s"+h;$(f).fadeOut(300);this.loadPopups("#tutorial_dyk_"+d+"_s"+e,d,e)},closeTutorial:function(c){$(c).closest(".tutorial_dyk").fadeOut(300);b_cookie=b_cookie||{};b_cookie.showthistutorial=booking.env.tutorialpopup;if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})}return false}};booking[sNSStartup].accounts_for_everybody={priority:9,passwordFields:0,passwordChar:"",maskPass:"",isAdding:false,keyCounter:0,paswordShowInit:false,init:function(){var c=this;$(".passwd_strength").each(function(){var e='<div class="pwd_strength"><div class="strength"></div></div><span class="jq_tooltip strength_text" title="'+booking.env.b_passwd_tooltip+'" rel="300">&nbsp;</span>';$(this).after(e);var f=parseInt($(this).css("margin-left").replace("px",""))+1;$(".pwd_strength",this.parentNode).css("margin-left",f+"px");var d=this;$(".pwd_strength",this.parentNode).click(function(){$(d).focus()});$(".pwd_strength",this.parentNode).mouseenter(function(){$(d).addClass("hoverText")});$(".pwd_strength",this.parentNode).mouseleave(function(){$(d).removeClass("hoverText")})});$(".passwd_strength").focus(function(){var e=parseInt($(this).css("margin-left").replace("px",""));var d=(booking.env.b_browser=="safari")?2:e+2;$(".pwd_strength",this.parentNode).css("margin-left",d+"px")});$(".passwd_strength").blur(function(){var d=parseInt($(this).css("margin-left").replace("px",""))+1;$(".pwd_strength",this.parentNode).css("margin-left",d+"px")});$(".passwd_strength").keyup(function(){c.keyCounter++;oThis=this;var d=c.keyCounter;setTimeout(function(){c.calculateStrength(oThis,d)},400)});if($("td.pass_fix").length){$("#new_pass").blur(function(){var d=$(this).parents("tr").get(0);if($(this).val()!=""){$("th span",d).removeClass("val-no");$("th span",d).addClass("val-yes")}else{$("th span",d).removeClass("val-yes");$("th span",d).addClass("val-no")}});$("#confirm_new_pass").blur(function(){var d=$("#new_pass").val();var e=$(this).parents("tr").get(0);if($(this).val()!=""&&$(this).val()==d){$("th span",e).removeClass("val-no");$("th span",e).addClass("val-yes")}else{$("th span",e).removeClass("val-yes");$("th span",e).addClass("val-no")}})}},passWdInit:function(){var c=this;if(!this.paswordShowInit&&booking.env.auth_level<2){this.paswordShowInit=true;$(".passwd_show").each(function(){c.passwordFields++;var e=$(this).attr("name");var h=$(this).val();var g=($(this).hasClass("passwd_strength"))?" strength_margin":"";var j=Math.random();var d="pw_"+j+"textpwd_"+e;$(this).after('<div id="pwfield_'+c.passwordFields+'" class="show_password_text'+g+'"><input type="text" style="display:none;" class="textual_passwd textpwd_'+e+'" name="'+d+'" id="'+d+'" value="'+h+'" onkeyup="'+c.ns+"."+c.name+'.syncPassFields(this,true)" /><label class="pw_toggle_label" for="pw_toggle_'+c.passwordFields+'"><input id="pw_toggle_'+c.passwordFields+'" type="checkbox" onclick="'+c.ns+"."+c.name+'.togglePasswd(this)" />&nbsp;'+booking.env.b_show_passwd+"</label></div>");$(this).mouseenter(function(){var k=$(".textual_passwd",this.parentNode).get(0);$(k).addClass("hoverView")});$(this).mouseleave(function(){var k=$(".textual_passwd",this.parentNode).get(0);$(k).removeClass("hoverView")});var f="#confirm_"+$(this).attr("id");if($(f).length){$(f).each(function(){var m=$(this).attr("name");var l=$(this).val();var k="pw_"+j+"textpwd_"+m;$(this).after('<div id="confirm_pwfield_'+c.passwordFields+'" class="show_password_text"><input type="text" style="display:none;" class="textual_passwd textpwd_'+m+'" name="'+k+'" id="'+k+'" value="'+l+'" onkeyup="'+c.ns+"."+c.name+'.syncPassFields(this,true)" /></div>');$(this).mouseenter(function(){var n=$(".textual_passwd",this.parentNode).get(0);$(n).addClass("hoverView")});$(this).mouseleave(function(){var n=$(".textual_passwd",this.parentNode).get(0);$(n).removeClass("hoverView")})})}$(this).keyup(function(){c.syncPassFields(this,false)});$(this).focus(function(){var l=$(this).parents("form").get(0);var m=$(".textual_passwd",l).get(0);var k=$(m).css("display");if(k!="none"){$(m).focus()}})})}},calculateStrength:function(o,e){if(this.keyCounter==e){var g=$(o).val();var f=$(".pwd_strength .strength",o.parentNode);if(f.length){var q=0,n=0,j=0,h=0,c=0,d=g.length,r,m;if(d>0){q=parseInt(d/2.5);for(var l=0;l<d;l++){var p="!@#$%^&*(){}[];:'\"\\|,.<>/?+=-_";var k="ABCDEFGHIJKLMNOPQRSTUVWXYZ";if(!isNaN(g.charAt(l))){n=n+1}if(isNaN(g.charAt(l))){j=1}if(p.indexOf(g.charAt(l))>-1){h=h+2}if(k.indexOf(g.charAt(l))>-1){c=c+1}}if(h>4){h=4}if(n>2){n=2}if(c>2){c=2}if(j!=0){q+=n}q+=h;q+=c;if(q>10){q=10}}r=26;if($(o).parents("#foldout_signup").length||$(o).parents("#registration_id").length){r=18}m=r*q;strengthMsgIndex=parseInt((q/2)+1);if(d<8){f.addClass("strength_invalid");if(m===0){m=r}else{if(m>3){m=3*r}}strengthMsgIndex=0}else{f.removeClass("strength_invalid")}f.animate({width:m+"px"});if(g!=""){$(".strength_text",o.parentNode).text(booking.env.b_password_strength_msg[strengthMsgIndex])}else{$(".strength_text",o.parentNode).text("")}}}},togglePasswd:function(h){var f=$(h).parents("form").get(0);$(".textual_passwd",f).toggle();var g=$(".textual_passwd",f).get(0);var d=$(g).css("display");var c=$(g).attr("name");c=c.split("textpwd_")[1];var e=$("input[name='"+c+"']",f).get(0);if(d!="none"){this.fixCursorPosition(null,g);if(!$("td.pass_fix").length){$(e).addClass("focusText")}}else{$(e).removeClass("focusText");this.fixCursorPosition(null,e)}this.syncPassFields($(g).get(0),true)},fixCursorPosition:function(f,e){if(f!=null){var d=document.getElementById(f)}else{var d=e}d.focus();var g=$(d).val().length;if(g>0){if("selectionStart" in d){d.selectionStart=g;d.focus()}else{var c=document.selection.createRange();c.moveStart("character",g);c.moveEnd("character",0);c.select()}}},syncPassFieldsMask:function(h){var f=this;var d="textpwd_"+$(h).attr("name");var c=$("input."+d,h.parentNode).get(0);var e=$(h).val();var j="";var k="";f.maskPass="";for(var g=0;g<e.length;g++){var l=e.length-1;if(g>=e.length-1){j+=e[g];f.maskPass+=this.passwordChar}else{j+=this.passwordChar;f.maskPass+=this.passwordChar}}$(c).val(j);setTimeout(function(){f.syncPassFieldsFullMask(c)},1000)},syncPassFieldsFullMask:function(c){$(c).val(this.maskPass)},syncPassFields:function(l,g){var o=false;var m=null;var f=this;if(g){var e=$(l).attr("name");e=e.split("textpwd_")[1];var c=$("input[name='"+e+"']",l.parentNode.parentNode).get(0);var n=$(c).attr("id");if(n.indexOf("confirm_")>-1){var k="#"+n.replace("confirm_","");if(!$(k).length){k="#"+n.replace("_confirm","")}o=true}else{var k="#confirm_"+n}if($(k).length){m=$(k).get(0);$(m).val($(l).val());var d=$(m).attr("name");d="textpwd_"+d;var j=$("input."+d,m.parentNode.parentNode).get(0);$(j).val($(l).val())}}else{var e="textpwd_"+$(l).attr("name");var c=$("input."+e,l.parentNode).get(0)}$(c).val($(l).val());if(g){if(o){if($(m).hasClass("passwd_strength")){this.keyCounter++;var h=this.keyCounter;setTimeout(function(){f.calculateStrength(m,h)},400)}}else{if($(c).hasClass("passwd_strength")){this.keyCounter++;var h=this.keyCounter;setTimeout(function(){f.calculateStrength(m,h)},400)}}}else{if($(l).hasClass("passwd_strength")){this.keyCounter++;var h=this.keyCounter;setTimeout(function(){f.calculateStrength(m,h)},400)}}}};booking.preload_static_assets=function(g){var d,f,c,e=$.browser.msie;for(d=0,f=g.length;d<f;d+=1){if(e){new Image().src=g[d];continue}c=document.createElement("object");c.data=g[d];if(e){c.width=1;c.height=1;c.style.visibility="hidden";c.type="text/plain"}else{c.width=0;c.height=0}document.body.appendChild(c)}};$(window).load(function(){var c=$(document.body),e="mousemove keyup scroll mousedown",j=$("[data-preload-assets]"),g=$.cookie("has_preloaded"),k=0,f=function(){c.unbind(e,d);clearTimeout(k);booking.preload_static_assets(j.data("preload-assets"));$.cookie("has_preloaded",1,{expires:1,path:"/"})},h=function(){k=setTimeout(f,10000)},d=function(){clearTimeout(k);h()};if(g){return}if(j.length){setTimeout(function(){h();c.bind(e,d)},10000)}});booking[sNSStartup].rate_guarantee={priority:9,init:function(){$("#rate_guarantee a, #rate_guaranteed, #wrap-hotelpage-top .best_rate_guarantee a, table.hotellist td div.room_details_usp .room_details_usp_inner.best_rate_guarantee a, a.usps_rate_guarantee_link, #rate_guaranteev2 a, #ratelogo a, #terms_rateguarantee, a#guarantee_terms, #rates_feedback_invite a.jq_tooltip, .new-bpg").live("click",function(){if(booking.env.b_run_bp_back_info_windows){return}window.open(this.href,"RateGuarantee","status=1,toolbar=0,menubar=0,width=450,height=550,scrollbars=1");return false});return true}};booking.ensureNamespaceExists(sNSStartup);booking[sNSStartup].sb_advanced_search={init:function(){var n=$(".b_advanced_search"),j=n.find("input, select"),o=n.find(".b_advanced_search_fields_container"),c="b_advanced_search_s_hidden",k=300;function e(p){$("#nflt").val(p)}function l(r){var p=$(r),q;if(p.is(":checked")){q=p.data("param")}return q}function g(p){return $.map(p,l).join(";")}function m(){e(encodeURIComponent(g(j)))}function f(){o.slideDown(k,function(){n.addClass(c)})}function h(){o.slideUp(k,function(){n.removeClass(c)})}function d(){if(n.hasClass(c)){h()}else{f()}}n.bind("change",m);n.bind("toggleVisibility",d);$(".b_advanced_search_toggler").bind("click",function(p){n.trigger("toggleVisibility");p.preventDefault()});n.find(".b_advanced_search_fields_container").css("display","none");n.removeClass(c);if(booking.track.getVariant("bLNZKYFLKbEJcZdWBOKe")){n.delegate(".b_checkbox_selector","change",function(){var p=$(this),r=booking.track.getVariant("bLYCNcUDERXFNBERNGae"),t,q;if(p.attr("checked")){t="sb_hoteltypes_more_nha_suggestion__v"+r+":"+p.attr("data-param");q="Page: "+booking.env.b_action;booking.google.trackEvent("Click",t,q)}})}},priority:9};booking.ensureNamespaceExists(sNSStartup);booking[sNSStartup].short_url={priority:9,loadpos:0,savecheck:0,init:function(){var create_twitter_short_url=function(oTarget){if(typeof oTarget=="object"){myPopup=window.open("","booking_com");$.get("/short_uri?url="+escape(oTarget.getAttribute("data-shorturl"))+"&aid="+booking.env.aid,function(responseText){var json=eval(responseText);myPopup.location.href=oTarget.getAttribute("href")+" http://www.booking.com/"+json.short_url})}};$(".review_useful_t").live("click",function(){create_twitter_short_url(this);return false});$(".share_t").click(function(){create_twitter_short_url(this);return false})}};booking.env.showCase=function(d){var f={baseEl:"#newsletter_deals_city",showCaseClass:".deals",navClass:".deals_nav",menuClass:".deals_menu",showCaseWidth:150,showCaseBorder:3,defSteps:3};$("ul.deals",d.baseEl).css("left","0");var d=$.extend(f,d);c();$(d.baseEl).slideToggle();function c(){$(".next",d.baseEl).click(function(){e(1)});$(".prev",d.baseEl).click(function(){e(-1)})}function e(h){$(".next",d.baseEl).unbind("click");$(".prev",d.baseEl).unbind("click");var m=d.baseEl,g=d.defSteps,o=parseInt(d.showCaseWidth)+parseInt(d.showCaseBorder);var n=parseInt(g)*parseInt(o)*parseInt(h),l=$("ul"+d.showCaseClass+":visible",m),k=l.css("width"),j=parseInt(k)/n;if(n>0){if((-1*parseInt(l.css("left")))+n<parseInt(k)){l.animate({left:"-="+n},"normal",c)}else{l.animate({left:"0"},"normal",c)}}else{if(parseInt(l.css("left"))!=0){l.animate({left:"-="+n},"normal",c)}else{c()}}}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSStartup].b_site_experiment_expand_signup={priority:9,init:function(){var d=$("#newsletter_to",".footerForm"),c=d.attr("value");d.click(function(){var e=$(this);if(e.val()===c){e.val("")}else{e.select()}});d.blur(function(){var e=$(this);if(e.val()===""){e.val(c)}});$("#newsletter_button_footer").click(function(){$(this).parents("form:first").submit()});$(".signupForm").submit(function(f){f.preventDefault();$(".newsletter_ajax_error").hide();var l=booking.env,j=$(this),n=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,g=$("input[name=url]",j).val(),o=$("input[name=hostname]",j).val(),h=$("input[name=aid]",j).val(),m=$("input[name=companyname]",j).val(),e=$("input[name=subscribe_source]",j).val(),p=$("input[name=to]",j).val(),k;if(p===""||!(n.test(p))){$(".newsletter_subscribe_error_invalid",j).show();return false}k="to="+p+"&url="+g+"&hostname="+o+"&aid="+h+"&companyname="+m+"&subscribe_source="+e;$.ajax({type:"POST",url:"/newslettersubscribe.json",data:k,dataType:"json",success:function(r){if(r.success===0){if(r.error==="denied"){$(".newsletter_subscribe_error_denied",j).show();$(".newsletter_subscribe_error_bad_unknown, .newsletter_subscribe_error_invalid, .newsletter_sub_success",j).hide();$(".userdataform").hide()}else{if(r.error==="bad_params"){$(".newsletter_subscribe_error_bad_unknown",j).show();$(".newsletter_subscribe_error_denied, .newsletter_subscribe_error_invalid, .newsletter_sub_success",j).hide();$(".userdataform").hide()}}return}else{if(r.success===1){if($("div#flashdealsbg_wrapper").length){window.location.href=l.b_nonsecure_hostname_signup+l.b_fd_searchresults_url_signup}else{$(".newsletter_sub_success",j).show();$(".userdataform").show();$("#add_location_to").val(p);booking.env.my_city_autocomplete.init();$(".newsletter_form_fields, .newsletter_subscribe_error_bad_unknown, .newsletter_subscribe_error_denied, .newsletter_subscribe_error_invalid",j).hide();if(r.has_account){var q=$("#userdataform form").eq(0);if(q){q.attr("action",q.attr("data-url-login"))}}}}}}})});$(".soldOutHotelSignup").submit(function(f){f.preventDefault();$(".newsletter_ajax_error").hide();$("p.feedback_msg").each(function(){$(this).hide()});var o=booking.env,j=$(this),q=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,m=$("input[name=firstname]",j).val(),n=$("input[name=lastname]",j).val(),p=$("input[name=email]",j).val(),g=$("input[name=aid]",j).val(),l=$("input[name=subscribe_to_newsletter]",j).val(),r=$("input[name=hotel_id]",j).val(),t=$("input[name=checkin]",j).val(),h=$("input[name=checkout]",j).val(),e=$("input[name=subscribe_source]",j).val(),k;if(p===""||!(q.test(p))){$(".hotel_availability_error_invalid").show();return false}k="firstname="+m+"&lastname="+n+"&email="+p+"&aid="+g+"&subscribe_to_newsletter="+l+"&hotel_id="+r+"&checkin="+t+"&checkout="+h+"&subscribe_source="+e;$.ajax({type:"POST",url:"http://"+o.b_hostname_signup+"/hotel_availability_newsletter/add",data:k,dataType:"json",success:function(u){if(u.subscribed===1){$(".contenttohide").hide();$(".hotel_availability_sub_success").show()}else{$(".hotel_availability_error_bad_unknown").show()}}})});$(".signupWithnameForm").submit(function(e){e.preventDefault();$(".feedback_msg").each(function(){$(this).hide()});var l=booking.env,h=$(this),o=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,m=$("input[name=companyname]",h).val(),g=$("input[name=aid]",h).val(),f=$("input[name=subscribe_source]",h).val(),n=$("input[name=email]",h).val(),k=$("input[name=firstname]",h).val(),j;if(n===""||!(o.test(n))){$(".newsletter_subscribe_error_invalid",h).show();return false}$('<div class="loader_placer"></div>').appendTo("#sfl_stepOne");j="to="+n+"&email="+n+"&aid="+g+"&companyname="+m+"&subscribe_source="+f;$.ajax({type:"POST",url:"/newslettersubscribe.json",data:j,dataType:"json",success:function(q){if(q.success==0){$(".loader_placer").hide();if(q.error=="denied"){$(".newsletter_subscribe_error_denied",h).show();$(".newsletter_subscribe_error_bad_unknown, .newsletter_subscribe_error_invalid, .newsletter_sub_success",h).hide()}else{if(q.error=="bad_params"||q.error=="unknown"){$(".newsletter_subscribe_error_bad_unknown",h).show();$(".newsletter_subscribe_error_denied, .newsletter_subscribe_error_invalid, .newsletter_sub_success",h).hide()}}return}else{if(q.success==1){$(".loader_placer").hide();$(".uspfield").hide();$("#sfl_stepOne").hide();if(k==""||booking.env.b_exclude_lang_firstname){$("#sfl_stepThree").show();$(".userWithoutFirstname").show()}else{k=escape(k);if(q.has_account==1){$(".firstnameplacer").html(k);$("#sfl_stepThree").show();$(".userWithAccount").show()}else{var p=booking.env.b_signup_iframe_url+"&firstname="+k+"&email="+escape(n);$('<iframe border="0" id="sfl_stepTwo" src="'+p+'" width="656" height="320" frameborder="no" scrolling="no"></iframe>').appendTo(".signupWithnameForm")}}}}}})});$("#subscriber_account_active").submit(function(e){if($('input[name="mypassword"]').val().length<1){$(".newsletter_register_error_nopassword").show();return false}else{$('<input type="hidden" name="password" value="'+$('input[name="myssword"]').val()+'" />').appendTo("#subscriber_account_active")}});$(".modal-mask-closeBtn").click(function(){return false});$(".modal-mask").click(function(){return false});if(!$("#newsletter_form_footer_container").length){return false}else{$("#newsletter_form_footer_container").hover(function(){booking.env.trackExperiment("NfLKBZJYBEOAXZLO")});$(".nl_inputfield_track, .newsletter_button").click(function(){if(booking.track.getVariant("NfLKBZJYBEOAXZLO")==1){booking[sNSStartup].lightbox.show($("#subsciber_firstname_lightbox"),{customWrapperClassName:"subscribername-lightbox"})}return false})}}};booking.env.my_city_autocomplete={res_location:"/autocomplete?lang=en&aid=100000&sid="+booking.env.b_sid+"&skip_suggestions=&term=",store_locations:{},cur_index:-1,fav_game:false,init:function(){this.res_location="/autocomplete?lang="+booking.env.b_lang+"&sid="+booking.env.b_sid+"&aid="+booking.env.b_aid+"&skip_suggestions=&term=";var c=this;$("#city_add, #country_add, #userdataform #city, #fav_city").keypress(function(d){if(d.keyCode==13){d.preventDefault();return false}});$("#city_add, #country_add, #userdataform #city, #fav_city").blur(function(){oWhat=this;setTimeout(function(){c.cleanList(oWhat)},500)});$("#city_add, #country_add, #userdataform #city, #fav_city").keyup(function(d){if($(this).attr("id")=="fav_city"){c.fav_game=true}else{c.fav_game=false}if(d.keyCode&&(d.keyCode==38||d.keyCode==40||d.keyCode==13)){if(d.keyCode==38){d.preventDefault();c.cur_index--;if(c.cur_index<0){c.cur_index=$(".add_result li",this.parentNode).length-1}c.makeSelect(this);return false}if(d.keyCode==40){d.preventDefault();c.cur_index++;if($(".add_result li",this.parentNode).length<=c.cur_index){c.cur_index=0}c.makeSelect(this);return false}if(d.keyCode==13){d.preventDefault();c.clickSelect(this);return false}}else{c.cur_index=-1;c.cleanList(this);var f=$(this).val();var e=$(this).attr("search");if(f.length>1){oField=this;setTimeout(function(){c.loadList(oField,e)},100)}}});$(".favlist .remover").live("click",function(){$(this).removeClass("jq_tooltip");$("img",this).attr("alt","");c.removeFavourite(this,$(this).attr("remtype"));return false});$(".add_result li").live("mouseenter",function(){$("li",this.parentNode).removeClass("sel_fav");$(this).addClass("sel_fav");c.cur_index=$("li",this.parentNode).index(this);var d=$("input",this.parentNode.parentNode).get(0);$(d).focus()});$("#pref_city").click(function(){$(this).hide();$("#pref_city_add").show();$("#city_add").focus();return false});$("#pref_country").click(function(){$(this).hide();$("#pref_country_add").show();$("#country_add").focus();return false})},makeSelect:function(c){$(".add_result li",c.parentNode).removeClass("sel_fav");if($(".add_result li",c.parentNode).length>this.cur_index){var d=$(".add_result li",c.parentNode).get(this.cur_index);$(d).addClass("sel_fav")}},clickSelect:function(c){if($(".add_result li.sel_fav",c.parentNode).length){$(".add_result li.sel_fav a",c.parentNode).click()}else{if($(".add_result li",c.parentNode).length==1){$(".add_result li a",c.parentNode).click()}else{}}},loadList:function(f,d){var e=this;var f=f;var g=$(f).val();var c=this.res_location+g;if(d=="country"){c+="&dest_type=country"}else{if(d=="city"){c+="&dest_type=city&give_cc1=1"}}$.ajax({url:c,success:function(l){var h="";var m=false;if(!l||typeof l[d]==="undefined"){return}for(var k=0;k<l[d].length;k++){var j=l[d][k].label.replace("'","");var n="";if(l[d][k].cc1){var n=l[d][k].cc1[0]}h+='<li onclick="booking.env.my_city_autocomplete.addLocation('+k+", document.getElementById('city_link_"+k+"'), '"+l[d][k].dest_type+"', '"+j+"', '"+n+'\');return false;"><a id="city_link_'+k+'" href="#" onClick="return false;">'+l[d][k].label+"</a></li>";m=true}$(".add_result",f.parentNode).html(h);if(m){$(".add_result",f.parentNode).css({border:"1px solid #dddddd",background:"#ffffff"})}else{$(".add_result",f.parentNode).css({border:"0",background:"transparent"})}e.store_locations=l}})},cleanList:function(d){var c=this;$(".add_result",d.parentNode).html("");$(".add_result",d.parentNode).css({border:"0",background:"transparent"});c.store_locations={}},addLocation:function(o,d,k,c,n){var e=this;var w=this.store_locations[k][o];if(k=="city"){var f=booking.env.fav_city_locations;var q=w.dest_id}else{var f=booking.env.fav_country_locations;var q=w.co_code}var v="favlocation_"+q;if($(d).parents("#userdataform").length){var g=c.split(",");var j=g[0];if(booking.env.b_site_experiment_prefill_country){if(n!=""){if($("#country").length){$("#country").val(n)}if($("#cc1").length){$("#cc1").val(n)}}}$("#city").val(j);$("#city_id").val(q);if($(d).parents(".save_useufi_light").length){$.ajax({type:"POST",url:"/save_my_ufi",data:{ufi:q,lang:booking.env.b_guest_country},success:function(y){var x=$(".save_useufi_light").get(0);$(x).addClass("saved_ufi")}})}e.cleanList($(d).parents("ul").get(0))}else{var t=w.label;var l=t.split(",");if(e.fav_game){if(booking[sNSExperiments].favourites_game){booking[sNSExperiments].favourites_game.addSearchFav(q,w)}e.cleanList($(d).parents("ul").get(0))}else{if($("#"+v).length){e.cleanList($(d).parents("ul").get(0))}else{f[f.length]=q;this.saveFavourites(k);e.cleanList($(d).parents("ul").get(0));var u=l[0];var p="";if(l.length>0){for(var r=1;r<l.length;r++){p+=(r>1)?",":"";p+=l[r]}}var h='<li class="roundme" id="favwrap_'+v+'">';h+='<a href="#" id="'+v+'" class="jq_tooltip remover" remtype="'+k+'" title="remove this item"><img src="/static/img/icon_cancel_trans.png" alt="Remove item" /></a>';h+='<a href="#" onclick="return false;">';if(k=="city"){h+='<span class="roundme def_city">&nbsp;</span>';h+='<span class="roundme city_img" style="background:transparent url(\'/static/img/city/'+q+"/32x32.jpg') left top no-repeat;\">&nbsp;</span>"}else{h+='<img class="roundme" src="/static/img/flags/24/'+q+'.png" alt="" />'}h+="</a>";if(k=="city"){h+='<a href="'+booking.env.b_nonsecure_hostname_signup+"/searchresults."+booking.env.b_lang+".html?city="+q+'">'+u+"</a>"}else{h+='<a href="'+booking.env.b_nonsecure_hostname_signup+"/country/"+q+"."+booking.env.b_lang+'.html">'+u+"</a>"}h+="<span>"+p+"</span>";if(k=="city"){$("#addNewCity").before(h);$("#city_add").val("")}else{$("#addNewCountry").before(h);$("#country_add").val("")}}if(booking.env.profile_map_list){if(k=="city"){var m="/static/img/city/"+q+"/32x32.jpg"}else{var m="/static/img/flags/24/"+q+".png"}}this.animateAdding(v)}}},animateAdding:function(c){var d=$("#"+c).get(0);var e=0;var f=window.setInterval(function(){e++;var g=255-(e*5);if(e>51){g=(e*5)-255}if(e>101){$(d.parentNode).css({background:""});window.clearInterval(f)}else{$(d.parentNode).css({background:"rgb(255,"+g+","+g+")"})}},10)},removeFavourite:function(e,k){var j=$(e).attr("id").split("favlocation_")[1];var d=(k=="city")?booking.env.fav_city_locations:booking.env.fav_country_locations;var f=-1;for(var h=0;h<d.length;h++){if(d[h]==j){f=h}}if(f!=-1){d.splice(f,1);this.saveFavourites(k)}var c=$(e).attr("id");var g="favwrap_"+c;$("#"+g).animate({opacity:0},600,function(){$(this).html("");var l=this;setTimeout(function(){$(l).remove()})})},saveFavourites:function(g){var f=(g=="city")?"cities?ufis":"countries?cc1s";var c=(g=="city")?booking.env.fav_city_locations:booking.env.fav_country_locations;var e="/set_favorite_"+f+"=";for(var d=0;d<c.length;d++){if(d>0){e+=","}e+=c[d]}$.ajax({url:e,type:"POST",success:function(h){if(h.status&&h.status=="auth_needed"){document.location.reload(true)}}})}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments].simple_av_calendar=(function(){var c=$(".simple_av_calendar");var f=function(n){if(!n||!n.length){$(".simple_av_calendar").addClass("no_alt_avail");return}var j,g=n.length,k;var l="";var m=booking.env.simple_av_calendar_i18n;var h=booking.env.simple_av_calendar_url+";";h=h.replace(/;+/g,";");l+='<h4 class="simple_av_calendar_title">'+(g>1?m.title_many:m.title_one)+"</h4>";for(j=0;j<g;j++){k=n[j];if(parseInt(k.b_stay_price_numeric,10)>0){l+='<a class="simple_av_calendar_item" href="'+h+k.b_date_params+'">';l+='<span class="simple_av_calendar_dates" style="border-bottom: 1px solid #e2e8ed;">'+k.b_checkin+" &ndash; "+k.b_checkout+"</span>";l+='<span class="simple_av_calendar_los">'+k.b_num_nights_text+", "+k.b_checkin_weekday+"&ndash;"+k.b_checkout_weekday+"</span>";l+='<span class="simple_av_calendar_price">'+k.b_from_price_text+"</span>";l+="</a> "}}c.append(l).show()};var e=function(n){if(!n||!n.length){$(".simple_av_calendar").addClass("no_alt_avail");return}var k=booking.env.simple_av_calendar_url+";";k=k.replace(/;+/g,";");var w=booking.env.simple_av_calendar_i18n;var u=$('<div class="seven_night_av_cal_wrap clearfix"></div>'),j=false,r="",h=0,p="",t="",o="",g,v,m,q=n.length;for(m=0;m<q;m++){v=n[m];var l=false;if(v.b_stay_price_numeric==-1){g='<span class="seven_cal_sold_out">'+w.soldout_text+"</span>";l=true}else{if(v.b_stay_price_numeric==-2){g='<span class="seven_cal_unavailable"></span>';o=' class="seven_cal_unavail_tr"';l=true}else{g='<a class="price" href="'+k+v.b_date_params+'">'+v.b_stay_price+"</a>"}}if(m!==0&&(r!=v.b_month_year.split(" ")[0])){j=true;if(h<5){p+='<tr><td class="empty_row" colspan=3></td></tr></table>'}else{p+="</table>"}h=0}if(m===0||j===true){if(m!==0){t=" not_first_av_table"}p+='<table class="seven_night_av_cal'+t+'"><tr><th colspan="3"><h4>'+v.b_month_year+"</h4></th></tr>";j=false}if(!j){if(l){p+="<tr"+o+"><td>"+v.b_checkin_weekday+" "+v.b_checkin+" - "+v.b_checkout+'</td><td class="stay_length">'+v.b_num_nights_text+'</td><td class="seven_cal_cell_fill">'+g+"</td></tr>"}else{p+="<tr"+o+'><td><a class="date_range" href="'+k+v.b_date_params+'">'+v.b_checkin_weekday+" "+v.b_checkin+" - "+v.b_checkout+'</a></td><td class="stay_length"><a href="'+k+v.b_date_params+'">'+v.b_num_nights_text+'</a></td><td class="seven_cal_cell_fill">'+g+"</td></tr>"}h++;o=""}if(m===(q-1)&&(h<5)){p+='<tr><td class="empty_row" colspan=3></td></tr>'}r=v.b_month_year.split(" ")[0]}p+="</table>";u.html(p);c.addClass("seven_night_cal_outer");c.append(u).show()};var d=function(){$.ajax({timeout:10000,dataType:"json",data:booking.env.simple_av_calendar_data,url:"/alt_avail",success:function(g){$(".simple_av_calendar_loader").hide();if(g&&g.length&&g[0].b_should_track_7_nights_restrictions){booking.track.exp("YTVRaJaVQCLBMC")}if(g.length>booking.env.simple_av_calendar_data.nr_results){e(g)}else{f(g)}},error:function(){$(".simple_av_calendar_loader").hide()}})};return{init:d}}());booking[sNSStartup].social_network={priority:9,init:function(){var c=this;$("#social_network_bookmarks li a").mouseover(function(){$("#share_on").text(this.name)});$(".socnet_mailafriend").click(function(){c.showMailAFriend(this.href);return false})},showMailAFriend:function(d){var f,c,j,e,h,g;if(booking.env.b_is_ie6){h='style="height: 453px;"';g='style="height: 435px;width: 618px;"'}else{h="";g=""}f="maf_wrapper",c='<div id="maf_wrapper" class="iframe"><div id="maf_shadow" '+h+'></div><div id="maf_iframe_wrapper"><iframe id="maf_iframe" '+g+' src="'+d+'" frameborder="0"></iframe></div></div>';if($("#"+f).length){$("#"+f).show()}else{$(document.body).append(c)}j=$(window)[0];e=(document.body.scrollTop==0)?(j.pageYOffset)?j.pageYOffset:(document.body.parentElement)?document.body.parentElement.scrollTop:0:document.body.scrollTop;$("#"+f).css("top",e+($(j).height()/2-$("#"+f).height()/2));if(booking.env.b_site_experiment_event_tracking&&typeof(pageTracker)!="undefined"){booking.google.trackEvent(booking.google.clickTracker,"Mail A Friend","Popup mail_a_friend_redesign")}}};B.SpriteAnimator=function(f,c,e,d,h,g){this.elem_=f;this.propToAnimate_=(d||B.SpriteAnimator.Prop.BACKGROUND_POSITION);this.frameSize_=this.normalizeSize_(c);this.spriteSize_=this.normalizeSize_(e);this.pauseFrames_=h||[];this.animating_=false;this.framesInterval_=B.SpriteAnimator.DEFAULT_FRAMES_INTERVAL;this.currentFrame_=B.SpriteAnimator.DEFAULT_START_FRAME;this.framesCols_=this.calculateFramesCols_();this.framesRows_=this.calculateFramesRows_();this.framesCount_=(typeof g==="number"?g:this.framesCols_*this.framesRows_);this.lastRememberedTime_=0;this.loopTimeout_=0;this.eventsDispatcher_=$(this)};B.SpriteAnimator.DEFAULT_FRAMES_INTERVAL=33;B.SpriteAnimator.DEFAULT_START_FRAME=1;B.SpriteAnimator.EventType={PAUSE:"pause"};B.SpriteAnimator.Prop={BACKGROUND_POSITION:"background_position",POSITION:"position"};$.extend(B.SpriteAnimator.prototype,{isAnimating:function(){return this.animating_},play:function(){if(this.animating_){return}this.animating_=true;this.runLoop_()},pause:function(){if(!this.animating_){return}this.animating_=false;clearTimeout(this.loopTimeout_);this.eventsDispatcher_.trigger(B.SpriteAnimator.EventType.PAUSE)},rewind:function(){clearTimeout(this.loopTimeout_);this.currentFrame_=B.SpriteAnimator.DEFAULT_START_FRAME;this.drawElem_();if(this.animating_){this.runLoop_()}},moveToFrame:function(c){this.throwErrorIfFrameIsInvalid_(c);this.moveToFrame_(c)},getCurrentFrame:function(){return this.currentFrame_},getFramesCount:function(){return this.framesCount_},getFramesInterval:function(){return this.framesInterval_},setFramesInterval:function(c){this.framesInterval_=c},getPauseFrames:function(){return this.pauseFrames_},setPauseFrames:function(c){this.pauseFrames_=c},runLoop_:function(){var d=this;this.loopTimeout_=setTimeout(function(){d.runLoop_()},5);var c=new Date().getTime();if(this.lastRememberedTime_<=c){this.moveToNextFrame_();this.lastRememberedTime_=c+Math.abs(this.framesInterval_)}},moveToNextFrame_:function(){var c=(this.framesInterval_>0?1:-1);var d=this.currentFrame_+c;if(d>this.framesCount_){d=1}if(d<1){d=this.framesCount_}this.moveToFrame(d)},moveToFrame_:function(c){this.currentFrame_=c;this.drawElem_();if($.inArray(this.currentFrame_,this.pauseFrames_)!==-1){this.pause()}},drawElem_:function(){var c=this.getFramePosition_(this.currentFrame_);if(this.propToAnimate_===B.SpriteAnimator.Prop.BACKGROUND_POSITION){this.elem_.css("background-position",(-c.left+"px")+" "+(-c.top+"px"))}else{if(this.propToAnimate_===B.SpriteAnimator.Prop.POSITION){if(this.framesCols_!==1){this.elem_.css("left",-c.left)}if(this.framesRows_!==1){this.elem_.css("top",-c.top)}}}},getFramePosition_:function(e){this.throwErrorIfFrameIsInvalid_(e);var d=Math.ceil(e/this.framesCols_);var c=(e-1)%this.framesCols_+1;return{left:(c-1)*this.frameSize_.width,top:(d-1)*this.frameSize_.height}},calculateFramesCols_:function(){if(this.frameSize_.width!==0&&this.spriteSize_.width!==0){return Math.floor(this.spriteSize_.width/this.frameSize_.width)}else{return 1}},calculateFramesRows_:function(){if(this.frameSize_.height!==0&&this.spriteSize_.height!==0){return Math.floor(this.spriteSize_.height/this.frameSize_.height)}else{return 1}},normalizeSize_:function(c){return{width:(typeof c.width==="number"?c.width:0),height:(typeof c.height==="number"?c.height:0)}},throwErrorIfFrameIsInvalid_:function(c){if(c>this.framesCount_){throw Error("Frame number must be lower or equal "+this.framesCount_+". Found: "+c)}}});booking[sNSStartup].sr_comp_set_destinations={priority:9,init:function(){if(booking.env.b_sr_compset_url){$.ajax({type:"GET",url:booking.env.b_sr_compset_url+";pid="+booking.env.pageview_id+";sid="+booking.env.b_sid,contentType:"text/html; charset=utf-8",success:function(c){if(!c.match(/^\s*$/)){$("#x_sr_compset").html(c).show().css("visibility","visible")}}})}}};booking[sNSStartup].store_cc_details={priority:9,init:function(){var c=this;if(B.env.b_action==="book"||(booking.env.b_alt_payment_methods&&booking.env.b_site_experiment_bp_alternative_payment)){return}$("#saved_credit_cards .cc_save").attr("disabled","disabled");$("#saved_credit_cards .cc_save").addClass("cc_save_disabled");$("#saved_credit_cards select").change(function(){var d=$(this).closest("form");$(this).css({"font-weight":"bold"});$(".cc_save",d).removeAttr("disabled");$(".cc_save",d).removeClass("cc_save_disabled")});if($("#card_status").length){setTimeout(function(){$("#card_status").hide("slow")},5000)}if(B.env.b_action==="login"){$(".cc_delete").mousedown(function(){var f=$(this).closest("tr").get(0);var d=$(this).val()||$(this).attr("value");var e="/delete_cc_card?cc_id="+d;$.ajax({url:e,type:"POST",success:function(g){$(f).hide()},error:function(g){return false}});return false})}}};booking.env.Tabs=function(c){var d={baseEl:"#newsletter_deals_city",menuEl:".deals_menu",contentEl:".deals_wrapper",dealsEl:".deals",navEl:".nav_menu",defaultEl:1};var c=$.extend(d,c);$(c.menuEl+" li:nth-child("+c.defaultEl+")").addClass("active").show();$(c.contentEl+" ul.deals:nth-child("+c.defaultEl+")").show();$("li",c.menuEl).click(function(){$("li",c.menuEl).removeClass("active");$(this).addClass("active");$(c.dealsEl,c.contentEl).hide();var e=$(this).find("a").attr("href");$(e).show();return false});$(c.contentEl,c.baseEl).show()};(function(c){c.fn.bgIframe=c.fn.bgiframe=function(e){if(c("html.b_msie_6").length){e=c.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},e||{});var f=function(g){return g&&g.constructor==Number?g+"px":g},d='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+e.src+'"style="display:block;position:absolute;z-index:-1;'+(e.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(e.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":f(e.top))+";left:"+(e.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":f(e.left))+";width:"+(e.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":f(e.width))+";height:"+(e.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":f(e.height))+';"/>';return this.each(function(){if(c("> iframe.bgiframe",this).length==0){this.insertBefore(document.createElement(d),this.firstChild)}})}return this}})(jQuery);if(!booking.env.skip_old_tt){(function(f){var c={},p,A,m,j=f.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),o=false,n=function(G,H){var L=f(G),D=L.attr("id"),J,K,E=L.get(0).tagName.toLowerCase(),F,I,C;if(D){I=f("#"+D).index(L);C='jQuery("#'+D+'").eq('+I+")"}else{J=L.closest("[id]");K=J.attr("id");F=f("#"+K).index(J);I=J.find(E).index(L);C='jQuery("#'+K+'").eq('+F+').find("'+E+'").eq('+I+")"}return"(function(){var ele="+C+"."+H+'(),offset=ele.offset();$("#tooltip").css({top: offset.top + "px",left: (offset.left + 70) + "px"})}())'};f.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){f.tooltip.blocked=!f.tooltip.blocked}};f.fn.extend({tooltip:function(D){D=f.extend({},f.tooltip.defaults,D);var C=function(){f.data(this,"tooltip",D);this.tOpacity=c.parent.css("opacity");if(this.tooltipText&&this.tooltipText!=""){}else{this.tooltipText=this.getAttribute("data-title")||this.title}this.removeAttribute("title");this.alt=""};q(D);if(typeof booking.env.b_site_experiment_ipad_improvements!="undefined"&&booking.env.b_site_experiment_ipad_improvements){return this.each(C).mouseover(u).bind("touchstart",function(){f(this).mouseover()}).mouseout(k).bind("touchend",function(){f(this).mouseout()}).click(k)}else{if(booking.env.touch_os){return this.each(C).click(u)}else{if(!f(this).hasClass("remover")){return this.each(C).mouseover(u).mouseout(k)}else{return this.each(C).mouseover(u).mouseout(k).click(k)}}}},fixPNG:j?function(){return this.each(function(){var C=f(this).css("backgroundImage");if(C.match(/^url\(["']?(.*\.png)["']?\)$/i)){C=RegExp.$1;f(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+C+"')"}).each(function(){var D=f(this).css("position");if(D!="absolute"&&D!="relative"){f(this).css("position","relative")}})}})}:function(){return this},unfixPNG:j?function(){return this.each(function(){f(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){f(this)[f(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}});function q(C){if(c.parent){return}if(booking.env.tooltip_traversing){c.parent=f('<div id="'+C.id+'"><div class="shadow"><h3></h3></div></div>').appendTo(document.body).hide()}else{c.parent=f('<div id="'+C.id+'" style="width: '+C.width+'px;"><div class="shadow"><h3></h3></div></div>').appendTo(document.body).hide()}if(booking.env.touch_os){c.parent.bind("click",function(){if(f.tooltip.blocked){return}if(m){clearTimeout(m)}p=null;f(this).removeClass(C.extraClass).fadeOut().css("opacity","")})}if(f.fn.bgiframe){c.parent.bgiframe()}c.title=f("h3",c.parent);c.body=f("div.body",c.parent);c.url=f("div.url",c.parent)}function x(C){return f.data(C,"tooltip")}function y(C){if(x(this).delay){m=setTimeout(z,x(this).delay)}else{z()}o=!!x(this).track;f(document.body).bind("mousemove.tooltip",h);h(C)}var d=false;var r={};var v;var l=false;var t=false;function u(){var L=booking.env.b_site_experiment_t_bp_fix_tooltip==1;if(typeof booking.env.b_site_experiment_t_bp_fix_tooltip!="undefined"&&!t){booking.track.exp("PNRNZWBRUDKe");t=true}if(f.tooltip.blocked||(!L&&this==p)||(L&&this==p&&f(this).css("display")=="block")||(!this.tooltipText&&!x(this).bodyHandler)){return}if(typeof booking.env.b_site_experiment_bp_refine_tooltips!="undefined"&&!l){booking.track.exp("HBXVaDPQcCcdYO");l=true}A=this.tooltipText;p=this;if(f(this).hasClass("larger_gallery_tooltip_images")){booking.env.trackExperiment("ZQPdeFNJUTWcNKNMJYOHT")}if(f(this).hasClass("hotel_thumbs_sprite")||f(this).hasClass("hotel_variable_size")||f(this).attr("id")=="photo_wrapper"||(f(this).hasClass("larger_gallery_tooltip_images")&&booking.env.b_site_experiment_nha_larger_roomtable_tooltip_images)){d=true;var E=f(window);var J=E.width();var G=E.height();var M=200;var C=0;var I;if(booking.env.b_site_experiment_nha_larger_gallery_tooltip_images_even_larger){if(J>1600&&G>900){M=600}else{if(J>1360&&G>765){M=600}else{if(J>1120&&G>630){M=500}else{if(J>880&&G>495){M=500;C=1}else{if(J>760&&G>428){M=400;C=1}}}}}}else{if(J>1600&&G>900){M=600}else{if(J>1360&&G>765){M=600}else{if(J>1120&&G>630){M=500}else{if(J>880&&G>495){M=300;C=1}else{if(J>760&&G>428){M=300;C=1}}}}}}if(C){booking.env.trackExperiment("ZQPdeFYeCIObTdcCcdAHTLRGHFbTNFO")}A=A.replace(/\/max(\d+)\//,"/max"+M+"/");if(booking.env.b_experiment_hash_hp_map_in_slideshow){I=f(this).attr("data-size-"+M);if(I){A=I}}}if(A.indexOf("<img")===0){d=true;g()}if(f(this).hasClass("show_map")||f(this).hasClass("mouse_hover_rackrate")||f(this).hasClass("deals_label_content")||f(this).hasClass("icon_minibubble")){d=true}if(x(this).bodyHandler){c.title.hide();var K=x(this).bodyHandler.call(this);if(K.nodeType||K.jquery){c.title.empty().append(K)}else{c.title.html(K)}c.title.show()}else{if(x(this).showBody){var F=A.split(x(this).showBody);c.title.html(F.shift()).show();c.body.empty();for(var H=0,D;(D=F[H]);H++){if(H>0){c.body.append("<br/>")}c.body.append(D)}c.body.hideWhenEmpty()}else{c.title.html(A).show();c.body.hide()}}if(x(this).showURL&&f(this).url()){c.url.html(f(this).url().replace("http://","")).show()}else{c.url.hide()}c.parent.addClass(x(this).extraClass);if(x(this).fixPNG){c.parent.fixPNG()}y.apply(this,arguments);if(booking.env.touch_os){if(booking.env.b_site_experiment_bp_refine_tooltips==1){f("#tooltip h3").css("padding-right","22px")}else{f("#tooltip h3").append("<img src='//q-ec.bstatic.com/static/img/experiments/filter_remove/3dbb6ed26ad18b3ac80594614df5abfe507552c4.gif' alt='Close window' style='position: absolute; right: 8px; top: 8px;' />").css("padding-right","22px")}}if(typeof ClickTaleExec==="function"){ClickTaleExec(n(this,"mouseover"))}}function g(){var D=A.match(/src=['"]([^'"]+)['"]/);if(!D||r[D[1]]){return}var C=A;var E=document.createElement("img");A='<img src="//q-ec.bstatic.com/static/img/experiments/ajax-loader-black/d19b79c0cb26d8af016a6d84fd4bc38e1f43bb0e.gif" class="tooltip_loader" style="padding: 25px;"/>';E.onload=function(){r[this.src]=true;if(this.src!==v){return}A=C;c.title.html(A);c.parent.css("width",this.width+20);if(c.parent.is(":visible")){h()}};v=D[1];E.src=D[1]}function z(){var C,F;m=null;if(!p||!x(p)){return}if(booking.env.tooltip_traversing){C=x(p);F=C.width;F=(typeof F==="function")?F.apply(p):F;if(F){c.parent[0].style.width=F+"px"}else{c.parent[0].style.width="auto"}}if((!j||!f.fn.bgiframe)&&x(p).fade){if(c.parent.is(":animated")){c.parent.stop().show().fadeTo(x(p).fade,p.tOpacity)}else{c.parent.is(":visible")?c.parent.fadeTo(x(p).fade,p.tOpacity):c.parent.fadeIn(x(p).fade)}}else{c.parent.show()}c.parent.removeClass("niceBlackBorderTooltip blackBorderTooltip");if(x(p).width){c.parent.css("width",x(p).width+"px");if(c.parent.find("#map_hover_preview_text").length){c.parent.addClass(booking.env.b_site_experiment_nice_tooltips==1?"niceBlackBorderTooltip":"blackBorderTooltip")}}else{var D=c.parent.find("img:eq(0)");var E=D.attr("src");if(E){c.parent.addClass(booking.env.b_site_experiment_nice_tooltips==1?"niceBlackBorderTooltip":"blackBorderTooltip")}c.parent.css("width",r[E]?(D.width()+20):"")}h()}function h(G){if(f.tooltip.blocked){return}if(G&&G.target&&G.target.tagName=="OPTION"){return}if(!o&&c.parent.is(":visible")){f(document.body).unbind("mousemove.tooltip")}if(p==null){f(document.body).unbind("mousemove.tooltip");return}if(booking.env.bse_tooltip_new_pos||d){if(!x(p)){return}e(G,x(p).positionLeft);return}var I=c.parent[0].offsetLeft;var H=c.parent[0].offsetTop;if(G){if(booking.env.touch_os){I=f(p).offset().left;H=f(p).offset().top}else{if(!x(p)){f(document.body).unbind("mousemove.tooltip");if(c&&"parent" in c&&c.parent[0]&&c.parent[0].style.display!=="none"){c.parent[0].style.display="none"}return false}if(booking.env.tooltip_traversing){var F=x(p).left;F=(typeof F==="function")?F.apply(p):F;I=G.pageX+F}else{I=G.pageX+x(p).left}H=G.pageY+x(p).top}var E=x(p).positionLeft?{left:"auto",right:f(window).width()-I,top:H}:{left:I,top:H};c.parent.css(E)}if(booking.env.touch_os){if(I>700){I=I-150}else{if(I>600){I=I-100}}c.parent.css({left:I+"px"})}else{var C=w(),D=c.parent[0];if(C.x+C.cx<D.offsetLeft+D.offsetWidth){I-=D.offsetWidth+20+x(p).left;c.parent.css({left:I+"px"}).addClass("viewport-right")}if(C.y+C.cy<D.offsetTop+D.offsetHeight){H-=D.offsetHeight+20+x(p).top;c.parent.css({top:H+"px"}).addClass("viewport-bottom")}if(D.offsetLeft<C.x||x(p).positionLeft){I=10;c.parent.css({left:I+"px"}).addClass("viewport-left")}}}function e(F,I){var D=w();var E=c.parent[0];var C=(f.browser.msie&&parseInt(f.browser.version,10)>=10);var H=F?F.pageX+12:E.offsetLeft;var G=F?(C?(F.clientY+f(window).scrollTop()):F.pageY)+12:E.offsetTop;if(D.x+D.cx<H+E.offsetWidth){if(booking.env.bse_tooltip_new_pos){H=H-E.childNodes[0].offsetWidth-24}else{if(!I){H=H-E.offsetWidth-24}}if(H<D.x+5){H=5}}if(D.y+D.cy<G+E.offsetHeight+5){G=D.y+D.cy-E.offsetHeight-5}if(I&&F){H=H-f(E).width()-15}c.parent.css({left:H,top:G})}function w(){return{x:f(window).scrollLeft(),y:f(window).scrollTop(),cx:f(window).width(),cy:f(window).height()-11}}function k(E){if(f.tooltip.blocked){return}if(m){clearTimeout(m)}p=null;var D=x(this);function C(){c.parent.removeClass(D.extraClass).hide().css("opacity","")}if((!j||!f.fn.bgiframe)&&D.fade){if(c.parent.is(":animated")){c.parent.stop().fadeTo(D.fade,0,C)}else{if(booking.env.tooltip_hide_without_fadeout){c.parent.stop().hide();C()}else{c.parent.stop().fadeOut(D.fade,C)}}}else{C()}if(x(this).fixPNG){c.parent.unfixPNG()}if(typeof ClickTaleExec==="function"){ClickTaleExec(n(this,"mouseout"))}}})(jQuery)}if(!booking.env.skip_old_tt){(function(){var c=booking[sNSStartupLoad].tooltip_3={priority:8,lazy:true,init:function(){this.addTooltip(document);return true},setupTooltip:function(e){var f=$(".jq_tooltip",e);f.each(function(){var g=this,h,j;h=g.getAttribute("data-width")?g.getAttribute("data-width"):(g.getAttribute("rel")||0),j=(g.getAttribute("data-width")?-g.getAttribute("data-width")/2:-(g.getAttribute("rel")||0))/2;$(g).tooltip({showURL:false,track:true,opacity:1,fade:250,width:h,left:j,top:18})})},setupTooltippex:function(e){$(".jq_tooltippex",e).each(function(){var h=$(this),f=h.attr("data-width")?h.attr("data-width"):(h.attr("rel")||0);var g=h.hasClass("left_tt");h.tooltip({showURL:false,track:true,width:f,left:-(f/2),top:18,extraClass:"opaque",positionLeft:g})})},setupPolicy:function(e){$(".policy_name.jq_tooltip, .policy_name_tt.jq_tooltip",e).tooltip({bodyHandler:function(){var f=$(this).siblings(".differing_policies");return f.html()},showURL:false,track:true,opacity:1,fade:250,width:400,left:-200,top:18})},addTooltip:function(e){this.setupTooltip(e);this.setupTooltippex(e);this.setupPolicy(e)}};if("ontouchstart" in document.documentElement){var d=/(chrome)[ \/]([\w.]+)/.exec(navigator.userAgent.toLowerCase());if(!d){c.setupTooltip=function(e){$(".jq_tooltip",e).each(function(){var g=$(this),h=g.attr("data-width")?g.attr("data-width"):g.attr("rel"),f=(h)?(h.match(/\d+/)||0):0;if(!g.hasClass("urgency_link")){g.tooltip({showURL:false,track:false,opacity:1,fade:250,width:f,extraClass:"opaque"})}})};c.setupTooltippex=function(e){$(".jq_tooltippex[title]",e).each(function(){var g=$(this),f=g.attr("data-width")?g.attr("data-width"):g.attr("rel");g.click(function(){return false});if(!booking.env.b_site_experiment_remove_hotel_img_tooltip_sr){if(g.get(0).tagName.toLowerCase()==="img"){g.wrap("<span class='touchHoverBox' />");g.parent().append("<img src='//q-ec.bstatic.com/static/img/icons/imgplus/cee6a2f4a357031f2a34bda0466ee04e3c82dcd6.gif' class='touchHoverPlus' />")}else{g.addClass("touchHoverBox").append("<img src='//q-ec.bstatic.com/static/img/icons/imgplus/cee6a2f4a357031f2a34bda0466ee04e3c82dcd6.gif' class='touchHoverPlus' />")}}g.tooltip({showURL:false,track:false,opacity:1,fade:250,width:f,extraClass:"opaque"})})};c.setupPolicy=function(e){$(".policy_name.jq_tooltip, .policy_name_tt.jq_tooltip",e).tooltip({bodyHandler:function(){return $(this).siblings(".differing_policies").html()},showURL:false,track:false,opacity:1,fade:250,width:400,extraClass:"opaque"});if(booking.env.b_site_experiment_t_bp_fix_tooltip==1){$("body, .show_map").bind("touchend",function(g){var f=$(g.target);if($("#tooltip").css("display")=="block"&&f.attr("id")!=="tooltip"&&!f.hasClass("jq_tooltip")&&!f.hasClass("jq_tooltippex")&&!f.parents("#tooltip").length&&!f.parents().hasClass("jq_tooltippex")&&!f.parents().hasClass("jq_tooltip")){$("#tooltip").hide();$.tooltip.block();setTimeout(function(){$.tooltip.block()},500)}})}else{$("body, .show_map").click(function(){$("#tooltip").hide()})}$("sup.jq_tooltip, tr.dotter").removeAttr("onclick")}}}})()}else{(function(){var c=booking[sNSStartupLoad].tooltip_3={addTooltip:function(){},setupTooltippex:function(){}}})()}booking[sNSExperiments].rewrite_tt={priority:9,version:"1.2.4",tt:null,ttWinHeight:0,ttWinWidth:0,ttScrollTop:0,ttScrollLeft:0,ttShowLeft:false,ttCounter:0,ttShow:null,ttContent:"",ttCurElem:null,ttCurText:"",ttTimedOut:null,ttTimeout:300,ttClass:"basic_tooltip_class",ttClasses:{jq_tooltippex:"blackBorderTooltip",add_class2:"tt_class_2"},ttBlocked:{hotel_name_link:true,room_link:true,icon_calendar:true,no_tt:true},ttNodes:[".jq_tooltip","*[data-title]",".jq_tooltippex",".policy_name_tt"],toolTips:{},preLoadedImages:{},init:function(){var c=this;if($.browser.msie&&parseInt($.browser.version,10)==7){this.ttTimeout=0}this.tt=document.getElementById("tooltip_wrap")||function(){var d=document.createElement("div");d.id="tooltip_wrap";var e='<div class="tt_shadow"><div class="tt_content"></div></div>';document.body.appendChild(d);d.innerHTML=e;return d}();window.onresize=function(){c.setWindowSize()};window.onscroll=function(){c.setScrollPosition()};setTimeout(function(){var d=c.ttNodes.join(", ");c.ttContent=($(".tt_content",c.tt).length)?$(".tt_content",c.tt).get(0):c.tt;c.setWindowSize();c.setScrollPosition();var d=c.ttNodes.join(", ");$("body").delegate(d,"mouseover mouseout mousemove",function(j){var h=j||window.event;var g=h.pageX||(h.clientX+this.ttScrollLeft);var f=h.pageY||(h.clientY+this.ttScrollTop);if(h.type==="mouseout"){c.showHideTooltip(null,g,f)}else{c.showHideTooltip(this,g,f)}});if(booking.env.b_is_ie8){var e=c.ttNodes.join("[title], ");$(e).each(function(){var f=this.getAttribute("title");this.setAttribute("data-title",f);this.removeAttribute("title")})}},500)},showHideTooltip:function(m,j,h){if(this.ttShow!=null||m==null){if(m!=this.ttCurElem&&this.ttCurElem!=null){this.ttShow=null;this.tt.style.display="none";this.ttContent.innerHTML="";this.tt.className="";this.tt.style.display="none";this.tt.style.width="auto";this.ttCurText="";this.ttCurElem=null;this.ttShowLeft=false}else{var d=this.getPosition(j,h,this.tt);this.tt.style.left=d[0]+"px";this.tt.style.top=d[1]+"px"}}else{var n=this.getTTNode(m);if(n!=null){this.ttShow=m.id;var k=m.getAttribute("data-track")||null;if(k!=null){booking.track.exp(k)}var e=n;this.ttCurElem=m;this.ttCurText=e[0];var l=(e[1]!="")?e[1]:this.ttClass;if(e[2]){this.ttShowLeft=true}if(e[4]){l+=" tt_loading";this.preloadImg(m.id)}this.ttContent.innerHTML=this.ttCurText;this.tt.className=l;if(e[3]!=null){this.tt.style.width=e[3]+"px"}if(!e[4]){this.showToolTip(0)}if(booking.env.b_is_ie6){var g=(this.tt.offsetHeight)?this.tt.offsetHeight-4:150;var c=document.getElementById("tt_bg_fix_ie6");c.style.height=g+"px";if(e[3]!=null){c.style.width=e[3]+"px"}else{var f=(this.tt.offsetWidth)?this.tt.offsetWidth-4:150;c.style.width=f+"px"}}var d=this.getPosition(j,h,this.tt);this.tt.style.left=d[0]+"px";this.tt.style.top=d[1]+"px"}}},showToolTip:function(e){var d=this;if(this.ttTimeout!=0){var c=(e<this.ttTimeout)?this.ttTimeout-e:10;if(d.showingTooltip){clearTimeout(d.showingTooltip)}d.showingTooltip=setTimeout(function(){if(d.ttCurText!=""){d.tt.style.display="block"}else{d.showHideTooltip(null,0,0)}},c)}else{this.tt.style.display="block"}},setScrollPosition:function(){if(typeof window.pageYOffset=="number"){this.ttScrollLeft=window.pageXOffset;this.ttScrollTop=window.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){this.ttScrollLeft=document.documentElement.scrollLeft;this.ttScrollTop=document.documentElement.scrollTop}else{this.ttScrollLeft=document.body.scrollLeft;this.ttScrollTop=document.body.scrollTop}}},setWindowSize:function(){if(!window.innerWidth){if(!(document.documentElement.clientWidth==0)){this.ttWinWidth=document.documentElement.clientWidth;this.ttWinHeight=document.documentElement.clientHeight}else{this.ttWinWidth=document.body.clientWidth;this.ttWinHeight=document.body.clientHeight}}else{this.ttWinWidth=window.innerWidth;this.ttWinHeight=window.innerHeight}},getTTNode:function(e){if(e.id){var f=e.id}else{this.ttCounter++;var f="b_tt_holder_"+this.ttCounter;e.id=f}if(this.toolTips[f]){return this.toolTips[f]}else{if($(e).hasClass("policy_name_tt")){var k=$(e).siblings(".differing_policies").html()}else{var k=e.getAttribute("data-title")||e.getAttribute("title")}var c=e.nodeName.toLowerCase();if(c=="option"||c=="link"||c=="select"){k=""}if(k&&k!=""){var h=this.ttClass;var d=false;var j=false;if(e.className){for(classItem in e.className.split(" ")){sClass=e.className.split(" ")[classItem];if(this.ttBlocked[sClass]){j=true}else{if(this.ttClasses[sClass]){h+=" "+this.ttClasses[sClass]}if(sClass=="left_tt"){d=true}}}}if(!j){var l=null;var m=e.getAttribute("data-width");if(m&&!isNaN(m)&&m>150&&m<1001){l=m}else{var n=e.getAttribute("rel");if(n&&!isNaN(n)&&n>150&&n<1001){l=n}}var g=(k.indexOf("<img")>-1&&l==null)?true:false;this.toolTips[f]=[k,h,d,l,g];if(e.getAttribute("title")!=null){e.title="";e.removeAttribute("title")}if(e.getAttribute("data-title")!=null){e.setAttribute("data-title","");e.removeAttribute("data-title")}if(booking.env.b_is_ie){e.removeAttribute("alt")}return this.toolTips[f]}else{return null}}else{return null}}},getPosition:function(j,g,f){var k=j+15;var h=g+10;var c=$(f).width();var d=$(f).height();var e=20;if((j+c+this.ttScrollLeft>this.ttWinWidth-e)||(this.ttShowLeft&&j>c+e)){k=j-c-e}if(g+d-this.ttScrollTop>this.ttWinHeight-e){h=this.ttWinHeight-d-e+this.ttScrollTop}return[k,h]},preloadImg:function(d){var g=this;var e=new Date();var c=this.toolTips[d][0].match(/src=['"]([^'"]+)['"]/);if(!c[1]){this.toolTips[d][4]=false;return}if(this.preLoadedImages[c[1]]){return}this.preLoadedImages[c[1]]={ttid:d,loaded:false};var f=document.createElement("img");f.onload=function(){g.preLoadedImages[this.src].loaded=true;var j=g.preLoadedImages[this.src].ttid;var l=g.toolTips[j];var m=this.width+20;if(m>150){l[3]=m}l[4]=false;if(g.ttShow!==j){return}else{if(l[3]!=null){g.tt.style.width=l[3]+"px"}var k=new Date();var h=k.getTime()-e.getTime();g.showToolTip(h)}};f.src=c[1]}};booking.ensureNamespaceExists(sNSStartup);booking[sNSStartup].touch_device_check={priority:5,init:function(){booking.env.touch_os=("ontouchstart" in document.documentElement)?true:false;if(/(chrome)[ \/]([\w.]+)/.exec(navigator.userAgent.toLowerCase())){booking.env.touch_os=false}return true}};booking[sNSStartup].unsubscribe={priority:1,init:function(){var d=this;var c=5000;if(booking.env.b_action==="unsubscribe"){$(".preview_weekly_mail").click(function(){booking[sNSStartup].lightbox.show($("#preview_weekly"),{customWrapperClassName:"nl_preview-lightbox"});return false});$(".preview_cityspecial_mail").click(function(){booking[sNSStartup].lightbox.show($("#preview_cityspecial"),{customWrapperClassName:"nl_preview-lightbox"});return false});$(".preview_popular_mail").click(function(){booking[sNSStartup].lightbox.show($("#preview_popular"),{customWrapperClassName:"nl_preview-lightbox"});return false});$(".preview_deals_mail").click(function(){booking[sNSStartup].lightbox.show($("#preview_deals"),{customWrapperClassName:"nl_preview-lightbox"});return false});$(".preview_lazysunday_mail").click(function(){booking[sNSStartup].lightbox.show($("#preview_lazysunday"),{customWrapperClassName:"nl_preview-lightbox"});return false});$(".unsub_data").click(function(){var e=$(this).prev().find("input:checkbox");if(e.attr("checked")){e.attr("checked",false)}else{e.attr("checked",true)}});$(".unsubSave").click(function(j){j.preventDefault();$(".unsub_messages p").each(function(){$(this).hide()});$(this).next(".loader_placer").addClass("unsub_loader");var g=$("#unsubscription_management");var h={};h.email=($("input[name=b_subscriber_email]",g).val()?$("input[name=b_subscriber_email]",g).val():false);h.token=($("input[name=token]",g).val()?$("input[name=token]",g).val():false);if(h.token){dataString="token="+h.token}else{dataString="email="+h.email}var f=true;$(".unsubCampaigns li input:checkbox").each(function(m){if(this.checked){var l=$(this).val();var k=1;f=false}else{var l=$(this).val();var k=0}h[l]=k});dataString=dataString+"&label="+booking.env.b_label+"&subscribe_weekly="+h.subscribe_weekly+"&subscribe_sunday_newsletter="+h.subscribe_sunday_newsletter+"&subscribe_popular="+h.subscribe_popular+"&subscribe_flash_deals="+h.subscribe_flash_deals+"&subscribe_cityspecial="+h.subscribe_cityspecial;if(typeof(h.subscribe_genius)!=="undefined"){dataString+="&subscribe_genius="+h.subscribe_genius}$.ajax({type:"POST",url:"/update_newsletter_subscription",data:dataString,dataType:"json",success:function(k){$(".loader_placer").removeClass("unsub_loader");var e=$(".unsub_messages");if(k.success=="1"){$(e).find("p.feedback").each(function(){$(this).hide()});if(f&&booking.env.b_site_experiment_unsubscribe_management==1){$(e).find("p.successall").show()}else{$(e).find("p.success").show()}}else{$(e).find("p.feedback").each(function(){$(this).hide()});$(e).find("p.error.someerror").show()}}});return false})}}};booking[sNSStartup].userAccessFormValidation={init:function(){booking.userAccessFormHandler.init()}};booking.userAccessFormHandler=(function(d){var c={$userAccessMenu:$(".user_access_menu"),$parentForm:{},$parentFormWrapper:{},submitHooks:{},globalSubmitHooks:{},_init:function(e){var f=this;if(e){this.$userAccessMenu=$(targetForm)}this.$userAccessMenu.delegate(".user_access_section_trigger","click",function(){var j=$(this),h=j.parents(".user_access_menu"),g=this.getAttribute("data-target");$(".form-section",h).addClass("form-hidden-section");f.$parentForm=$("."+g,h);f.$parentForm.removeClass("form-hidden-section");$(".form-tabs",h).removeClass("user_menu_active_tab");$("."+g+"_tab",h).addClass("user_menu_active_tab");return false});$(".user_access_menu_auth_low_not_me").click(function(j){var k=$(j.target).attr("href"),h,g;if(k){h='<form method="POST" action="'+k+'" ><input type="hidden" name="logout" value="1" /></form>';g=$(h);j.preventDefault();$("body").append(g);g.submit()}});$("body").delegate(".user_access_form","submit",function(){f.$parentForm=$(this);f.$parentFormWrapper=$(this).parents(".form-section");if(f._validateForm()){$(".form-loading",f.$parentFormWrapper).show();if(booking.track.getVariant("IZdPZPUTYBTVaDAae")){$(this).trigger("submit_pb_mybooking_cant_find")}}else{return false}});$("#login_redesign").click(function(){$(".bs2_inline_signin_box").toggle()});this._initPassStrength();if(location.protocol=="https:"&&booking.env.b_is_app){$(".user_access_form").each(function(){var h=$(this),g=h.attr("action");if(g.indexOf("protocol=http")!==-1&&g.indexOf("protocol=https")===-1){g=g.replace("protocol=http","protocol=https_www");h.attr("action",g)}else{if(g.indexOf("protocol=https")!==-1){g=g.replace("protocol=https","protocol=https_www");h.attr("action",g)}}})}},_initPassStrength:function(f){var g,e=this;if(!f){f=".password_strength"}this.$userAccessMenu.delegate(f,"keyup",function(){var h=$(this),j=h.val();if(g){clearTimeout(g)}g=setTimeout(function(){e._calculatePasswordStrength(h,j)},400)})},_validateForm:function(){if(!this.$parentForm.length){return 1}var f=true,e=d.error_sign_up_password_email_combo_01;$("input",this.$parentForm).each(function(){var k=$(this),j=k.attr("data-validation"),p,m,n=k.val(),g,l;if(j){j=j.split("|");for(var h=0,o=j.length;(h<o)&&f;h++){p=j[h].split(/\{/);m=p[0];if(m==="required"&&!n){f=false}else{if(m==="numeric_with_dots"||m==="numeric"){if(m==="numeric_with_dots"){n=n.replace(/\./g,"");k.val(n)}if(!/^\d+$/g.test(n)){f=false}}else{if(/min_length\([0-9]+\)/.test(m)){g=(m.split("("))[1];g=g.slice(0,-1);if(n.length<g){f=false}}else{if(/required_match\([a-zA-Z_]+\)/.test(m)){l=(m.split("("))[1];l=l.slice(0,-1);if($(this).val()!==$("#"+l).val()){f=false}}}}}if(p[1]){e=(p[1]).slice(0,-1)}}if(!f){return false}}});if(!f){$(".alert-error",this.$parentFormWrapper).html(e).show();return false}else{return true}},_calculatePasswordStrength:function(j,q){if(typeof(q)==="undefined"||typeof(q.length)==="undefined"){return}var e=q.length,r=parseInt(e/2.5),f="!@#$%^&*(){}[];:'\"\\|,.<>/?+=-_",v="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=0,o=false,n=0,m=0,t=j.parents(".user_access_form"),h=$(".password_strength_wrapper",t).find(".pass_strength_step").width(),g,p,u=$(".password_strength_wrapper",t).find(".pass_strength_progress");for(var k=0;k<e;k++){if(!isNaN(q.charAt(k))){l+=1}else{o=true}if(f.indexOf(q.charAt(k))>-1){n+=2}if(v.indexOf(q.charAt(k))>-1){m+=1}}if(n>4){n=4}if(l>2){l=2}if(m>2){m=2}if(o){r+=l}r+=n;r+=m;if(r>10){r=10}else{if(r===0){r=1}}if(e<8){u.addClass("pass_strength_invalid");if(r>3){r=3}p=0}else{u.removeClass("pass_strength_invalid");p=parseInt(r/2)+1}g=h*r;u.animate({width:g+"px"});$(".pass_strength_text",t).text(d.b_password_strength_msg[p])},_displayErrorMsg:function(e){if(!e||!e.msg){return}var f,g;if(e.parent){g=$(e.parent)}if(e.target){f=$(e.target,g)}else{f=$(".alert-error",g)}f.html(e.msg).addClass("alert-displayed");$(".form-loading, #page_login_loading").hide();if(booking.env.is_genius_onboarding){slidesHeight=$("#slide1").height();$("#slides").animate({height:slidesHeight})}},_addSubmitHook:function(f,g,h){var e=(h?this.globalSubmitHooks:this.submitHooks);if(!g||!f){return}e[f]=g},_removeSubmitHook:function(f,g){var e=(g?this.globalSubmitHooks:this.submitHooks);if(!c){return}delete e[f]}};return{init:function(){c._init()},initPassStrength:function(e){c._initPassStrength(e)},displayErrorMsg:c._displayErrorMsg}})(booking.env);$(function(){$("#currencyChange, #languageChange").hide();$("#current_currency .description, #current_currency .pointer, #current_language .description, #current_language .pointer").show();var f=3;var g=4;if(booking.track.getVariant("HRXMJGBZIDVeLJdYaSAeMVNaRe")){f=1;g=1}e();h();if(booking.track.getVariant("HRXMJGBZIDVeLJdYaSAeMVNaRe")){var l=$("#current_language .top_menu_items").prev("h4:first");if(l.length==1){$("#current_currency .top_menu_items").prev("h4:first").hide();$(".currency_lang_combined_popover .popover_explain:first").after(l)}}function e(){var t=[];var o=$("#link_with_currency").val();var x=$("#currencyChange select option");for(var p=0;p<x.length;p++){var r=x[p];var n=$(r);var w=n.attr("data-label");var v=n.attr("value");var q;if(n.hasClass("menu_item_split")){q="<strong>"+n.text()+"</strong>"}else{q="<a ";q+="href='"+o+"="+v+"'";q+=">";q+="<span class='selsymbol'>"+w+"</span><span class='seldescription'>"+n.text()+'</span><i class="loading_indicator"></i>';q+="</a>"}t.push("<li "+j(n[0])+">"+q+"</li>")}var u=t.join("");booking.currencyDropdownOptions=u;$("#current_currency_foldout ul").append(u);c($("#current_currency").find("ul"),g);d($("#current_currency_foldout"))}function h(){var u=[];var p=$("#languageChange select option");for(var r=0;r<p.length;r++){var t=p[r];var n=k(r,t);if(n!=null){u.push(n)}}var v=$("#current_language");var q=v.find("ul");var o=q.parent();q.append(u.join(""));c(q,f);d($("#current_language_foldout"))}function c(u,t){var p=u.parent();var z=u.children();var w=z.filter(".all_menu_items_split");p.empty();var q;if(w.length>0){var r=z.filter(".top_menu_items_split");var x=z.index(w);var v=z.slice(0,x).not(".menu_item_split");q=z.slice(x).not(".menu_item_split");if(v.length>0){var y=p.clone().empty();var n=u.clone().empty();y.append("<h4>"+r.text()+"</h4>");var o=$("<div class='top_menu_items'/>").appendTo(y);m(o,v,t,n);y.insertBefore(p)}p.append("<h4>"+w.text()+"</h4>");var o=$("<div class='all_menu_items' />").appendTo(p);m(o,q,t,u)}else{q=z.not(".menu_item_split");m(p,q,t,u)}}function k(p,t){var r=$(t);var o={classNames:r[0].className,dataLabel:r.data("label")||"",value:r.attr("value")||"",text:r.text(),isOfficial:r.hasClass("official_lang"),isLastOfficial:r.hasClass("official_lang_last"),isSelected:r.hasClass("selected_country")||r.hasClass("selected_language"),isSplitter:r.hasClass("menu_item_split")};var u=[];if(!o.isOfficial&&p<6&&o.isOfficial){return null}var q;if(o.isSplitter){q="<strong>"+o.text+"</strong>"}else{var n="<span class='selsymbol'><span class='flag_16 "+o.dataLabel+"'>&nbsp;</span></span><span class='seldescription'>"+o.text+'</span><i class="loading_indicator"></i>';q="<a href='"+$("#link_with_language").val()+"="+o.value+"'>"+n+"</a>"}return"<li "+j(t)+" data-lang='"+o.value+"'>"+q+"</li>"}function d(o){var n="loading_option";o.delegate("a","click",function(q){var p=$(this).parent();if(p.hasClass("selected_language")||p.hasClass("selected_currency")){q.preventDefault();return}if(p.hasClass(n)){q.preventDefault()}else{o.find("."+n).removeClass(n)}p.addClass(n)})}function m(n,q,u,r){var p=Math.ceil(q.length/u);for(i=0;i<u;i++){var o=q.splice(0,p);var t=r.clone().empty().append(o);n.append(t)}}function j(n){if(n.className.length>0){return"class='"+n.className+"'"}return""}});B.VerticalFixer=function(c,g,f,e,d){this.root_=c;this.topLimiter_=g;this.bottomLimiter_=f;this.widthLikeThat_=e||null;this.topMargin_=(d===undefined?B.VerticalFixer.DEFAULT_TOP_MARGIN:d);this.window_=$(window);this.enabled_=true;this.currentStatus_=null;this.refresh();this.attachEvents_()};B.VerticalFixer.DEFAULT_TOP_MARGIN=15;B.VerticalFixer.STOPPED_CLASS="stopped";B.VerticalFixer.Position={};B.VerticalFixer.PositionStatus={NOT_STOPPED:0,STOPPED_ON_TOP:1,STOPPED_ON_BOTTOM:2};$.extend(B.VerticalFixer.prototype,{refresh:function(){this.refreshLeft_();this.refreshWidth_();this.refreshPosition_(true)},enable:function(){this.enabled_=true;this.refresh()},disable:function(){this.enabled_=false;this.root_.css({left:"",top:"",width:""}).removeClass(B.VerticalFixer.STOPPED_CLASS)},getCurrentStatus:function(){return this.currentStatus_},attachEvents_:function(){var c=this;this.window_.resize(function(){if(c.enabled_){c.refresh()}}).scroll(function(){if(c.enabled_){c.refreshPosition_()}})},refreshPosition_:function(d){var c=this.getPosition_();if(c.status!==this.currentStatus_||d){this.currentStatus_=c.status;var e=(c.status!==B.VerticalFixer.PositionStatus.NOT_STOPPED);this.refreshLeft_();this.root_.toggleClass(B.VerticalFixer.STOPPED_CLASS,e);this.root_.css("top",e?c.top-this.topLimiter_.offset().top:this.topMargin_)}this.refreshLeft_()},refreshLeft_:function(){if(this.currentStatus_===B.VerticalFixer.PositionStatus.NOT_STOPPED){var c=this.topLimiter_.offset().left-this.window_.scrollLeft();this.root_.css("left",c)}else{this.root_.css("left","")}},refreshWidth_:function(){if(this.widthLikeThat_){this.root_.width(this.widthLikeThat_.width())}},getPosition_:function(){var e=this.getBounds_();var f=this.window_.scrollTop()+this.topMargin_;var c=this.root_.innerHeight();var d=e.bottom-e.top;if(f<e.top||c>d){return{status:B.VerticalFixer.PositionStatus.STOPPED_ON_TOP,top:e.top}}else{if(f+c>e.bottom){return{status:B.VerticalFixer.PositionStatus.STOPPED_ON_BOTTOM,top:e.bottom-c}}else{return{status:B.VerticalFixer.PositionStatus.NOT_STOPPED,top:0}}}},getBounds_:function(){return{top:this.topLimiter_.offset().top,bottom:this.bottomLimiter_.offset().top+this.bottomLimiter_.innerHeight()}}});B.VerticalScroller_=function(){this.window_=$(window);this.animator_=jQuery({progress:0})};B.VerticalScroller_.TOP_MARGIN=10;B.VerticalScroller_.DEFAULT_SCROLL_DURATION=700;B.VerticalScroller_.MIN_SCROLLING_DISTANCE=5;$.extend(B.VerticalScroller_.prototype,{scrollToBlock:function(h,g,f,e){var c;if(f){c=this.getBlockBounds_(h).top-B.VerticalScroller_.TOP_MARGIN}else{var d=this.getScrollTopToMoveTo_(h);if(d===null){d=this.window_.scrollTop()}c=d}this.scrollToOffset(c,g,e)},scrollToOffset:function(g,f,e){this.animator_.stop(true);var d=this.window_.scrollTop();var c=g;if(Math.abs(d-c)<B.VerticalScroller_.MIN_SCROLLING_DISTANCE){if(e){e()}}else{this.animateScroll_(d,c,f,e)}},animateScroll_:function(g,f,e,d){var c=this;this.animator_[0]["progress"]=0;this.animator_.animate({progress:1},{step:function(h){c.window_.scrollTop(g+h*(f-g))},duration:(e||B.VerticalScroller_.DEFAULT_SCROLL_DURATION),easing:(typeof jQuery.easing["easeInOutExpo"]==="function"?"easeInOutExpo":"swing"),complete:d})},getScrollTopToMoveTo_:function(f){if(f.height()===0){return null}var c=this.getBlockBounds_(f);var e=this.getViewportBounds_();var h=(c.top<e.top);var d=(c.bottom>e.bottom);var g=((f.outerHeight()+B.VerticalScroller_.TOP_MARGIN)>this.getViewportHeight_());if(h||d){if(g||h){return c.top-B.VerticalScroller_.TOP_MARGIN}else{return(c.bottom+B.VerticalScroller_.TOP_MARGIN-this.getViewportHeight_())}}else{return null}},getBlockBounds_:function(d){var c=d.offset().top;return{top:c,bottom:c+d.outerHeight()}},getViewportBounds_:function(){var c=this.window_.scrollTop();return{top:c,bottom:c+this.getViewportHeight_()}},getViewportHeight_:function(){return(window.innerHeight||document.documentElement.clientHeight)}});B.WindowScroller=new B.VerticalScroller_();booking[sNSStartup].viewed_hotels={priority:9,fullListShowed:false,minListSize:5,lastviewTimer:null,loadStart:null,init:function(){this.loadStart=new Date();var f=this,d="",c=false;if(document.getElementById("LastViewedHotels")){try{this.minListSize=parseInt($("#LastViewedHotels").attr("min"))}catch(g){}$("a.remove_hotel").click(function(){var e=$(this).attr("href").substring(1);$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:e}});booking[sNSStartup].viewed_hotels.cleanupHistoryList(this);this.blur();c=true;return false});if($("#showAllHistory").length){$("#showAllHistory").click(function(){booking[sNSStartup].viewed_hotels.showAll();this.blur();return false})}if($("#removeAllHistory").length){$("#removeAllHistory").click(function(){booking[sNSStartup].viewed_hotels.removeAll(true);this.blur();return false})}}if($(".lastVisitdate").length){$(".lastVisitdate").parents("li").mouseenter(function(){var e=$(".lastVisitdate",this);$(e).slideDown("fast");$(this).addClass("selectedVisit");f.updateTime(e);f.lastviewTimer=window.setInterval(function(){f.updateTime(e)},1000)});$(".lastVisitdate").parents("li").mouseleave(function(){window.clearInterval(f.lastviewTimer);$(".lastVisitdate",this).slideUp("fast");$(this).removeClass("selectedVisit")})}return true},updateTime:function(p){var q=this.loadStart;var o=new Date();if($(p).attr("sh")==undefined){$(p).attr("sd",$(".viewed_d",p).text());$(p).attr("sh",$(".viewed_h",p).text());$(p).attr("sm",$(".viewed_m",p).text());$(p).attr("ss",$(".viewed_s",p).text());if($(p).attr("sd")==""){$(p).attr("sd","0")}if($(p).attr("sh")==""){$(p).attr("sh","0")}if($(p).attr("sm")==""){$(p).attr("sm","0")}if($(p).attr("ss")==""){$(p).attr("ss","0")}}var c=0;var g=0;var l=0;var n=0;var t=o.getSeconds()-q.getSeconds();if(t<0){t=60-q.getSeconds()+o.getSeconds();c=1}var f=o.getMinutes()-q.getMinutes()-c;if(f<0){f=60-q.getMinutes()+o.getMinutes()-c;g=1}var k=o.getHours()-q.getHours()-g;if(k<0){k=24-q.getHours()+o.getHours()-g;l=1}if(k>24){k=k-24;n=1-l}var j=parseInt($(p).attr("sh"))+k;var e=parseInt($(p).attr("sm"))+f;var r=parseInt($(p).attr("ss"))+t;if(r>59){r=r-60;e=e+1}if(e>59){e=e-60;j=j+1}if(j>23){j=j-24;n=n+1}if(r==0){$(".viewed_s",p).text("");$(".viewed_seconds",p).removeClass("show");$(".viewed_second",p).removeClass("show")}else{$(".viewed_s",p).text(r);if(r==1){$(".viewed_seconds",p).removeClass("show");$(".viewed_second",p).addClass("show")}else{$(".viewed_seconds",p).addClass("show");$(".viewed_second",p).removeClass("show")}}if(e==0){$(".viewed_m",p).text("");$(".viewed_minutes",p).removeClass("show");$(".viewed_minute",p).removeClass("show")}else{$(".viewed_m",p).text(e);if(e==1){$(".viewed_minutes",p).removeClass("show");$(".viewed_minute",p).addClass("show")}else{$(".viewed_minutes",p).addClass("show");$(".viewed_minute",p).removeClass("show")}}if(j==0){$(".viewed_h",p).text("");$(".viewed_hours",p).removeClass("show");$(".viewed_hour",p).removeClass("show")}else{$(".viewed_h",p).text(j);if(j==1){$(".viewed_hours",p).removeClass("show");$(".viewed_hour",p).addClass("show")}else{$(".viewed_hours",p).addClass("show");$(".viewed_hour",p).removeClass("show")}}if(n==0){$(".viewed_d",p).text("");$(".viewed_days",p).removeClass("show");$(".viewed_day",p).removeClass("show")}else{$(".viewed_d",p).text(n);if(n==1){$(".viewed_days",p).removeClass("show");$(".viewed_day",p).addClass("show")}else{$(".viewed_days",p).addClass("show");$(".viewed_day",p).removeClass("show")}}},cleanupHistoryList:function(d){var c=this.minListSize;$(d).parent().fadeOut(500,function(){$(d).parents("li").remove();var f=$("#LastViewedHotels ul.lastViewedList li");if(!f.length){booking[sNSStartup].viewed_hotels.removeAll(false)}if(f.length<2){$(".hotel_comparison_link").hide();$("#share_hotel_history").css("borderTop","none")}if(f.length>=c){var e=f.get(c-1);$(e).fadeIn(1000)}if(document.getElementById("showAllHistory")){if(f.length<=c){$("#moreHistoryLinkWrapper").hide()}}})},showAll:function(){var d=$("#LastViewedHotels ul.lastViewedList li");var c=this.minListSize;if(!booking[sNSStartup].viewed_hotels.fullListShowed){for(i=c-1;i<d.length;i++){$(d[i]).fadeIn(500)}booking[sNSStartup].viewed_hotels.fullListShowed=true}else{for(i=c;i<d.length;i++){$(d[i]).fadeOut(500)}booking[sNSStartup].viewed_hotels.fullListShowed=false}booking[sNSStartup].viewed_hotels.switchCaption()},removeAll:function(c){if(c){$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:-1}})}$("#LastViewedHotels").fadeOut(500,function(){$(this).remove()})},switchCaption:function(){if(booking[sNSStartup].viewed_hotels.fullListShowed){$("#showAllHistory .showLink").hide();$("#showAllHistory .hideLink").show()}else{$("#showAllHistory .showLink").show();$("#showAllHistory .hideLink").hide()}}};booking[sNSStartup].worldmap={priority:8,init:function(){if(!$("#map_holder").length){return}var d=this;var e;var c;this.oldid=$("#continent_list a.selected").attr("id").split("list_continent_")[1];for(c=1;c<10;c++){$("#continent_"+c).mouseover(function(){clearTimeout(e);d.curid=this.id.split("continent_")[1];e=setTimeout(function(){d.togleContinents()},300)});$("#continent_"+c).click(function(){return false});$("#list_continent_"+c).mouseover(function(){clearTimeout(e);d.curid=this.id.split("list_continent_")[1];e=setTimeout(function(){d.togleContinents()},300)});$("#list_continent_"+c).click(function(){return false})}$("#country_wrapper").mouseenter(function(){d.curid=d.oldid});$("#countrylist_10 li, #countrylist_2 li").appendTo("#countrylist_1");$("#countrylist_7 li").appendTo("#countrylist_8")},togleContinents:function(){if(this.curid==this.oldid){return}if(this.oldid){$("#link_continent_"+this.oldid).hide();$("#list_continent_"+this.oldid).removeClass("selected");$("#countrylist_"+this.oldid).hide()}this.showContinent()},showContinent:function(){$("#link_continent_"+this.curid).fadeIn(300);$("#list_continent_"+this.curid).addClass("selected");$("#countrylist_"+this.curid).show();this.oldid=this.curid}};booking[sNSExperiments].disambiguation_list_view=(function(){var c=function(){$(".disambiguation_filter li").bind("click",function(){if(!$(this).hasClass("disamb_filter_selected")){$(".disamb_filter_selected").removeClass("disamb_filter_selected");$(this).toggleClass("disamb_filter_selected");var e=".b_item_"+$(this).attr("data-select");if(e!=".b_item_all"){$(".disambiguation_results li").fadeOut();$(e).fadeIn()}else{$(".disambiguation_results li").fadeIn()}}})};var d=function(){c()};return{init:d}}());booking[sNSStartup].worldMapV2={priority:8,init:function(){if(!$("#map_holder_v2").length){return}var d=this;var e;var c;if(booking.env.b_site_experiment_continent_lp_wrapper){this.oldid=0}else{this.oldid=$("#map_holder_v2 h3.selected").attr("id").split("link_continent_")[1]}$("#world_map_v2 area").hover(function(){var g=$(this).attr("id");var f=parseInt(g.split("_")[1]);$("#link_continent_"+f).stop(true,true).fadeIn(200);$("#list_continent_"+f).addClass("hovered")},function(){var g=$(this).attr("id");var f=parseInt(g.split("_")[1]);if(!$("#link_continent_"+f).hasClass("selected")){$("#link_continent_"+f).stop(true,true).hide()}$("#list_continent_"+f).removeClass("hovered")});$("#world_map_v2 area").click(function(){if(booking.env.b_site_experiment_continent_lp_wrapper){booking.google.trackEvent(booking.google.clickTracker,"Continent-page",$(this).attr("id"));window.location=$(this).attr("data-href")}else{thisid=$(this).attr("id");d.curid=parseInt(thisid.split("_")[1]);d.togleContinents();return false}});if(booking.env.b_site_experiment_continent_lp_wrapper){$(".contlist_v2 li a").hover(function(){$("#link_"+$(this).attr("data-id")).stop(true,true).fadeIn(200)},function(){$("#link_"+$(this).attr("data-id")).stop(true,true).hide()})}else{$(".contlist_v2 li a").hover(function(){var g=$(this).attr("id");var f=parseInt(g.split("list_continent_")[1]);$("#link_continent_"+f).stop(true,true).fadeIn(200);$("#list_continent_"+f).addClass("hovered")},function(){var g=$(this).attr("id");var f=parseInt(g.split("list_continent_")[1]);if(!$("#link_continent_"+f).hasClass("selected")){$("#link_continent_"+f).stop(true,true).hide()}$("#list_continent_"+f).removeClass("hovered")})}$(".contlist_v2 li a").click(function(){if(booking.env.b_site_experiment_continent_lp_wrapper){booking.google.trackEvent(booking.google.clickTracker,"Continent-page",$(this).attr("data-id"))}else{thisid=$(this).attr("id");d.curid=parseInt(thisid.split("list_continent_")[1]);d.togleContinents();return false}});$("#countrylist_10 li, #countrylist_2 li").appendTo("#countrylist_1");$("#countrylist_7 li").appendTo("#countrylist_8")},togleContinents:function(){if(this.curid==this.oldid){return}if(this.oldid){$("#link_continent_"+this.oldid).hide();$("#link_continent_"+this.oldid).removeClass("selected");$("#list_continent_"+this.oldid).removeClass("selected");$("#continent_name_"+this.oldid).removeClass("selected");$("#countrylist_"+this.oldid).hide()}this.showContinent()},showContinent:function(){$("#link_continent_"+this.curid).fadeIn(300);$("#list_continent_"+this.curid).addClass("selected");$("#link_continent_"+this.curid).addClass("selected");$("#continent_name_"+this.curid).addClass("selected");$("#countrylist_"+this.curid).show();this.oldid=this.curid}};$(document).ready(function(){var c=$("#editorTitle").val();var d=$("#editorText").html()});booking[sNSExperiments]["BfZIXXcffZWWYBNRNPAcC"]=(function(f,c,d,e,g){return{init:function(){if(!(f.accounting&&d.env.accounting_config)){return}var j=f.accounting,k=d.env.accounting_config;var h={init:function(m){this._current=m},formatMoney:function(o,m,n){m=m||this._current;if(m===undefined){throw"The module hasn't been initiated, so you have to privde currencyCode"}if(o%1===0){n=n||{};n.precision=n.precision||0}var p=l(m,n);return j.formatMoney(o,p)},getOptions:function(){return l(this._current)}};h.init(d.env.b_selected_currency);d.utils=d.utils||{};d.utils.accounting=h;function l(m,n){n=d.tools.defaults(n,{symbolFormat:"%s",valueFormat:"%s"});n.valueFormat=n.valueFormat.replace("%s","%v");var u=n.symbolFormat,r=n.valueFormat;var o=k.html_symbol[m]||m,p=k.decimal_separator[m]||k.decimal_separator["default"]||".",v=k.group_separator[m]||k.group_separator["default"]||",",t=(function(x,w){return w==="before"?u+x+r:r+x+u})(k.currency_separator[m]||k.currency_separator["default"]||" ",k.symbol_position[m]||k.symbol_position["default"]||"before"),q=n.precision||(k.num_decimals&&(k.num_decimals[m]||k.num_decimals["default"]))||undefined;return{symbol:o,decimal:p,thousand:v,format:t,precision:q}}}}}(window,document,booking,booking.env,$));booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments]["TdSPFDESPNYLNeGPRe"]={priority:9,init:function(){if(booking.env.b_action==="index"||(booking.env.b_is_landing&&booking.env.b_action==="searchresults")){return false}var c=function(){this.SCROLLING_DURATION=500;this.BUTTON_APPEARENCE_OFFSET=1200;this.VISIBLE_BTN_CLASS="__visible";this.backToTopBtnWrapper=$("#back_to_top_btn");this.backToTopBtn=this.backToTopBtnWrapper.find("a");this.isButtonShown=false;this.window=$(window);this.body=null;if(this.backToTopBtn.length){this.initialize()}else{return false}};c.prototype={initialize:function(){var e=this,d;this.backToTopBtn.click(function(f){e.goToTop();return false});this.window.scroll(function(){e.analyseScroll(e.BUTTON_APPEARENCE_OFFSET)})},goToTop:function(){if(!this.body){this.body=$("body,html")}this.body.animate({scrollTop:0},this.SCROLLING_DURATION)},analyseScroll:function(d){if(d<this.window.scrollTop()){if(!this.isButtonShown){booking.track.exp("TdSPFDESPNYLNeGPRe");this.backToTopBtnWrapper.addClass(this.VISIBLE_BTN_CLASS);this.isButtonShown=true}else{return false}}else{if(this.isButtonShown){this.backToTopBtnWrapper.removeClass(this.VISIBLE_BTN_CLASS);this.isButtonShown=false}else{return false}}}};new c()},initElse:function(){if(booking.env.b_action==="index"||(booking.env.b_is_landing&&booking.env.b_action==="searchresults")){return false}var c=1200,d=$(window);d.bind("scroll.back_to_top_exp",function(){if(c<d.scrollTop()){booking.track.exp("TdSPFDESPNYLNeGPRe");d.unbind("scroll.back_to_top_exp")}else{return false}})}};B[sNSExperiments]["GWcOCBFO"]=(function(m,n,d,l,j){function e(){d.track.exp("GWcOCBFO")}function k(v,u){var w=d[sNSExperiments]["bLNQFZDDUZWfAaNCWRe"];try{w.track.apply(w,arguments);return true}catch(x){return false}}function h(){j("#inout").find(".c2-checkout").trigger("show")}function q(){if(!d.search.dates("checkin")){j("#inout").find(".c2-checkin").trigger("show")}}function p(u,v){if(u.date){d.search.dates(v,u.date)}else{if(u.month!==null&&u.year!==null){d.search.dates(v,(u.month-1)+"-"+u.year)}}}function f(w,u){var v;if(!u){return}v=u.oldApi;if(!v){return}if(u.type==="checkin"){p(v.from,"checkin");if(u.otherChanged){p(v.till,"checkout")}}else{if(u.type==="checkout"){p(v.till,"checkout");if(u.otherChanged){p(v.from,"checkin")}}}}function o(){var u=d.calendar2.today();u.setDate(u.getDate()-1);return u}function g(){var u=d.calendar2.today();u.setFullYear(u.getFullYear()+1);u.setDate(0);u.setDate(u.getDate()-1);return u}function r(){var u=d.calendar2.today();u.setFullYear(u.getFullYear()+1);u.setDate(0);return u}function t(){var v=l.calendar_sunday_first_day_for_us||l.b_site_experiment_change_wk_sunday_ar,w=l.b_simple_weekdays,u=l.b_short_months;if(v){w.unshift(w.pop())}j(".c2-checkin").calendar2({type:"checkin",defaultDate:d.search.dates("checkin"),startDate:o(),endDate:g(),dayNames:w,monthNames:u,sundayFirst:v,title:l.transl_checkin_title,direction:l.rtl?"rtl":"ltr",onDayClick:function(y,x){k("checkIn","icon")},onDateSelected:function(A,x){d[sNSStartup].calendar.syncDates(false,x.getDate(),x.getMonth()+1,x.getYear(),false);var z=d.search.dates("checkin"),y=d.search.dates("checkout");if(z&&y){A.hilightRange(d.calendar2.dayId(z.getFullYear(),z.getMonth(),z.getDate()),d.calendar2.dayId(y.getFullYear(),y.getMonth(),y.getDate()))}else{if(!y){h()}}},onShow:function(z,y){if(typeof ClickTaleEvent==="function"){ClickTaleEvent("Checkin calendar is opened")}var x=d.search.dates("checkin");if(x){z.selectDay(d.calendar2.dayId())}}});j(".c2-checkout").calendar2({type:"checkout",sundayFirst:v,dayNames:w,monthNames:u,defaultDate:d.search.dates("checkout"),startDate:o(),endDate:r(),title:l.transl_checkout_title,direction:l.rtl?"rtl":"ltr",onDayClick:function(y,x){k("checkOut","icon")},onDateSelected:function(A,x){d[sNSStartup].calendar.syncDates(true,x.getDate(),x.getMonth()+1,x.getYear(),false);var z=d.search.dates("checkin"),y=d.search.dates("checkout");if(z&&y){A.hilightRange(d.calendar2.dayId(z.getFullYear(),z.getMonth(),z.getDate()),d.calendar2.dayId(y.getFullYear(),y.getMonth(),y.getDate()))}},onShow:function(){if(typeof ClickTaleEvent==="function"){ClickTaleEvent("Checkout calendar is opened")}}});d.eventEmitter.bind("CALENDAR:dates_changed",f);d.eventEmitter.bind("CALENDAR:opened",e);d.eventEmitter.bind("SEARCH:destination_selected",q)}function c(){d.eventEmitter.bind("CALENDAR:datepicker_opened",e)}return{init:t,initElse:c,priority:9}}(window,document,booking,booking.env,$));booking.ensureNamespaceExists(sNSExperimentsLoad);booking[sNSExperimentsLoad]["BMFVXKLJDWOAFbKMPAfWe"]=(function(j,m,d,h,f){var k=f(".click_change_currency");function g(o){d.track.exp("BMFVXKLJDWOAFbKMPAfWe")}function l(){k.click(function(o){o.preventDefault()});k.css("cursor","inherit");k.each(function(o,p){if(p.tooltipText){p.tooltipText=undefined}})}function e(){k.bind("mouseover",g)}function n(){l();e()}function c(){e()}return{init:n,initElse:c,priority:9}}(window,document,booking,booking.env,$));var b_Feedback=function(){function g(){if(b_cookie&&b_cookie.contentFeedback){var k=b_cookie.contentFeedback.split("|");if(k.indexOf(booking.env.b_hotel_id)!=-1){return}}$("#hotel_main_content").append('<p id="content_feedback_invite">'+booking.env.content_feedback_prompt_question+'<br /><button id="b_content_feedback_yes">'+booking.env.content_feedback_prompt_link+"</button></p>");$("#b_content_feedback_yes").click(function(){b_Feedback.popup("/general.html?tmpl=content_feedback");if(booking.env.b_site_experiment_event_tracking&&(typeof pageTracker!="undefined"||typeof _gaq!="undefined")){booking.google.trackEvent(booking.google.clickTracker,"Content Feedback","Clicked")}return false})}function h(){}function f(){var l="<option value=''>"+transl_please_select+"</option>";var k;$("#maxotel_rooms td.roomPrice div.roomDefaultUse, #maxotel_rooms td.roomPrice div.roomSingleUse").each(function(){singleOcc="";if($(this).hasClass("roomSingleUse")){singleOcc="- Single Occupancy"}var n=$(this).find("strong").text();var m=n.match(/[0-9].*[0-9]/);if($(this).parents("tr:eq(0)").find("td.roomType a.togglelink").length!=0){k=$(this).parents("tr:eq(0)").find("td.roomType a.togglelink").html()}l+='<option value="'+$(this).attr("id").substr(9)+" *** "+k+singleOcc+" | "+booking.env.rates_feedback_userscurrency+" "+m+'">'+k+singleOcc+" - "+n+"</option>"});$("#feedback_roomslist").append('<select name="roomtype_id" id="roomtype_id" style="width:410px;">'+l+"</select>")}function e(){var l=$("#comments_table,.comments_table_lessthan_five, #comments_list");if(l.length){$(".review_tr",l).mouseenter(function(m){$(".review_feedback",$(this)).css({filter:"alpha(opacity=100)",opacity:1})});$(".review_tr",l).mouseleave(function(m){$(".review_feedback",$(this)).css({filter:"alpha(opacity=20)",opacity:0.2})});if($.fn&&$.fn.tooltip){$(".review_useful_form",l).tooltip({track:true,opacity:1,fade:250,left:0})}if(b_cookie&&b_cookie.rF){var k=b_cookie.rF.split(",");$("tr",l).each(function(){var n=$(this).find("div[id^='area_comments_']").attr("id");var m=n.substr(14,n.length);if(k.indexOf(m)!=-1){if(booking.env.b_site_experiment_review_helpful_thumbs){var o=$(this);o.find(".review_useful_form").remove();o.find(".vote_copy").remove();o.find("span.review_feedback").prepend('<p class="review_useful_thankyou">'+booking.env.transl_content_feedback_thankyou_new+"</p>")}else{var o=$(this);o.find(".review_useful_form").remove();o.find(".vote_copy").remove();o.find("span.review_feedback").prepend('<p class="review_useful_thankyou">'+transl_content_feedback_thankyou_short+"</p>")}}})}$("body").delegate("div.review_feedback form","submit",function(){$(this).children("textarea").val(booking.env.b_hotel_id);var n=$(this).parents("div[id^='area_comments_']").attr("id");var m=n.substr(14,n.length);var o=this;$.post(this.action,{hotel_id:$(this).children("textarea").val()},function(){if(b_cookie&&b_cookie.rF){var q=b_cookie.rF.split(",");if(q.length>50){q.shift();b_cookie.rF=q.toString()+","+m}else{b_cookie.rF+=","+m}}else{if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.rF=m}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})}var p=$(o).parent();p.find(".review_useful_form").remove();p.prepend('<p class="review_useful_thankyou">'+transl_content_feedback_thankyou_short+"</p>");booking.google.trackEvent(booking.google.clickTracker,"Review Useful",$(o).children("button").attr("class"))});return false});$("body").delegate("span.review_feedback form","submit",function(){$(this).children("textarea").val(booking.env.b_hotel_id);var n=$(this).parents("div[id^='area_comments_']").attr("id");var m=n.substr(14,n.length);var o=this;$.post(this.action,{hotel_id:$(this).children("textarea").val()},function(){if(b_cookie&&b_cookie.rF){var q=b_cookie.rF.split(",");if(q.length>50){q.shift();b_cookie.rF=q.toString()+","+m}else{b_cookie.rF+=","+m}}else{if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.rF=m}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:".booking.com"})}var p=$(o).parent();if(booking.env.b_site_experiment_review_helpful_thumbs){$(o).closest(".no_thumbs").html('<p class="review_useful_thankyou">'+booking.env.transl_content_feedback_thankyou_new+"</p>")}else{p.find(".review_useful_form").remove();p.prepend('<p class="review_useful_thankyou">'+transl_content_feedback_thankyou_short+"</p>")}booking.google.trackEvent(booking.google.clickTracker,"Review Useful",$(o).children("button").attr("class"));B.eventEmitter.trigger("REVIEW_FEEDBACK.SUBMITTED:"+m)});return false})}}function d(){$("input[name^=reason]:checked").each(function(){$.ajax({url:"/feedback",type:"PUT",data:{type:this.value,hotel_id:booking.env.b_hotel_id,lang:booking.env.b_lang_for_url}})});var k=booking.env.content_feedback_thankyou_end+". "+booking.env.content_feedback_we_appreciate;if($("#contact:checked").length){k=booking.env.content_feedback_contact_info+" "+k}$("#content_feedback_invite").text(k);if(b_cookie&&b_cookie.contentFeedback){b_cookie.contentFeedback=b_cookie.contentFeedback+"|"+booking.env.b_hotel_id}else{if(typeof(b_cookie)=="undefined"){b_cookie={}}b_cookie.contentFeedback=booking.env.b_hotel_id}if(typeof(JSON)!="undefined"){$.cookie("b",JSON.stringify(b_cookie),{expires:30,path:"/",domain:booking.env.b_domain_end})}if(booking.env.b_site_experiment_event_tracking&&(typeof pageTracker!="undefined"||typeof _gaq!="undefined")){booking.google.trackEvent(booking.google.clickTracker,"Content Feedback","Sent")}}function j(){$("#b_content_feedback_yes").hide();if($("#content_feedback_checkboxes").length){$("#content_feedback_checkboxes").show()}else{$('<div id="content_feedback_checkboxes"><label for="translation"><input id="translation" type="checkbox" name="reason[]" value="translation">'+booking.env.content_feedback_response1+'</label><label for="difficult"><input id="difficult" type="checkbox" name="reason[]" value="difficult">'+booking.env.content_feedback_response2+'</label><label for="incorrect"><input id="incorrect" type="checkbox" name="reason[]" value="incorrect">'+booking.env.content_feedback_response3+'</label><label for="missing"><input id="missing" type="checkbox" name="reason[]" value="missing">'+booking.env.content_feedback_response4+'</label><label for="contact"><input id="contact" type="checkbox" name="reason[]" value="contact">'+booking.env.content_feedback_response5+'</label><button onclick="b_Feedback.send();">'+booking.env.send_your_feedback+"</button><a href=\"#\" onclick=\"$('#content_feedback_checkboxes').hide(); $('#b_content_feedback_yes').show(); return false;\">Close</a></div>").appendTo("#content_feedback_invite")}}function c(k){$(document.body).append('<div id="b_feedback"></div>');$("#b_feedback").load(k,function(){if($("#b_feedback").css("position")=="fixed"){$("#b_feedback").css("top",$(window).height()/2-$("#b_feedback").height()/2)}else{var l=(document.body.scrollTop==0)?(window.pageYOffset)?window.pageYOffset:(document.body.parentElement)?document.body.parentElement.scrollTop:0:document.body.scrollTop;$("#b_feedback").css("top",l+($(window).height()/2-$("#b_feedback").height()/2))}$("#b_feedback").bgiframe();b_Feedback.createRoomsDd()})}return{init:g,initRatesFeedback:h,createRoomsDd:f,registerEvent:e,send:d,open:j,popup:c}}();booking[sNSStartup].b_Feedback={priority:9,init:function(){b_Feedback.initRatesFeedback()}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments].content_feedback={priority:9,init:function(){b_Feedback.init()}};function popup_cancel_big_index(c){window.open(c,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width=950,height=500,left=200,top=200");return false}var _get_reactive_re=function(){var c=$("#reactive_text_items span").map(function(){return"("+decodeURIComponent($(this).text())+")"}).get();return new RegExp(c.join("|"),"i")};var _reactive_items_exist=function(){return $("#reactive_text_items").children().length>0};$(function(){var d,e;var c=_get_reactive_re();e=function(){var f=$(this).val();if(c.test(f)){if(!d){booking.track.exp("YBLXXSHbSBBYMO");d=true}if(booking.env.b_site_experiment_cuca_reactive_text_box){var g=$("#messagebox_div").position();$("#reactive_text_box").css({position:"absolute",top:g.top+"px"}).fadeIn()}}else{if($("#reactive_text_box").is(":visible")){$("#reactive_text_box").fadeOut()}}};$("#reactive_text_box").hide();if(_reactive_items_exist()){$("#messagebox").keyup(e)}});$(function(){$.extend($.expr[":"],{containsi:function(f,d,c){return(f.textContent||f.innerText||"").toLowerCase().indexOf((c[3]||"").toLowerCase())>=0}});$("#search_form").submit(function(){var d=$("#keyword").val();if(!d.length){return false}var c=["item_searching","topten","item_volcano_eruption","item_roomtypes","item_pricing","item_creditcards","item_payments","item_reservation_process","item_hotelpolicies","item_confirmation","item_extrafacilities","item_cancellation","item_directions","item_reviews"];$(c).each(function(f,g){hideEl(g)});$("#search_results").children().remove();$.getJSON("/faq_search",{lang:B.env.b_lang_for_url,query:d},function(e){results=e.results;if(!results||!results.length){$("#search_results").append("<p>Nothing found</p>")}else{$.each(results,function(f,j){var g=$("span#"+j),h=g.prev();if(g&&h&&j.match(/faqa\d+/)&&!h.parents("span.faqA").size()){h.clone().appendTo("#search_results");g.clone().appendTo("#search_results")}})}});return false});$(".staticmenustyle").children("li").children("a").each(function(c,d){$(d).click(function(){$("#search_results").children().remove()})})});booking[sNSStartupLoad].flash_deals_for_city={priority:9,init:function(){$("#flash_deal_city_sr #city_deal").change(function(){$("#flash_deal_city_sr")[0].submit()})}};booking[sNSExperiments]["TZUFPIbEJacYWbMC"]={init:function(){var n=$("table#basiclayout"),j=$("#searchboxInc"),g=j.find(".calendarLink"),o=j.find(".checkin_day, .checkin_year_month, .checkout_monthday, .checkout_year_month"),l=j.find(".flexiShowHideBgrndWide"),h=j.find(".flexiShowHideBgrndShort"),e=j.find("#availcheck"),f=j.find("#sr_interval"),d=j.find("#sr_interval_month"),c=n.find("#left");var k=function(){c.addClass("flexiShowHide");g.addClass("flexiShowHideBringToFront");o.addClass("flexiShowHideBringToFront");l.addClass("flexiShowHideBgrnd");f.triggerHandler("change");d.attr("disabled","disabled");f.val("any");d.val("any");h.addClass("flexiShowHideBgrnd")};var m=function(){c.removeClass("flexiShowHide");g.removeClass("flexiShowHideBringToFront");o.removeClass("flexiShowHideBringToFront");l.removeClass("flexiShowHideBgrnd");h.removeClass("flexiShowHideBgrnd");d.removeAttr("disabled")};e.click(function(){if($(this).attr("checked")){k()}else{m()}});g.click(function(){m();e.removeAttr("checked");e.triggerHandler("change")});o.focus(function(){m();e.removeAttr("checked").triggerHandler("change")});f.change(function(){if($(this).val()==="any"){h.addClass("flexiShowHideBgrnd");d.attr("disabled","disabled")}else{h.removeClass("flexiShowHideBgrnd");d.removeAttr("disabled")}})}};(function(c,e,d){d("#availcheck").click(function(){e.track.exp("TZUFPIbNERT,TZUFPIbEJacYWbMC")});e.run("TZUFPIbNERT").onReady(function(){var f=0;if(e.track.getVariant("TZUFPIbNERT")){d("#availcheck").bind("change",function(){if(d(this).attr("checked")){d(".avail").addClass("avail_flexi");if(e.track.getVariant("bLYeLDUePdPIFdVeVZNYT")){d(".flexi_sr_params").slideDown({duration:200})}else{d(".flexi_sr_params").show()}d("#predefined_group, #filter_acc_type_opt, #nr_rooms, #nr_adults, #nr_children").attr("disabled","disabled");d("#advanced_search_block").hide()}else{d(".avail").removeClass("avail_flexi");if(e.track.getVariant("bLYeLDUePdPIFdVeVZNYT")){d(".flexi_sr_params").slideUp({duration:200})}else{d(".flexi_sr_params").hide()}d("#predefined_group, #filter_acc_type_opt, #nr_rooms, #nr_adults, #nr_children").removeAttr("disabled");d("#advanced_search_block").show()}f=1});d(".but .bigbluebutton").live("click",function(){if(f||d(".avail").hasClass("avail_flexi")){booking.google.trackEvent(booking.google.clickTracker,"FlexiDates",d("#sr_interval").val());booking.google.trackEvent(booking.google.clickTracker,"FlexiDates",d("#sr_interval_month").val())}});d(".flexiblesr_result").click(function(){if(!(d(this).hasClass("flexiblesr_unavailable"))){window.location=d(this).data("url")}})}})}(this,booking,jQuery));booking[sNSExperimentsLoad].google_plus_one_button={priority:9,init:function(){if(!($.browser.msie&&parseInt($.browser.version,10)>=9)){var c=document.createElement("script");c.type="text/javascript";c.async=true;c.src="//apis.google.com/js/plusone.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}}};booking[sNSExperiments].header_2012=(function(){var c=function(){$("#b_nav_profile").bind("click",function(){$(this).toggleClass("selected");if($("#b_header").hasClass("profile_slide_down")){$("#b_header").removeClass("profile_slide_down").addClass("profile_slide_up")}else{$("#b_header").removeClass("profile_slide_up").addClass("profile_slide_down")}});$(".profile_login_switcher").bind("click",function(){$("#profile_forms").toggleClass("profile_sign-in").toggleClass("profile_sign-up")});$("select","#header_currency").bind("change",function(){$(this).parent("form").submit()});$("select","#header_language").bind("change",function(){$(this).parent("form").submit()})};var d=function(){c()};return{init:d}}());booking[sNSStartup].improve_calendar_closing={priority:9,init:function(){$(document.body).click(function(e){var d=$(e.target).parents("#calendar_popup").length;var c=$(e.target).parents(".calendarLink").length;if(!d&&!c){$(this).trigger("close_calendar",e.target)}});return true}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments]["ZIWcbIXXcffPOAXZLO"]=(function(j,e){var h=j("#footer_menu");var c=h.find(".f_currency");var l=h.find(".f_language");var g=j("#current_currency").closest(".uc_currency");var f=j("#current_language").closest(".user_center_popover");function m(){e.track.onView("#footer_menu_track").exp("ZIWcbIXXcffPOAXZLO");c.click(function(){k(g,c);return false});l.click(function(){k(f,l);return false})}function k(n,o){if(n.data("position")!="footer"){n.appendTo(o.parent());if(n.data("position","footer")){}}}function d(){e.track.onView("#footer_menu_track").exp("ZIWcbIXXcffPOAXZLO")}return{init:m,initElse:d,priority:1}}($,booking));booking[sNSExperimentsLoad].lazy_load_print_css={priority:9,init:function(){var c=document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=booking.env.print_css_href;c.media="print";document.getElementsByTagName("head")[0].appendChild(c)}};booking[sNSExperimentsLoad]["YdVSPEBRRCfFDFVNaDNRe"]=(function(h,j,k,e,d){var c=d("#subheader-wrap");var l=c.find(".gplay_store");var g=d("#android-download-popover");function f(){l.hover(function(){k.track.exp("YdVSPEBRRCfFDFVNaDNRe")})}return{init:function(){var o=d("html");var p;l.mouseenter(function(){m()});l.mouseleave(function(){n()});g.mouseover(function(){clearTimeout(p)});g.mouseleave(function(){n()});g.delegate(".download-option","click",function(r){var q=d(this).data("channel");k.google.trackEvent(k.google.clickTracker,k.env.b_action,"android_download_cn_"+q)});f();function m(){clearTimeout(p);var q=l.offset();q.top+=l.outerHeight();g.css({top:q.top,right:0}).show()}function n(){clearTimeout(p);p=setTimeout(function(){g.hide()},500)}},initElse:function(){f()}}})(window,document,booking,booking.env,$);booking[sNSExperimentsLoad]["BfZdbEJNZJSUJBGWcOCbXOTJBae"]=(function(g,h,k,f,e){function c(o,u){var p="calendar-holidays-section",v=parseInt(u.month,10),w=parseInt(u.year,10),r=k.env.local_holidays,t=k[sNSStartup].calendar,q=k.track.getVariant("BfZdbEJNZJSUJBGWcOCbXOTJBae");var x=e(u.currentTable),n=x.parent(".newcalendar"),m=e("<div></div>").addClass(p);n.find("."+p).remove();k.track.exp("BfZdbEJNZJSUJBGWcOCbXOTJBae");if(!q){return}n.addClass("calendar-with-holiday");r=k.tools.filter(r,function(C,z,A){var y=j(C.date);return y.getMonth()+1===v&&y.getFullYear()===w});r.sort(function(z,y){var C=j(z.date),A=j(y.date);return C.getTime()-A.getTime()});r=function(){var y=[];k.tools.each(r,function(D,z,C){for(var A=y.length-1;A>=0;A--){if(y[A].date===D.date){return}}y.push(D)});return y}();k.tools.each(r,function(C,z,A){var y=n.find("td").filter(function(){console.log(parseInt(e(this).text(),10),parseInt(j(C.date).getDate(),10));return parseInt(e(this).text(),10)===parseInt(j(C.date).getDate(),10)}).find("a");y.addClass("calendar-holiday-item").attr("title",C.name)});r=function(){var z=[];k.tools.each(r,function(H,E,G){for(var F=z.length-1;F>=0;F--){if(z[F].name===H.name){z[F].date.push(H.date);return}}z.push({date:[H.date],name:H.name})});var A='<a class="calendar-date" href="#">{{date}}</a>',C='<span class="calendar-invalid-date">{{date}}</span>',D='<div class="calendar-holiday-item">{{link}}{{name}}</div>',y="";k.tools.each(z,function(H,E,G){var F=[];k.tools.each(H.date,function(K,J,L){var I=j(K);F.push((t.isValidDate(I)?A:C).replace(/{{date}}/,I.getDate()))});y+=D.replace(/{{link}}/,F.join(", ")+": ").replace(/{{name}}/,H.name)});return y}();if(r!==""){m.html(r);x.after(m)}}function l(){if(f.local_holidays&&f.local_holidays.length>0){k.eventEmitter.bind("CALENDAR:after_rebuild_calendar_table",c)}}var d=/(\d{4})-(\d{2})-(\d{2})/;var j=function(m){var n=m.match(d);return new Date(n[1],n[2]-1,n[3])};return{init:l,initElse:l}}(window,document,booking,booking.env,$));booking[sNSStartup].login_foldout={priority:9,fontchange:false,init:function(){var c=this;if(location.protocol=="https:"&&booking.env.b_is_app){$(".stay_login, #login-form").each(function(){var d=$(this).attr("action");if(d.indexOf("protocol=https")==-1){var e=d;if(d.indexOf("protocol=http")>-1){e=d.replace("protocol=http","protocol=https_www")}else{e=sCurlink+"&protocol=https_www"}$(this).attr("action",e)}})}if(booking.track.getVariant("PYaMDfSJDPTYLXC")){$(".use_user_access_menu").click(function(d){if($(d.target).hasClass("use_user_access_menu")){if(!booking.env.userAccessMenuShown){booking.env.userAccessMenuShown=true}else{booking.env.userAccessMenuShown=false}$(this).toggleClass("user_access_menu_shown")}d.stopPropagation()});$(".user_access_menu_bn_login_wrapper").find(".info-tooltip-right").click(function(){alert($(this).attr("title"))})}$("#login_redesign").click(function(){if(!$(this).hasClass("no_arrow")){if($(this).hasClass("login_opened")){$(this).removeClass("login_opened")}else{$(this).addClass("login_opened")}$("#login-form_wrapper fieldset").toggle();$("#login_open, #login_close, #login_optional").toggle()}return false});$(".login_foldout").each(function(){var d=$("#loginPopup").height();if(d==0){var d=1000}$("#loginPopup").css({height:"0px","overflow-y":"hidden",display:"none"});$("#loginPopup").attr({shown:"false"});$(this).click(function(){c.toggle(document.getElementById("loginPopup"),d);return false});$("#closeLoginPopup").click(function(){c.toggle(document.getElementById("loginPopup"),d);return false})});$(".stay_login").submit(function(){if(booking.google.userProfileTracker){booking.google.trackEvent(booking.google.userProfileTracker,"Login attempt : Header",booking.env.b_action)}$("#foldout_error").hide();$("#login_loading").show();var g=document.getElementById("username_input_top").value;if(g==""){c.hideLoader();$('label[for="username_input_top"]').css({color:"#B30000","font-weight":"bold"});$("#username_input_top").focus();return false}else{var e=/^[0-9[\.]+$/.exec(g);if(e){var d=$("#bm_log").val();d+=(d.indexOf("?">0))?"&":"?";var f=$("#password_input_top",this).val();d+="pincode="+f+"&bn="+g;$("#tar_tmpl").attr("value","");$(this).attr("action",d);$(this).attr("target","_top")}}setTimeout(function(){c.hideLoader()},10000)});$('input[name="username"]').each(function(){if(!isNaN($(this).val())){$(this).val("");var d=$(this).parents("form").get(0);$('input[name="password"]',d).val("")}});$("#signup_form_regular,#sign_up_form,#confirmation_login_box").submit(function(){if(!c.validateLoginSubmitData({formId:this.id})){return false}});$("#user_mybooking_login_form").submit(function(){if(!c.validateLoginSubmitData({formId:this.id,passwordIsNumeric:1,loginIsBookingNr:1})){return false}});$(".in-pagelogin-form").submit(function(){if(booking.env.auth_level<1){var d=$(".in-pagelogin-form").height()-11}else{var d=$(".in-pagelogin-form").height()+19}$("#page_login_loading").css("height",d+"px").show()});$(".user_login_show_signin, .user_login_show_signup").live("click",function(){if($(this).hasClass("user_login_show_signup")){booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(true,this)}else{booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(false,this)}$(".user_login_error_msg").hide();return false});$(".error_forgotten_password").live("click",function(){$(".forgot_link_look").click();return false})},validateLoginSubmitData:function(l){var k=$("#"+l.formId),h,d,e,j,f,g,c;f=k.parents(".user_login_form");g=$(".user_login_error_msg",f);if(l.loginIsBookingNr){c=$(".user_bn_login_input",k).val();c=c.replace(/\./g,"");$(".user_bn_login_input",k).val(c);if(!c.length||!/^\d+$/g.test(c)){this.displayLoginErrorMsg({errorTarget:g,errorMsg:(c.length===0?booking.env.b_blank_bkng_nr:booking.env.b_bkng_nr_must_be_numeric)});return false}}$passwordInput=$(".password_input",k);if($passwordInput.length){h=$passwordInput.val()}else{return 1}if(l.passwordIsNumeric||(g.length&&f.hasClass("user_login_single_signup"))||($(".userlogin_signup_tab",f).hasClass("active"))){if(h&&h.length){e=h.length}else{e=0}if(l.passwordIsNumeric){if(!e||!(/^\d+$/g.test(h))){this.displayLoginErrorMsg({errorTarget:g,errorMsg:(e===0?booking.env.b_blank_numeric_pin:booking.env.b_password_must_be_numeric)});return false}}else{if(e<8){this.displayLoginErrorMsg({errorTarget:g,errorMsg:booking.env[!e?"account_error_add_password":"password_needs_8"]});return false}else{j=$(".username_input",k);if(j.length){if(j.val()&&j.val()===h){this.displayLoginErrorMsg({errorTarget:g,errorMsg:booking.env.password_cant_be_username});return false}}}}return true}},displayLoginErrorMsg:function(c){if(!c||!c.errorTarget||!c.errorMsg){return}c.errorTarget.show().text(c.errorMsg);booking[sNSStartup].new_personal_menu.recheckHeight();var d=$("#foldout_error").height()+32;$("#old_pin_login").css("top",d+"px")},thirdParty:function(f,c,e,d){if(c&&!d){$("#log_tar").attr("src",e)}if(d){$("#email_send").show("slow")}},thirdPartyCancel:function(e,d,c){this.hideLoader();if(typeof $.noticeAdd!="undefined"){$.noticeAdd({text:"\n \n \n "+d+" \n \n \n ",stay:false,stayTime:3000,type:"users",close:"all",destination:""})}if(c){$("#email_send").show("slow")}},signupLight:function(d){this.hideLoader();if(d.signupstatus=="OK"){$("#foldout_error_signup").hide();$("#email_place_holder").text($("#username").val());$("#signup_form_light").hide();$("#signed_up_message").show()}else{if(d.error){var c=unescape(d.error)}else{var c=""}$("#foldout_error_signup").html(c).show()}booking[sNSStartup].new_personal_menu.recheckHeight()},reCall:function(m){var g=this;if(m.reload){booking.env.b_req_login="1"}if(m.loginstatus=="OK"){if(m.userlanguage||m.currency){var c=booking.env.b_this_url;var k=(c.indexOf("?")>0)?"&":"?";if(m.userlanguage){c+=k+"lang="+m.userlanguage;k="&"}if(m.currency){c+=k+"selected_currency="+m.currency}c.replace("logout=1","");if(booking.env.b_site_experiment_reload_secure&&booking.env.b_nonsecure_hostname_https){c.replace(booking.env.b_nonsecure_hostname,booking.env.b_nonsecure_hostname_https)}document.location.href=c}else{if(booking.env.b_redirect){document.location.href=booking.env.b_redirect}else{if(booking.env.b_req_login=="1"){var h=booking.env.b_this_url;h.replace("logout=1","");document.location.href=h}else{var l=booking.env.b_this_url;l.replace("logout=1","");l=(l.indexOf("?")>0)?l+";logout=1":l+"?logout=1";sLoginLinks=m.loginlink.replace("sign_out_url",l);$("#login-form_wrapper fieldset").hide();$(".welcome_login_link").hide();$("#login_open, #login_close, #login_optional").hide();$(".hide_on_login").hide("slow");$(".show_on_login").show();$("#current_account_foldout").removeClass("non_logged_in_user").addClass("logged_in_user");if(booking.env.is_user_wishlists){$("#search_tab_favourite").hide();$("#search_tab_wishlists").show();$(".wishlist_trigger_box").show();if(booking.env.is_user_wishlists_for_all){$("#wishlist_modal_user_access").hide();$("#wishlist_modal_content").show();$(".modal-wrapper").removeClass("wishlist_user_access_modal_wrapper");booking.lightbox.rePosition();if(booking.env.b_user_has_imported_faves){$("#search_tab_wishlists").find(".user_imported_faves_new").show()}}long_list=false;hotel_id=booking.env.b_hotel_id;$.get("/wishlist/get",{hotel_id:hotel_id},function(x){if(x&&x.success&&x.lists&&x.lists.length){var w=x.lists,u="",v="",t;for(var r=0,q=x.lists.length;r<q;r++){if(x.lists.length>3){long_list=true}t=x.lists[r];u+='<li><label><input type="checkbox" id="wl_'+t.id+'" value="wl_'+t.id+'"'+(t.selected==1?'checked="checked"':"")+" />"+t.name+"</label></li>";v+='<li><a href="'+booking.env.new_wishlist_url+t.id+'"><span>'+t.name+"</span></a></li>"}$("#wl_list").html(u);$("#search_tab_wishlists_content .menu_wishlists").html(v);if(long_list=true){$(".wl_list_box").addClass("scrolling_list")}}else{}})}else{$("#search_tab_favourite").show();$("#search_tab_wishlists").hide();$(".wishlist_trigger_box").hide();booking.lightbox.hide()}if($("#login_redesign").length){var e=$("#login_redesign").get(0);$(e).addClass("no_arrow");$(e).mouseover(function(){return false});$(e.parentNode).mouseover(function(){return false})}$("#current_account_foldout").css("width","auto");var o=window.setTimeout(function(){$("#loginPopup").css({height:"0px","overflow-y":"hidden",display:"none"});$("#loginPopup").attr({shown:"false"});$("#password_input_top").val("");$("#listnav_user .user_salutation").hide();$("#listnav_user .user_salutation").attr("id","hidden_login_form");if(m.historylink){$("#myActivityHeader .my_history_header").text(m.historylink)}if(m.avatarurl&&m.avatarurl!="0"){if($("#my_image_room").length){$("#my_image_room").attr("src",m.avatarurl);$("#my_image_room").css({padding:"0",width:"24px",height:"24px"})}if($(".my_image img").length){$(".my_image img").each(function(){$(this).attr("src",m.avatarurl);if($(".head_firstname").length){$(this).css({"margin-top":"-5px",width:"26px",height:"26px"})}})}else{if($("#b_nav_profile").length){var q=m.avatarurl.replace("square_32","square_128");$("#b_nav_profile").addClass("has_avatar").css("background-image","url("+q+")")}}}else{if(m.defaultavatar!=0){if($(".my_image img").length){$(".my_image img").addClass("def_avtr");$(".my_image img").addClass("t_s_avtr_"+m.defaultavatar);$(".my_image img").css({"margin-top":"-4px","margin-left":"-1px",width:"24px",height:"24px"})}}}setTimeout(function(){g.preShowMenu()},100);if(!$("#b_header").length){if(typeof $.noticeAdd!="undefined"&&m.growl1&&m.growl2){$.noticeAdd({text:"\n \n \n "+unescape(m.growl1)+"<br>"+unescape(m.growl2)+" \n \n \n ",stay:false,stayTime:3000,type:"users",close:"all",destination:"",addClassName:"notice_login"})}}},500);if(m.email!=""){if($("#email_confirm").length&&$("#email_confirm").val()==""){$("#email_confirm").val(m.email);$("#error_email_confirm").hide();$("#label_email_confirm").removeClass("val-no").addClass("val-yes")}if($("#email").length&&$("#email").val()==""){$("#email").val(m.email);$("#error_email").hide();$("#label_email").removeClass("val-no").addClass("val-yes")}}if(m.fdata1){if($("#address1").length&&$("#address1").val()==""){$("#address1").val(m.fdata1)}}if(m.fdata2){if($("#city").length&&$("#city").val()==""){$("#city").val(m.fdata2)}}if(m.fdata3){if($("#zip").length&&$("#zip").val()==""){$("#zip").val(m.fdata3)}}if(m.fdata4){if($("#cc1").length&&$("#cc1").val()==""){$("#cc1").val(m.fdata4)}}if(m.fdata5){if($("#phone").length&&$("#phone").val()==""){$("#phone").val(m.fdata5)}}var j=" ";if(m.fdata6){if($("#lastname").length&&$("#lastname").val()==""){$("#lastname").val(m.fdata6);$("#error_lastname").hide();$("#label_lastname").removeClass("val-no").addClass("val-yes")}$(".head_lastname").text(m.fdata6);j=m.fdata6}if(m.fdata7){if($("#firstname").length&&$("#firstname").val()==""){$("#firstname").val(m.fdata7);$("#error_firstname").hide();$("#label_firstname").removeClass("val-no").addClass("val-yes")}$(".head_firstname").text(m.fdata7);j=m.fdata7+" "+j}else{if(m.fdata6){$(".head_firstname").text("")}}if($(".login_for_name").length){if(j!=" "){$(".login_for_name").val(j);$(".login_for_name").css({color:"#003580"})}}$("input[name='username']").val(m.email);if(booking.lightbox&&booking.lightbox.isopen){booking.lightbox.close()}if($("#update_profile_row").length){$("#update_profile_row").show()}booking[sNSStartup].new_personal_menu.closeSelect(null,true,m.hasbookings);if(booking[sNSStartup].hide_email_confirm){booking[sNSStartup].hide_email_confirm.hideConfMailInit()}if(m.has_stored_cc>0){current_book_url=booking.env.b_this_url;current_book_url=current_book_url.replace(";logout=1","");current_book_url=current_book_url+";tmpl=profile/creditcards_ajax;";$("#bs3_cc_form #book_credit_card").load(current_book_url+" #book_credit_card");$("#cc_img").remove()}$(".login_text").hide();$(".loggedin_text").show();$("#multiple_login").hide();if(m.unreadmsg&&m.unreadmsg>0){$("#current_account_foldout .placeholder_hnm").text(m.unreadmsg).addClass("header_new_messages")}if(m.pendingreviews&&m.pendingreviews>0){$("#current_account_foldout .placeholder_hnb").text(m.pendingreviews).addClass("header_new_bookings")}g.hideLoader();if(booking.env.b_site_experiment_reload_secure&&booking.env.b_nonsecure_hostname_https){this.replaceSecure()}if($(".loadedContent").length){$(".loadedContent").removeClass("loadedContent")}if(m.b_pro_account_is_active=="1"){$("#current_account").parents(".top_select_wrap_noborder").addClass("pro_user");var f=$('<li class="business_reports seo_link_look" data-href="'+booking.env.userMenuLink_reports+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_reports+'</span></li><li class="traveller_locator seo_link_look" data-href="'+booking.env.userMenuLink_locator+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_locator+'</span></li><li class="guest_calendar seo_link_look" data-href="'+booking.env.userMenuLink_calendar+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_calendar+"</span></li>");$(f).insertAfter("#foldout_loggedin .my_settings")}if(m.b_enhanced_user_profile_is_active=="1"){var f=$('<li class="business_reports seo_link_look enhanced_user_menu_link" data-href="'+booking.env.userMenuLink_reports+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_reports+'</span></li><li class="traveller_locator seo_link_look enhanced_user_menu_link" data-href="'+booking.env.userMenuLink_locator+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_locator+'</span></li><li class="guest_calendar seo_link_look enhanced_user_menu_link" data-href="'+booking.env.userMenuLink_calendar+'"><span class="selsymbol">&nbsp;</span><span class="seldescription">'+booking.env.userMenuTrans_calendar+"</span></li>");$(f).insertAfter("#foldout_loggedin .my_settings")}}}}}else{if(m.error){var p=unescape(m.error)}else{var p=""}var n=(m.nofoldout)?false:true;var d=window.setTimeout(function(){if(n){$("#foldout_error").html(p).show();var q=$("#foldout_error").height()+32;$("#old_pin_login").css("top",q+"px");booking[sNSStartup].new_personal_menu.openSelect("current_account");$(".user_login_show_signup").click(function(){$("#username").val($("#username_input_top").val());$("#new_user").click();return false})}else{if($("#page_login_error").length){$("#page_login_error").html(p).show()}if($("#bs2_page_login_error").length){$("#bs2_page_login_error").html(p).show()}}if(booking.env.b_site_experiment_clean_wrong_login){$('input[name="password"]').val("")}},500);g.hideLoader();if(m.trackerror){booking.env.trackExperiment("MEVQOOaJTdWe","error_logging_in")}}},toggle:function(c,f){var e=c.getAttribute("shown");if(e=="false"){$("#foldout_error").hide();$(c).css("display","block");if(f==1000){var d=$("#loginPopup form").get(0);f=$(d).height()}$(c).animate({height:f+"px"},500,function(){document.getElementById("username_input_top").focus()});c.setAttribute("shown","true")}else{$(c).animate({height:"0px"},500,function(){$(this).css("display","none")});c.setAttribute("shown","false")}},hideLoader:function(){$("#login_loading").hide();$("#signup_loading").hide();$("#page_login_loading").hide()},replaceSecure:function(){var f=document.getElementsByTagName("a");for(var c=0;c<f.length;c++){var d=f[c].href;d=d.replace(booking.env.b_nonsecure_hostname,booking.env.b_nonsecure_hostname_https);f[c].href=d}var e=document.getElementsByTagName("form");for(var c=0;c<e.length;c++){var d=e[c].action;d=d.replace(booking.env.b_nonsecure_hostname,booking.env.b_nonsecure_hostname_https);e[c].action=d}},preShowMenu:function(){if((booking.env.b_action!="book")||(booking.env.is_exp_user_center_bar=="1")){booking[sNSStartup].new_personal_menu.openSelect("current_account");oThat.moused_menu=false;$("#current_account").mouseenter(function(){oThat.moused_menu=true});setTimeout(function(){if(!oThat.moused_menu){booking[sNSStartup].new_personal_menu.closeSelect()}},4000)}}};booking[sNSStartup].new_personal_menu={priority:9,opening_state:0,cur_open:"",max_select_height:240,is_ie:0,openSlow:false,init:function(){var c=this;if(!booking.env.new_personal_menu_ie_performance){if($.browser.msie){$(".select_foldout ul li a").mouseenter(function(){$(this).addClass("hover_class")});$(".select_foldout ul li a").mouseleave(function(){$(this).removeClass("hover_class")})}}if($(".b_msie_6").length){this.is_ie=6}if($(".b_msie_7").length){this.is_ie=7}$("#signup_form_light").submit(function(){$("#signup_loading").show()});if(booking.env.is_user_center_bar=="1"){}else{$(".select_box").mouseenter(function(){$(this).addClass("sel_hover")});$(".select_box").mouseleave(function(){$(this).removeClass("sel_hover")})}$("body").click(function(f){if(c.opening_state==2){var e=$(f.target);if($(e).length){if(!$(e).parents("#current_account_foldout").length){c.closeSelect()}}}if(booking.maps&&booking.maps.map_opened&&!(booking.maps.is_sr&&booking.map.mapHasBeenDragged)){var d=$(f.target);if(!(booking.maps.is_sr&&booking.track.getVariant("eGVNLZCHT"))){if((booking.maps.is_hp||booking.maps.is_sr)&&(d.length&&(!d.is("#b_map_container")&&!d.parents("#b_map_container,#rightClickPopup,#sr_map").length&&d.attr("id")!=="close_map"))&&!(/gstatic/.test(d.attr("src")))){if($("#close_map").length>0){$("#close_map").click()}else{if($("#close_map_lightbox").length>0){$("#close_map_lightbox").click()}}}}}});$(".select_box").click(function(d){if(c.opening_state==0){if($(this).attr("id")==="current_account"&&$(d.target).attr("id")==="current_account"){booking.track.exp("PYaMDfSJDPTYLXC")}c.openSelect($(this).attr("id"))}else{if(c.cur_open!=$(this).attr("id")){c.closeSelect($(this).attr("id"))}else{if(!$(d.target).parents("#current_account_foldout").length){c.closeSelect()}}}});$("#login_jump").click(function(){c.scrollToLogin();return false})},recheckHeight:function(){var c=$("#current_account_foldout .select_foldout_wrap").height()+15;$("#current_account_foldout").animate({height:c+"px"},400)},openSelect:function(k){if(booking.env.is_user_center_bar=="1"){}else{booking[sNSStartup].accounts_for_everybody.passWdInit();oThat=this;this.cur_open=k;var j=$("#"+k+"_foldout"),l,o=$("#foldout_loggedin").css("display")=="block",n="";$("#"+k).addClass("sel_open");this.opening_state=1;j.css({display:"block",opacity:"0",overflow:"hidden",height:"400px",width:"200px"});l=$($(".select_foldout_wrap",j).get(0));l.css({"overflow-y":"hidden",height:"auto"});var c=l.height();var h=l.width();var g=this.max_select_height;if(j.hasClass("flex_foldout")){var m=h+10}else{if(!$("#"+k).hasClass("sel_done")){var m=h+20;$("#"+k).addClass("sel_done")}else{var m=h}}if(c>=this.max_select_height-10&&j.attr("id")!="current_account_foldout"){if(j.hasClass("flex_foldout")){g=c+10;if(g<300){g=300}}else{l.css({"overflow-y":"scroll",height:"230px",width:m+"px"});if(!this.is_ie==6&&!this.is_ie==7){m+=10}}}else{g=c+10;l.css({"overflow-y":"hidden",height:"auto"})}if(this.is_ie==6||this.is_ie==7&&!o){j.css({opacity:"1",height:"0px",width:"0px"});j.css({width:"auto"});if(j.hasClass("smaller_booking_nr_login")){l.css({width:"600px"})}else{l.css({width:"482px"})}h=l.width();m=h+10}else{j.css({opacity:"1",height:"0px",width:"auto"})}if(j.hasClass("left_foldout")&&!booking.env.rtl){j.css({width:m+"px","padding-right":"0px"})}else{j.css({width:m+"px","padding-right":"10px",left:"0"})}if(this.is_ie==6||(this.is_ie==7&&!o)){var d=j.parents(0).width();if(j.hasClass("left_foldout")&&!booking.env.rtl){iFixedPointEx=d-j.width()-2;if(iFixedPointEx<0){d=d-iFixedPointEx}}if(this.is_ie==6||this.is_ie==7){var e=210;if($("#multiple_login",j).length){if($(".smaller_booking_nr_login").length&&!o){e=550}else{if($("#foldout_loggedin").css("display")!="block"){e=482}else{e=182}}}if(this.is_ie==7){d+=100}j.css({width:e+"px","padding-right":"18px"})}else{j.css({width:m+"px"});$(".select_foldout_wrap",j).css({"overflow-x":"hidden"})}}if(this.openSlow){this.openSlow=false;j.animate({height:g+"px"},800)}else{j.css({height:g+"px"})}setTimeout(function(){oThat.opening_state=2},200);if(booking.env.b_is_ipad){var f=booking.track.getVariant("PYaMDfSJDPTYLXC");$("body").bind("touchstart",function(q){if(oThat.opening_state==2){var p=$(event.target);if($(p).length&&!$(p).is("#current_account")){if(!$(p).parents("#current_account_foldout").length&&!$(p).parents("#login_redesign")){oThat.closeSelect();$(this).unbind(q)}}}if(f&&booking.env.userAccessMenuShown){p=$(event.target);if(!$(p).parents(".t_user_access_menu_wrapper").length&&!$(p).is("#current_account")){booking.env.userAccessMenuShown=false;$(".use_user_access_menu").toggleClass("user_access_menu_shown")}}})}}},closeSelect:function(e,f,c){var d=this;if(booking.env.b_site_variant_inline_password_reminder){if($(".reminder_iframe_wrapper").length){$(".reminder_iframe_wrapper").remove();$(".better_login").show()}}if(f){$("#foldout_login").css({display:"none"});$("#multiple_login").css({display:"none"});$("#foldout_loggedin").css({display:"block"});if(c){$("#stats_menu_link").css({display:"block"})}}if(this.opening_state==2){$(".select_foldout").animate({height:"0px"},200,function(){$(".select_foldout").css({display:"none"});$(".select_box").removeClass("sel_open");if(e&&e!=null){d.openSelect(e)}});this.opening_state=0}if($("#user_searches_menu").length){booking[sNSStartup].top_saved_searches.closeTabs()}},scrollToLogin:function(){if(booking.env.rtl){$("body").scrollTo({top:0,left:0},500)}else{$("body").scrollTo({top:0,left:1000},500)}this.openSlow=true;if(this.opening_state==0){this.openSelect("current_account")}else{this.closeSelect("current_account")}},hideLoader:function(){$("#login_loading").hide();$("#signup_loading").hide();$("#page_login_loading").hide()}};booking[sNSStartup].my_social_networks={priority:9,tp_window:null,tp_cur:"",cur_state:"CLOSED",window_sizes:{yahoo:[510,500],facebook:[500,450],google:[850,510]},init:function(){var c=this;$(".signup_tp a, #re_log_in a, a.connect_with").click(function(){booking[sNSStartup].new_personal_menu.opening_state=2;var k=this;var e=$(k).attr("href");var g=$(k).attr("id");var f=e;$("#login_loading").show();if(c.cur_state!="OPENING"){if(c.tp_window){if(c.tp_cur!=g.toLowerCase()){window.clearInterval(c.checking_in);c.tp_window=null;c.cur_state="CLOSED"}else{c.tp_window.focus()}}else{c.cur_state="OPENING";c.tp_cur=g.toLowerCase();var j=500;var h=500;if(c.window_sizes[c.tp_cur]){var j=c.window_sizes[c.tp_cur][0];var h=c.window_sizes[c.tp_cur][0]}var l="width="+j+",height="+h+",toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1";c.tp_window=window.open(f,"",l);var d="rem_provider="+c.tp_cur;if(booking.env.b_this_url.indexOf(d)>-1){booking.env.b_this_url=booking.env.b_this_url.replace(";"+d,"");booking.env.b_this_url=booking.env.b_this_url.replace(d,"")}c.checking_in=window.setInterval(function(){if((c.tp_window&&c.tp_window.closed)||!c.tp_window){$("#login_loading").hide();$("#page_login_loading").hide();window.clearInterval(c.checking_in);c.tp_window=null;c.cur_state="CLOSED"}},1000);c.cur_state="OPENED";if(c.tp_window){c.tp_window.focus()}}}return false})}};booking[sNSStartup].merge_mybooking_myaccount={priority:9,old_pin_shown:false,init:function(){var c=this;$("#user_pin_link").click(function(){$("#foldout_error").hide();$("#old_pin_login").css({display:"block",top:"0px"});$("#existing_user_login .login_right").hide();if($(".b_msie_8").length){$("#old_pin_login").css({left:"240px"})}else{$("#old_pin_login").animate({left:"240px"})}c.old_pin_show=true;return false});$("#new_user").click(function(){c.newUserOpen(true,this)});$("#existing_user").click(function(){c.newUserOpen(false,this)});$("#old_pin_login a").click(function(){$("#foldout_error").hide();$("#old_pin_login").css({top:"0px"});$("#old_pin_login").animate({left:"500px"},function(){$("#old_pin_login").css("display","none")});c.old_pin_show=false;return false});if(booking.env.b_is_on_signup_page){booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(true,document.getElementById("account_new_user"))}},newUserOpen:function(c,e){var d=$(e).parents(".user_login_form");if(this.old_pin_show){$("#old_pin_login",d).hide();$("#existing_user_login .login_right",d).show()}if(c){$("#existing_user_login, #existing_user_signin",d).hide();$("#foldout_signup, #new_user_signup",d).show();$("#existing_user, #account_existing_user",d).removeClass("active");$("#new_user, #account_new_user",d).addClass("active");booking[sNSStartup].new_personal_menu.recheckHeight()}else{$("#existing_user_login, #existing_user_signin",d).show();$("#foldout_signup, #new_user_signup",d).hide();$("#existing_user, #account_existing_user",d).addClass("active");$("#new_user, #account_new_user",d).removeClass("active");booking[sNSStartup].new_personal_menu.recheckHeight()}$(".better_error").hide();$("#old_pin_login").css("top","0px")}};booking[sNSStartup].welcome_user={priority:9,old_pin_shown:false,init:function(){$("#welcome_login").click(function(){booking[sNSStartup].new_personal_menu.openSelect("current_account");booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(false,this.id);return false});$("#welcome_signup").click(function(){booking[sNSStartup].new_personal_menu.openSelect("current_account");booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(true,this.id);return false})}};booking[sNSStartup].faq_login_foldout={priority:9,init:function(){if(booking.env.b_action=="general"&&booking.env.auth_level=="0"){$(".open_top_login").click(function(){booking[sNSStartup].new_personal_menu.openSelect("current_account");booking[sNSStartup].merge_mybooking_myaccount.newUserOpen(false,this.id);$("body").scrollTo({top:0,left:0},500);return false})}}};booking[sNSExperiments].lp_calendar_popup_title=(function(){var c=function(){$("#calendar_check_out_title").hide();$("#homein .calendarLink").click(function(){$("#calendar_check_out_title").hide();$("#calendar_check_in_title").show()});$("#homeout .calendarLink").click(function(){$("#calendar_check_in_title").hide();$("#calendar_check_out_title").show()});$(".checkinDateSection .calendarLink").click(function(){$("#calendar_check_out_title").hide();$("#calendar_check_in_title").show()});$(".checkoutDateSection .calendarLink").click(function(){$("#calendar_check_in_title").hide();$("#calendar_check_out_title").show()});$("#destination").click(function(){$("#calendar_check_in_title").show();$("#calendar_check_out_title").hide()})};var d=function(){c()};return{init:d}}());booking[sNSExperiments].lp_calendar_popup_title_mydashboard=(function(){var c=function(){$("#calendar_check_out_title").hide();$("#homein .calendarLink").click(function(){$("#calendar_check_out_title").hide();$("#calendar_check_in_title").show()});$("#homeout .calendarLink").click(function(){$("#calendar_check_in_title").hide();$("#calendar_check_out_title").show()});$(".checkinDateSection .calendarLink").click(function(){$("#calendar_check_out_title").hide();$("#calendar_check_in_title").show()});$(".checkoutDateSection .calendarLink").click(function(){$("#calendar_check_in_title").hide();$("#calendar_check_out_title").show()});$("#destination").click(function(){$("#calendar_check_in_title").show();$("#calendar_check_out_title").hide()})};var d=function(){c()};return{init:d}}());$(".sign_up_sign_in_trigger.sign_in").click(function(){$(".uc_account .popover_trigger").trigger("click");if($(window).scrollTop()>=250){$("body,html").animate({scrollTop:0},500)}return false});$(".sign_up_sign_in_trigger.sign_up").click(function(){$(".uc_account .popover_trigger").trigger("click");$(".user_access_signup_menu_tab").trigger("click");if($(window).scrollTop()>=250){$("body,html").animate({scrollTop:0},500)}return false});$(".create_a_wishlist_trigger").click(function(){$(".uc_wishlists .popover_trigger").trigger("click");if($(window).scrollTop()>=250){$("body,html").animate({scrollTop:0},500)}return false});booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments]["bFGZdLZSQeeLZHSaTfRe"]={track:function(){var d,c="bFGZdLZSQeeLZHSaTfRe";if(B.track.getVariant(c)===false){return}$(".track_exp_mealplan_explained_tooltip").hover(function(){clearTimeout(d);d=setTimeout(function(){B.track.exp(c)},500)},function(){clearTimeout(d)})},init:function(){this.track()},initElse:function(){this.track()}};(function(c){c.extend({noticeAddNewDesign:function(e){var h={inEffect:{opacity:"100"},inEffectDuration:600,stayTime:5000,text:"",stay:false,type:"notice",destination:"",thisNo:0};var e,j,g,f,d;e=c.extend({},h,e);j=c("#new_growl_design");g=c(".bottom_growl_message");d=(e.destination=="")?'<span class="'+e.type+' notice-message"><span class="text_fix">'+e.text+"</span></span>":'<span class="'+e.type+' notice-message"><a href="'+e.destination+'">'+e.text+"</a></span>";if(e.thisNo==0){j.slideDown();g.append(d).show()}else{g.find(".notice-message").slideUp(function(){$(this).remove();g.append(d,function(){$(this).slideDown()})})}j.find(".close_growl").live("click",function(k){c.noticeRemoveNewGrowl(j);return false});if(noNotices==e.thisNo){setTimeout(function(){c.noticeRemoveNewGrowl(j)},e.stayTime)}},noticeRemoveNewGrowl:function(d){d.slideUp()}})})(jQuery);booking[sNSExperiments].predefined_group_selection={priority:9,init:function(){function c(){var d=$("#predefined_group").attr("value"),e=$("#default_group_new_block, .predefined_block_shown, #define_group, #define_group .hidelinks");if(d<=2){$("#nr_adults").val(d).trigger("change");$("#nr_rooms").val(0).trigger("change");$("#nr_rooms").val(1).trigger("change");e.hide().addClass("default_predefined_group_selectors")}else{e.show().removeClass("default_predefined_group_selectors")}}c();$("#predefined_group").change(function(){c()})}};$(".usabilla_pre_lightbox").click(function(){booking[sNSStartup].lightbox.show($("#usabilla_lightbox"),{customWrapperClassName:"usabilla_lightbox",bCloseButton:true});return false});booking[sNSExperiments]["ZSUNCTYAbEOFefYSbC"]=(function(){var c=function(){if(screen.width>$(window).width()&&window.opener!==null){var d=$("body");d.click(function(e){window.resizeTo(screen.width,screen.height);window.moveTo(0,0);return true})}};return{init:c}}());$(function(){$("a.room_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date").hide()});$(".confirm_change_date").click(function(c){c.stopPropagation()});if($(".confirm_change_date").length>0){$("body").click(function(){$(".confirm_change_date").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.hotel_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_hotel").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_hotel a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_hotel").hide()});$(".confirm_change_date_hotel").click(function(c){c.stopPropagation()});if($(".confirm_change_date_hotel").length>0){$("body").click(function(){$(".confirm_change_date_hotel").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.photo_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_photo").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_photo a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_photo").hide()});$(".confirm_change_date_photo").click(function(c){c.stopPropagation()});if($(".confirm_change_date_photo").length>0){$("body").click(function(){$(".confirm_change_date_photo").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.review_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_review").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_review a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_review").hide()});$(".confirm_change_date_review").click(function(c){c.stopPropagation()});if($(".confirm_change_date_review").length>0){$("body").click(function(){$(".confirm_change_date_review").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.more_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_more").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_more a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_more").hide()});$(".confirm_change_date_more").click(function(c){c.stopPropagation()});if($(".confirm_change_date_more").length>0){$("body").click(function(){$(".confirm_change_date_more").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});$(function(){$("a.scarcity_link_changes_date").click(function(c){c.stopPropagation();c.preventDefault();$(this).siblings(".confirm_change_date_scarcity").css({top:c.pageY+"px"}).show().find("a[href=#continue]").attr("href",$(this).attr("href"))});$(".confirm_change_date_scarcity a[href=#cancel]").click(function(c){c.stopPropagation();c.preventDefault();$(".confirm_change_date_scarcity").hide()});$(".confirm_change_date_scarcity").click(function(c){c.stopPropagation()});if($(".confirm_change_date_scarcity").length>0){$("body").click(function(){$(".confirm_change_date_scarcity").hide()})}if($("#maxotel_rooms tr.highlight").length>0){$("body, html").scrollTop($("#availability_target").offset().top)}});booking[sNSExperiments].notifications={priority:9,init:function(){this.initializeNotifications()},initElse:function(){this.initializeNotifications()},initializeNotifications:function(){var f=$("#notificationMenu .alert");f.css({display:"block",visibility:"hidden"});var c=$("#formwrap");var e=c.height();var d=$(".sidebar_menu_placeholder").height();if(e<d){c.animate({"min-height":d},{duration:400})}f.css({display:"none",visibility:"visible"}).css("opacity",0).slideDown(500).animate({opacity:1},{queue:false,duration:750})}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments]["bLYHDEFRNNcMVTPMVSHT"]=(function(d){function c(){if(booking.track.getVariant("bLYHDEFRNNcMVTPMVSHT")!==false){d.google.trackEvent("Click","Try to send without dates in base","Searchresults")}}return{initElse:c,priority:9}}(booking));booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments]["bLYeLDUePdPIFdVeVZNYT"]=(function(d,c){var l=d("#frm"),j=d("#inout .flexiShowHideBgrndWide, #inout .dateerrors, #inout .errors-plus-selects"),g=d("#group_panel, #group_definition"),f=d("#availcheck"),e=d("#errors-plus-selects");function k(){if(f.attr("checked")){c.track.exp("bLYeLDUePdPIFdVeVZNUNHC");if(!c.track.getVariant("bLYeLDUePdPIFdVeVZNUNHC")){return}g.hide();j.hide();l.find(".flexi_sr_params").removeClass("flexi_sr_params_nodisplay");l.find("#sr_interval").trigger("change")}}function h(){k();l.addClass("hide_instead_overlap");f.click(function(){if(d(this).attr("checked")){j.slideUp({easing:"easeOutQuad",duration:200});g.hide();if(c.track.getVariant("bLYTYeYCNOSPcVDaaXe")){e.hide()}}else{j.slideDown({duration:200});if(c.track.getVariant("bLYTYeYCNOSPcVDaaXe")){e.show()}g.show()}})}return{init:h,priority:999}}($,booking));booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments]["bLNcffBNYUTOSNXKFbeFMLaC"]=(function(g,e,k,f,h){function d(){booking[sNSExperiments]["POKZeQMIacWXT"].init()}function c(){booking[sNSExperiments]["bLYXMPODAKC"].init()}function j(){var l=booking.track.getVariant("bLNcffBNYUTOSNXKFbeFMLaC");if(l===1){c()}if(l===2){d()}}return{init:j,priority:9}}(window,document,booking,booking.env,$));booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments]["bLYEINdDfKfTdC"]={priority:9,init:function(){}};B[sNSExperiments]["bLNQFZDDUZWfAaNCWRe"]={track:function(f,c){var g=B.env.b_action||"undefined",d={checkIn:"Check-In",checkOut:"Check-Out"},j={monthSelect:"Month Select",daySelect:"Day Select",icon:"Icon"};B.track.exp("bLNQFZDDUZWfAaNCWRe");if(!B.track.getVariant("bLNQFZDDUZWfAaNCWRe")){return}try{B.google.trackEvent("Click",["Calendar",d[f],j[c]].join(":"),g)}catch(h){}},init:function(){}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments]["bLYXMPODAKC"]=(function(k,p,o,e,u,f){var j=f("#frm");var c;var d=["theme","city","airport","district","region","country","hotel","landmark","searchHistory"],h=["city","theme","airport","district","region","country","hotel","landmark","searchHistory"];function v(w){return'<b class="autocompleteq-hilighted">'+w+"</b>"}function q(w){return w.replace(c,v)}function g(x,w){x.menu_label=q(x.label);x.hotels_count_label=(x.hotels==1)?u.autocomplete.hotel:u.autocomplete.hotels;return Jemplate.process("autocomplete/item",x)}function m(w){return Jemplate.process("autocomplete/group",{type:w.type,label:u.autocomplete_categories[w.type],items:e.map(w.items,g).join("")})}function r(z,w){var y="",x=w.term.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");c=new RegExp(x,"gi");e.each(z,function(C,A){y+=m({type:A,items:C})});return Jemplate.process("autocomplete/list",{groups:y})}function l(w){var x="14px",y=700,z=29,C=26,E=f("<div></div>").css({fontSize:x,fontWeight:y,visibility:"hidden",position:"absolute",width:"auto"}),A=0,D=f.map(w,function(F){return(u.autocomplete_categories[F]||"").split(" ")});D.sort(function(G,F){return F.length-G.length});E.html(D[0]).appendTo(f("body"));A=E.width()+C+z;E.remove();return A}function n(){var x=l(d),w=f("#destination").outerWidth();f("#autocompleteq-additional-menu-styles").remove();f("body").append(Jemplate.process("autocomplete/style",{label_width:x,menu_width:x+w}))}function t(){f("#destination").autocompleteq({url:"/autocomplete",min_length:2,delay:booking.env.search_autocomplete_delay,params:booking.env.search_autocomplete_params,supportKeyNavigation:0,keepFocusUponSelection:0,dataParser:function(I){var G=0,E={};function H(K,J){K.menu_index=G;G++}function F(J,K){var L=[];if(I&&I[J]&&I[J].length>0){E[J]=I[J];if(J==="theme"&&o.track.getVariant("VMKIaeCXSLPAMINPBLFfHcAHSePPLT")>0){L=e.reduce(I[J],function(M,N){if(N.match_start){M.push(N)}return M},L);if(I[J].length!==L.length){o.track.exp("VMKIaeCXSLPAMINPBLFfHcXe")}if(o.track.getVariant("VMKIaeCXSLPAMINPBLFfHcXe")){if(L.length>0){E[J]=L}else{delete E[J]}}}e.each(E[J],H)}}if(o.track.getVariant("VMKIfHcOHHANMQRDYDWLKe")===1){d=h}e.each(d,F);return E},menuRenderer:function(F){var E=this.input.getValue();return r(F,{term:E})}});function A(E){}function y(F,E){j.find("input[name=ss_raw]").val(E.input.getValue())}function D(F){if(!(F&&F.dest_type&&F.dest_id&&F.ac_pageview_id)){return}function E(G,H){if(j.find("input[name="+G+"]").length===0){j.append(f("<input>",{name:G,type:"hidden",value:H}))}else{j.find("input[name="+G+"]").val(H)}}f.each({dest_type:F.dest_type,dest_id:F.dest_id,ac_pageview_id:o.env.pageview_id},E)}function w(G,F){var E=F.menu.selected();if(!E){return}D({dest_type:E.dest_type,dest_id:E.dest_id,ac_pageview_id:o.env.pageview_id});f("html,body").animate({scrollTop:f("#destination").position().top},400,"easeInOutCubic")}function z(F,E){E.menu.$el.find(".autocompleteq-group-s-hover").removeClass("autocompleteq-group-s-hover");E.menu.$el.find(".autocompleteq-item-s-selected").closest(".autocompleteq-group",E.menu.$el).addClass("autocompleteq-group-s-hover")}function C(){var F=o.env.sess_dest_id&&o.env.sess_dest_type,G=j.find("input[name=ss]").val()===o.env.sess_dest_fullname&&o.env.normalize_sbox_value,E=j.find('input[name="dest_type"], input[name="dest_id"], input[name="ac_pageview_id"]').length<3;if(F&&G&&E){D({dest_type:o.env.sess_dest_type,dest_id:o.env.sess_dest_id,ac_pageview_id:o.env.pageview_id})}}j.submit(C);function x(F,E){if(E.menu.$el.find(".autocompleteq-group-t-theme").length>0){o.track.exp("VMKIfHcOHHANMQRDYDWLKe")}}f("#destination").bind({"beforeSearch.autocompleteq":A,"afterSearch.autocompleteq":A,"navigationNext.autocompleteq":A,"navigationPrevious.autocompleteq":A,"navigationBeforeSelected.autocompleteq":y,"navigationAfterSelected.autocompleteq":w,"navigationItemFocused.autocompleteq":z,"menuCleared.autocompleteq":A,"menuClosed.autocompleteq":A,"menuShown.autocompleteq":x,"menuBeforeRender.autocompleteq":A,"menuAfterRender.autocompleteq":A,"inputFocus.autocompleteq":A,"inputBlur.autocompleteq":A,"inputKeydown.autocompleteq":A});n()}return{init:t,priority:9}}(window,document,booking,booking.tools,booking.env,$));booking[sNSStartup]["bLNRWSdJeQFFLKC"]=(function(t,y,x,j,G,m){var q=m("#frm"),J=q.find(".sb_group_definition"),p=J.find("[name=sb_predefined_group_options_value]"),z=J.find(".sb_custom_group_configuration"),A=J.find("[name=group_children]"),n=J.find("[name=group_adults]"),u=J.find("[name=no_rooms]"),d=J.find(".sb_custom_group_configuration_children_ages"),e=d.find(".sb_custom_group_configuration_children_ages_inputs"),H="sb_custom_group_configuration_children_ages_error_message",h="sb_custom_group_configuration_children_ages_input_s_error",C={"1":{adults:1,children:0,roomsNumber:1},"2":{adults:2,children:0,roomsNumber:1},"4":{adults:3,children:0,roomsNumber:1},"5":{adults:3,children:0,roomsNumber:2},"6":{adults:4,children:0,roomsNumber:1},"7":{adults:4,children:0,roomsNumber:2}};function l(L){var K=j.reduce(L,function(M,N){return M+"<input class='sb_custom_group_configuration_children_ages_input' name='age' size='2' maxlength='2' type='text' value='"+(N||"")+"' />"},"");e.html(K)}function I(){return j.map(e.find("input"),function(K){return K.value||undefined})}function g(M){var L=m(M.target),N=L.val(),P=I(),O=[],K;for(K=0;K<N;K++){O[K]=P[K]||""}l(O);if(N>0){d.slideDown()}else{d.slideUp()}}function o(){d.find("."+H).remove();booking.track.exp("bLYTYeYCNOSPcVDaaXe");if(booking.track.getVariant("bLYTYeYCNOSPcVDaaXe")){d.addClass("has-age-validation-error-exp")}d.prepend(m('<div class="'+H+'"><span class="group_children_ages_error_message_exclamation">&nbsp;!&nbsp;</span><span class="group_children_ages_error_message_text">'+G.child_age_text+"</span></div>"))}function r(){d.find("."+H).remove();if(booking.track.getVariant("bLYTYeYCNOSPcVDaaXe")){d.removeClass("has-age-validation-error-exp")}d.find("."+h).removeClass(h)}function v(){var M=e.find("[name=age]"),K=false,L={"":0,"":1,"":2,"":3,"":4,"":5,"":6,"":7,"":8,"":9,"":0,"":1,"":2,"":3,"":4,"":5,"":6,"":7,"":8,"":9,"":0,"":1,"":2,"":3,"":4,"":5,"":6,"":7,"":8,"":9};M.each(function(N,P){var O=m(P),Q=O.val();Q=Q.replace(/\D/g,function(R){return L[R]>=0?L[R]:R});O.removeClass(h);Q=j.parseInt(Q);if(isNaN(Q)||Q.length===0||Q<0||Q>17){O.addClass(h);K=true}else{O.val(Q)}});if(K){o();return false}else{r()}return true}function D(N,M){var L="",K;M=parseInt(M,10);for(K=1;K<=N;K++){L+='<option value="'+K+'" '+((K===M)?'selected="selected"':"")+">"+K+"</option>"}n.html(L)}function c(){D(u.val()*10,n.val())}function w(){var N=p.val(),L,K=m(this);if(N in C){k(C[N])}else{if(C=="3"){if(!v()){return false}}else{if(J.find("[name=age]").length&&!v()){return false}}}try{L=JSON.parse(N)}catch(M){}m("#travel-party-input").remove();if(L&&typeof(L.adults)!=="undefined"){K.append('<input type="hidden" name="travel_party" value="'+L.id+'" />')}else{k(C[N])}}function k(M){if(!M){return}var K=M.adults,L=M.children,O=M.childrenAges,N=M.roomsNumber;n.val(K||"");A.val(L||"");u.val(N||"");l(O||[])}function f(){var M=p.val(),K=(M==3),L;try{L=JSON.parse(M)}catch(N){}if(m.isPlainObject(L)){k(L);d.removeClass("sb_custom_group_configuration_item_s_hidden");z.slideDown();v()}else{if(K){if(typeof ClickTaleEvent==="function"&&x.env.b_removeRoomsConfigNarrowPages){ClickTaleEvent("Group search")}F();z.slideDown()}else{z.slideUp()}}}function F(){var L=u.val(),Q,O,P,K=J.find("[name=total_adults]"),M=10,N=30;if(K.length){Q=+K.val();K.remove()}if(Q>N){return D(L*M,Q)}else{return false}}function E(){p.change(f);A.change(g);u.change(c);q.submit(w);f();p.bind("click keydown",function(){booking.track.exp("YENJYZVXVPUATRe")})}return{init:E,priority:9}}(window,document,booking,booking.tools,booking.env,$));booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments].search_engine_partitioned_disambiguation_page={priority:9,init:function(){$(".disambBlockHeader").click(function(){var d=$(this),c=$("#"+d.attr("data-results"));if(c.hasClass("disambBlockShown")){c.slideUp().removeClass("disambBlockShown")}else{c.slideDown().addClass("disambBlockShown")}return false})}};booking[sNSStartup].search_history={priority:9,fullListShowed:false,minListSize:5,lastviewTimer:null,loadStart:null,init:function(){this.loadStart=new Date();var c=this;if(document.getElementById("SearchHistory")){try{this.minListSize=parseInt($("#SearchHistory").attr("min"))}catch(d){}$("a.remove_search").click(function(){var f=$(this).attr("href").substring(1).split(";");var g=f[0];var e=f[1];var h=f[2];$.ajax({url:"/search_history",type:"DELETE",data:{type:g,value:e,epoch:h}});booking[sNSStartup].search_history.cleanupHistoryList(this);this.blur();return false});if($("#showAllSearches").length){$("#showAllSearches").click(function(){booking[sNSStartup].search_history.showAll();this.blur();return false})}if($("#removeAllSearches").length){$("#removeAllSearches").click(function(){booking[sNSStartup].search_history.removeAll(true);this.blur();return false})}}return true},cleanupHistoryList:function(d){var c=this.minListSize;$(d).parent().fadeOut(500,function(){$(d).parents("li").remove();if($("#SearchHistory li").length>c-1){var e=$("#SearchHistory li").get(c-1);$(e).fadeIn(1000)}});if($("#SearchHistory li").length<2){booking[sNSStartup].search_history.removeAll(false)}if(document.getElementById("showAllSearches")){if($("#SearchHistory li").length<c+2){$("#moreSearchesLinkWrapper").hide()}}},showAll:function(){var c=$("#SearchHistory li");var d=this.minListSize;if(!booking[sNSStartup].search_history.fullListShowed){for(i=d-1;i<c.length;i++){$(c[i]).fadeIn(500)}booking[sNSStartup].search_history.fullListShowed=true}else{for(i=d;i<c.length;i++){$(c[i]).fadeOut(500)}booking[sNSStartup].search_history.fullListShowed=false}booking[sNSStartup].search_history.switchCaption()},removeAll:function(c){if(c){$.ajax({url:"/search_history",type:"DELETE",data:{type:-1,value:null,epoch:null}})}$("#SearchHistory").fadeOut(500,function(){$(this).remove()})},switchCaption:function(){if(booking[sNSStartup].search_history.fullListShowed){$("#showAllSearches .showLink").hide();$("#showAllSearches .hideLink").show()}else{$("#showAllSearches .showLink").show();$("#showAllSearches .hideLink").hide()}}};$("a.search_summary_toggle_button").click(function(){$(".search_summary_block").hide();$(".original_search_form").removeClass("original_search_form_hidden");return false});(function(c,e,d){e.runExp("POKZeQMIacWXT").onReady(function(){var g=false,m=d(document),l=d(".searchbox_filter"),j=l.find(".selection span"),h=l.find("select"),k=l.find(".selection_result");booking.env.sboxDestinationFilter="all";k.appendTo(d("body"));function f(n){if(n){j.attr("class","search_icon "+n.toLowerCase()+"_search_icon");h.val(n);if(e.env.hasOwnProperty("search_autocomplete_params")){if(n==="all"){delete (booking.env.search_autocomplete_params.dest_type)}else{booking.env.search_autocomplete_params.dest_type=n}}}}f(h.val());l.find(".selection").click(function(n){var o;if(!g){n.stopPropagation();o=l.find(".selection").offset();k.css({top:o.top,left:o.left});k.show();g=true}if(typeof ClickTaleEvent==="function"){ClickTaleEvent("Destination Filter Clicked")}});m.click(function(n){k.hide();g=false});k.delegate("li","click",function(n){booking.env.sboxDestinationFilter=d(this).data("value");f(d(n.currentTarget).attr("data-value"))})})}(this,booking,jQuery));booking[sNSStartup].SecretDeals={priority:8,init:function(){if(!booking.env.b_is_ie6){var d=this;if(!$("#secretdeals-bg1").length){return false}$(window).bind("scroll",function(f){d.parallaxScroll()});$("a.section1").click(function(){$("html, body").animate({scrollTop:0},1000,function(){d.parallaxScroll()});return false});$("a.section2").click(function(){$("html, body").animate({scrollTop:$("#section2").offset().top},1000,function(){d.parallaxScroll()});return false});$("a.section3").click(function(){$("html, body").animate({scrollTop:$("#section3").offset().top},1000,function(){d.parallaxScroll()});return false});$("a.section4").click(function(){$("html, body").animate({scrollTop:$("#section4").offset().top},1000,function(){d.parallaxScroll()});return false});$("nav#primary a").hover(function(){$(this).prev("h1").show()},function(){$(this).prev("h1").hide()});var c=$(".sc_navigator");$(window).scroll(function(){var e=$(window).scrollTop();if(e<=900){d.removeActiveClass();$("a#sd_nr1").addClass("active")}else{if(e>900&&e<1750){d.removeActiveClass();$("a#sd_nr2").addClass("active")}else{if(e>1751&&e<2500){d.removeActiveClass();$("a#sd_nr3").addClass("active")}else{d.removeActiveClass();$("a#sd_nr4").addClass("active")}}}})}},removeActiveClass:function(){$(".sc_navigator a").each(function(){$(this).removeClass("active")})},parallaxScroll:function(){var c=$(window).scrollTop();$("#secretdeals-bg1").css("top",(0-(c*0.25))+"px");$("#secretdeals-bg2").css("top",(0-(c*0.5))+"px");$("#secretdeals-bg3").css("top",(0-(c*0.75))+"px");$("#secretdeals-bg4").css("top",(0-(c*0.3))+"px")}};booking.ensureNamespaceExists(sNSExperiments);booking[sNSExperiments]["acNKNMSUZSAaaAJLZfeLT"]={priority:9,container:$("body"),SELECTOR:".stars",EVENT_TYPE:"mouseover.show_tooltip_for_stars_raiting",processFunction:function(){var c=this;this.container.delegate(this.SELECTOR,this.EVENT_TYPE,function(){booking.track.exp("acNKNMSUZSAaaAJLZfeLT");c.container.undelegate(this.SELECTOR,this.EVENT_TYPE)});return false},init:function(){return this.processFunction()},initElse:function(){if(booking.track.getVariant("acNKNMSUZSAaaAJLZfeLT")!==false){this.processFunction()}else{return false}}};booking.social_plugins_footer=(function(){var d=false;var f=false;var e=false;var h=false;var c=function(l,k){var j=document.createElement("script");j.type="text/javascript";j.src=l;k.find(".footer_tooltip").append(j)};var g=function(){var j=$("#footer_fb"),k=$("#footer_tw"),l=$("#footer_we"),m=$("#footer_gp");l.hover(function(o){l.find(".footer_tooltip").stop(true,true).fadeIn();if(h){return}var n=booking.env.b_locale.replace("-","_");l.find(".footer_tooltip").append('<iframe width="136" height="24" frameborder="0" allowtransparency="true" marginwidth="0" marginheight="0" scrolling="no" border="0" src="http://widget.weibo.com/relationship/followbutton.php?language='+n+'&width=136&height=24&uid=2144202281&style=2&btn=red&dpc=1"></iframe>');h=true},function(){l.find(".footer_tooltip").stop(true,true).fadeOut()});j.hover(function(n){j.find(".footer_tooltip").stop(true,true).fadeIn();if(d){return}j.find(".footer_tooltip").append('<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2Fbookingcom&amp;send=false&amp;layout=button_count&amp;width=450&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:150px; height:21px;" allowTransparency="true"></iframe>');d=true},function(){j.find(".footer_tooltip").stop(true,true).fadeOut()});k.hover(function(n){k.find(".footer_tooltip").stop(true,true).fadeIn();if(f){return}c("//platform.twitter.com/widgets.js",k);f=true},function(){k.find(".footer_tooltip").stop(true,true).fadeOut()});if(!($.browser.msie&&parseInt($.browser.version,10)>=9)){m.hover(function(n){m.find(".footer_tooltip").stop(true,true).fadeIn();if(e){return}c("https://apis.google.com/js/plusone.js",m);e=true},function(){m.find(".footer_tooltip").stop(true,true).fadeOut()})}};return{init:g}}());booking[sNSExperimentsLoad].social_plugins_footer={priority:9,init:function(){booking.social_plugins_footer.init()}};function trackPriceHovers(){var g;$("#search_results_table, #available_rooms").mouseover(function(h){if(h.target.className.indexOf("toggle_price_per_night_or_stay")>=0){g=h.target;c()}});$("#search_results_table, #available_rooms").mouseout(function(h){if(h.target.className.indexOf("toggle_price_per_night_or_stay")>=0){g=null;f()}});var e;function d(){e=null;if(g==null){return}booking.track.exp("OLNNUGIRKPbbDERaRbMHET")}function f(){if(e==null){return}window.clearTimeout(e);e=null}function c(){f();e=window.setTimeout(d,500)}}booking[sNSExperimentsLoad]["OLaeJEfdScfCCdJFC"]={init:function(){$("#sort_by").delegate(".sort_by_price_without_date","click",function(c){c.preventDefault();c.stopPropagation();booking[sNSStartup].calendar.openPopupCalendar($("#homein .calendarLink").get(0));booking.google.trackEvent(booking.google.clickTracker,booking.env.b_action,"show_calendar_via_sort_by_price_without_date")}).delegate(".sort_by_price_without_date","hover",function(){booking.google.trackEvent(booking.google.hoverTracker,booking.env.b_action,"sort_by_price_without_date")})}};if(typeof b_survey_url!="undefined"&&b_survey_url){booking[sNSStartup].survey={priority:9,init:function(){$("#survey").fadeIn("normal");var c="/survey?";$("#survey button").click(function(f){var g=$(this).val();if(g){if(booking[sNSStartup].fix_move_book_header_and_button){booking[sNSStartup].fix_move_book_header_and_button.surveyFixed=false}if(g=="accept"||g=="Yes"||g=="yes"||g=="Ja, ik doe mee"||g=="Okay"){var d=window.open(b_survey_url,"booking_survey_window")}else{$("#survey").hide("normal")}$.get(c+"decision="+g+"&survey_key="+booking.env.survey_key,{},function(e){$("#survey").hide("normal")})}return false})}}}booking[sNSExperiments].user_center_bar={priority:9,stopShowingAccountConfirmation:true,showCollectNameDialog:false,init:function(){this.initializeUserCenterBar()},initializeUserCenterBar:function(){var g=this,y,n,j,m;var o=[{className:"uc_language",offset:50}];if(booking.track.getVariant("ZIWcbIXXcffPOAXZLO")){o.push({className:"uc_language_footer",offset:-50})}booking.track.onClick(".uc_currency").exp("BfZIXXcffHLSGDBMOWZUC");booking.browserStorageHandler.deletePermanentValue("wl_fv",true);if(booking.env.showFavesToWishlistNotice&&!booking.browserStorageHandler.getPermanentValue("wl_fv2",true)){var p=$("#top .uc_wishlists");var h=p.width()/2;var k=$("#faves_to_wishlist_notice");var r=k.width()/2;var f=r-h;var l=r-8;f=-Math.round(f)+"px";l=l+"px";k.css("left",f);$("#faves_to_wishlist_notice .uc_top_arrow",p).css("left",l);k.show();$(".close_popover").live("click",function(){$(".popover_notice").remove()});$("#faves_to_wishlist_notice_link").live("click",function(){$(".popover_notice").remove();$("#uc_wishlists_trigger").click()});booking.browserStorageHandler.addPermanentValue("wl_fv2",1,true)}else{$(".user_imported_faves_new_badge").hide()}m=booking.browserStorageHandler.getPermanentValue("ge_ani",true)||0;B.track.exp("cQYIMdUVOHYRRT");var w=$("#top .genius_header_icon");if(booking.env.show_header_genius_icon_animation&&($("#top .user_avatar").length)&&B.track.getVariant("cQYIMdUVOHYRRT")){booking.browserStorageHandler.addPermanentValue("ge_ani",m+1,true);$(".uc_account .popover_trigger").animate({paddingRight:"48px"},800);w.animate({opacity:"1",top:"13px"},700);setTimeout(function(){w.removeClass("animated_icon");$(".uc_account .popover_trigger").addClass("glow_icon")},1000);if(m<3){setTimeout(function(){g.positionPopover($(".uc_account .popover_trigger"),{popover:".uc_genius_tooltip"})},1300)}}else{if(booking.env.show_header_genius_icon_animation&&($("#top .user_avatar").length)&&m<3){booking.browserStorageHandler.addPermanentValue("ge_ani",m+1,true);$(".uc_account .popover_trigger").animate({paddingRight:"48px"},800);w.animate({opacity:"1",top:"13px"},700);setTimeout(function(){w.removeClass("animated_icon");$(".uc_account .popover_trigger").addClass("glow_icon")},1000);setTimeout(function(){g.positionPopover($(".uc_account .popover_trigger"),{popover:".uc_genius_tooltip"})},1300)}else{$(".genius_header_icon").removeClass("animated_icon");if(booking.env.b_is_loggedin_genius_user){$("#current_account .popover_trigger").addClass("popover_genius")}}}if(booking.env.show_header_account_confirmation){g.stopShowingAccountConfirmation=false;g.positionPopover($(".account_creation_confirmation"))}if(booking.env.show_collect_name){$(".account_creation_confirmation").remove();g.stopShowingAccountConfirmation=true;g.showCollectNameDialog=true;g.positionPopover($(".account_collect_name"));$(".collect_name input").keyup(function(){if(($(".collect_name #firstname").val()!=="")||($(".collect_name #lastname").val()!=="")){$(".collect_name_signup .btn-primary").removeClass("btn-disabled").removeAttr("disabled")}else{$(".collect_name_signup .btn-primary").addClass("btn-disabled").attr("disabled","disabled")}})}$(".cancel_collection").click(function(z){$(".account_collect_name").remove();g.showCollectNameDialog=false});$(".popover_trigger").click(function(F){var E=$(this),A=E.parent(),z=(B.track.getVariant("cQYIMdUeHYDMZC")&&E.hasClass("user_center_about_genius_link"));if(!z){F.preventDefault()}$(".account_creation_confirmation").remove();$(".account_collect_name").remove();g.stopShowingAccountConfirmation=true;g.showCollectNameDialog=false;if(this.id&&this.id==="uc_wishlists_trigger"){booking.track.exp("IdOccPJRINLJWe")}if(A.hasClass("uc_language")||A.hasClass("uc_currency")){booking.track.exp("HRXMJGBZIDVeLJdYaSAeMVNaRe")}var D={};for(var C=o.length-1;C>=0;C--){var G=E.parent().hasClass(o[C].className);if(G){D.offset=o[C].offset;break}}g.positionPopover(E,D)});var c=false;$(document).ready(function(){var z=$(".user_center_option");z.mouseenter(function(){c=true});z.mouseleave(function(){c=false});$("body").mousedown(function(){if(!c){$(".user_center_popover").hide();if(booking.env.showFavesToWishlistNotice){$(".popover_notice").remove()}$("li .popover_trigger").removeClass("active_option")}});if(booking.user.showUserLoginOnLoad){$(".signin_cta").click()}});var q=false,u=false;function v(){if(q||u){return}u=true;var z=$(this).attr("data-href");var A=$(".uc_viewedhotels .hotels_container");$.ajax({url:z,type:"GET",success:function(C){A.html(C);q=true},complete:function(){$(".uc_viewedhotels .ajax_loading").hide();$(".user_search_header").hide();if($(".no_listing:visible").length){$(".uc_viewed_hotels .popover_content").addClass("empty_list")}else{$(".user_search_header").appendTo(".uc_viewedhotels .popover_footer");$(".user_search_header").show()}setTimeout(function(){if(!booking.env.b_site_experiment_rewrite_tt){booking[sNSStartupLoad].tooltip_3.addTooltip(A)}},200);u=false}})}$(".uc_viewed_hotels .popover_trigger").click(v);$(".socnet_mailafriend").live("click",function(){setTimeout(function(){$(".user_center_popover").hide();if(booking.env.showFavesToWishlistNotice){$(".popover_notice").remove()}$("li .popover_trigger").removeClass("active_option")},200)});$("#user_form a.remove_hotel").live("click",function(){var A=$(this).attr("href").split("#")[1];$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:A}});this.blur();var z=$(this).parents(".user_search_item").get(0);var C=z.parentNode;$(z).hide("slow",function(){if($(".hidden_item",C).length){var D=$(".hidden_item",C).get(0);$(D).removeClass("hidden_item")}});g.removeOneHome(A);if($("#user_form .user_search_item:visible").length){}else{$(".uc_viewedhotels .popover_footer").hide();$(".uc_viewed_hotels .popover_content").addClass("empty_list");$(".user_center_popover .no_listing").show()}return false});$("#user_form a#removeAllHistoryHotel").live("click",function(){g.removeAll($(this).attr("id"));$(".user_center_popover").hide();$(".uc_viewed_hotels .popover_content").addClass("empty_list");$(".user_searches_content").show();$(".user_searches_content .user_search_item").hide();$(".user_search_footer").hide();$("#user_form .uc_viewed_hotels .popover_footer").remove();$(".uc_viewed_hotels .no_listing").show();return false});if(booking.track.getVariant("dSVLBQPeceMYNaaSRe")){$(".uc_bookings .link_myres").live("click",function(){window.location.href=$(this).attr("data-href")})}if(booking.track.getVariant("YeNVYRdHeMfLcTIXe")){$(".trigger_signin").live("click",function(){$(".uc_account .popover_trigger").trigger("click")})}var x=false;var d=false;var t=false;function e(){if(x||t){return}t=true;$.ajax({url:booking.env.get_bookings_url,type:"GET",data:{aid:booking.env.b_aid||"100000"},dataType:"jsonp",contentType:"text/javascript",success:function(D){var G=D,A=0,F="",H="",J;for(var E=0,C=D.length;E<C;E++){J=D[E];if(D.length){var I=$(".popover_content .list_of_bookings ul #list_of_bkgs_"+A);$(I).addClass("existing_booking");$(".hotel_photo img",I).attr("src",booking.env.static_imgs_url+J.hotel_main_photo_max300);$(".hotel_link",I).attr("href",J.hotel_url);$(".hotel_link",I).html(J.hotel_name);if(J.hotel_address==""){$(".hotel_address",I).html(J.hotel_city)}else{$(".hotel_address",I).html(J.hotel_address+", "+J.hotel_city)}$(".price",I).html(J.converted_price);$(".dates_rooms",I).html(J.checkin_formatted+" - "+J.checkout_formatted);var K=$("#user_form .bookings_actions a.manage-booking").attr("href");var z=K+";bn="+J.hotelreservation_id;if(J.is_upcoming=="1"){$("#user_form .bookings_actions a.manage-booking").attr("href",z);$(".upcoming_booking_actions").show();d=true;booking.track.exp("dSBcPOeFYeTDOCROAJWe");if(booking.track.getVariant("dSBcPOeFYeTDOCROAJWe")){$(".hotel_link",I).attr("href",z)}}else{booking.track.exp("dSVLBQPeceMYNaaSRe");if(booking.track.getVariant("dSVLBQPeceMYNaaSRe")){$(I).addClass("link_myres").attr("data-href",z);$(".hotel_link",I).attr("href",z);$(".list_of_bookings .myres_manage_tag").hide();$(".list_of_bookings .myres_see_tag").show()}$(".list_of_bookings .upcoming_booking_actions").hide();$(".list_of_bookings a.manage-booking").hide();$(".list_of_bookings .bullet_separator").hide();$(".list_of_bookings .price").hide();$(".list_of_bookings .nights").hide()}}A=A+1;x=true}},complete:function(){if(x){$(".uc_bookings .ajax_loading").hide();if(d){$(".uc_bookings .uc_title_next_trip").show();$(".list_of_bookings li#list_of_bkgs_0").show()}else{$(".uc_bookings .uc_title_previous_bookings").show();$(".list_of_bookings li.existing_booking").show()}}else{$("#user_form .uc_bookings .popover_header").hide();$(".uc_bookings .ajax_loading").hide();$(".uc_bookings .popover_footer").hide();$(".uc_bookings .no_bookings_message").show();$("#user_form .uc_bookings .popover_content").addClass("empty_list")}t=false}})}$(".uc_bookings .popover_trigger").click(e)},removeAll:function(d){var e=this;var c=$("#"+d).parents(".user_searches_content");if(d=="removeAllHistoryHotel"){$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:-1}});e.removeAllHome()}else{booking[sNSStartup].search_history.removeAll(true)}$("#"+d).blur();$(".user_search_item",c).each(function(){if($(this).hasClass("no_listing")){$(this).show("slow")}else{$(this).hide("slow",function(){$(this).remove()})}});$(".user_search_header",c).hide();$(".user_search_footer",c).hide()},removeAllHome:function(){$(".user_searches_content").hide()},removeOneHome:function(c){$(".user_searches_content .remove_hotel").each(function(){var d;if($(this).attr("href")=="#"+c){d=$(this).parents(".user_search_item");d.remove()}})},positionPopover:function(r,d){$("#faves_to_wishlist_notice").remove();var p=$(r).parent();var o=p.width()/2;var n;if(!this.stopShowingAccountConfirmation){n=$(".account_creation_confirmation",p)}else{if(this.showCollectNameDialog){n=$(".account_collect_name",p)}else{if(typeof d.popover==="string"){n=$(d.popover,p)}else{n=$(".user_center_popover",p)}}}if(booking.track.getVariant("ZIWcbIXXcffPOAXZLO")){var j=p.closest("#footer_menu").length;if(p.hasClass("uc_currency")&&n.length==0){var f=$("#current_currency").closest(".uc_currency");f.appendTo(p);f.data("position","header");n=f}if(p.hasClass("uc_language")&&n.length==0){var e=$("#current_language").closest(".user_center_popover");e.appendTo(p);e.data("position","header");n=e}}if(p.attr("id")=="current_account"){if(booking.env.b_user_auth_level_is_low_or_high){booking.track.exp("beEVdZAKMdOAUDORe")}if(n.length>1||!n.hasClass("uc_genius_tooltip")){n=n.filter(":not(.uc_genius_tooltip)");$(".uc_genius_tooltip").remove()}if($(".account_creation_confirmation:visible").length){$(".account_creation_confirmation").remove()}}var l=n.width()/2;var m=l-o;var t=l-8;var q=p.offset().left-$("#bodyconstraint").offset().left,k=$("#bodyconstraint").width(),h=k-(l+o+q),c=q+o-l;if(h<0&&c>0){m-=h;t-=h}else{if(h>0&&c<0){m+=c;t+=c}else{if(h<0&&c<0){}}}var g=d&&d.offset;if(g){m+=g;t+=g}n.css("left",-Math.round(m));$(".user_center_popover .uc_top_arrow",p).css("left",t);if(booking.track.getVariant("ZIWcbIXXcffPOAXZLO")){if(n.closest("#footer_menu").length){$(".user_center_popover .uc_bottom_arrow",p).css("left",t);n.css("top","-"+(n.height())+"px")}else{n.css("top","auto")}}if($(".user_center_popover:visible",p).length){n.hide()}else{$(".user_center_popover").hide();n.show();if(booking.track.getVariant("ZIWcbIXXcffPOAXZLO")&&j){B.WindowScroller.scrollToBlock(n,700,true)}}if($("body.user_center #formwrap #signup_password:visible").length){$("#formwrap #signup_password").css("z-index","99");$("#formwrap .pwd_strength").css("z-index","99")}$("#dashboard_search #inout").css("z-index","99")}};booking[sNSExperiments]["beVLBLEQYFGXITKe"]={init:function(){var d=$(".js-uc-notifications");var c=d.find(".js-uc-notification").length;d.find(".js-uc-notification-close").bind("click",function(){var f=$(this).parent(".js-uc-notification");var e={type:f.attr("data-type"),fingerprint:f.attr("data-fingerprint")};$.post("/dismiss_user_notification",e);$(this).parent(".js-uc-notification").addClass("uc-notification_hidden");if(!--c){d.removeClass("uc-notifications_new")}})}};booking[sNSStartup].top_saved_searches={priority:9,opening_state:0,init:function(){var c=this;$(".search_tab").click(function(){c.opening_state=1;c.closeTabs(this);if(!$(this).hasClass("loadedContent")){c.loadContent($(this))}return false})},showAllNone:function(c){var d=$(".user_search_item",c.parentNode.parentNode);var e=0;if($(".hidden_item",c.parentNode.parentNode).length){$(".showLink",c.parentNode.parentNode).hide();$(".hideLink",c.parentNode.parentNode).show()}else{$(".showLink",c.parentNode.parentNode).show();$(".hideLink",c.parentNode.parentNode).hide()}$(d).each(function(){e++;if(e>6){if($(this).hasClass("hidden_item")){$(this).removeClass("hidden_item")}else{$(this).addClass("hidden_item")}}})},closeTabs:function(d){var e=this;var c=d?$(d).attr("id"):"";c=c.replace("tab","foldout");$(".search_foldout").each(function(){if($(this).hasClass("closed_content")){if($(this).attr("id")==c){$(this).removeClass("closed_content")}}else{$(this).addClass("closed_content")}});if(c===""){this.opening_state=0}else{setTimeout(function(){e.opening_state=2},100)}},loadContent:function(h){var g=this;var c=$(h).attr("data-href");if(c.indexOf("http://booking.com")!=-1){c=c.replace("http://booking.com","http://www.booking.com")}if($("#current_account").width()>$(h).width()){var f=$("#current_account").width()+458+15}else{var f=$(h).width()+458+15}if(booking.env.b_is_ie7){f=f+102}if(booking.env.b_is_ie6){f=f+20}var e=$("#current_account_foldout").offset().top;var j=$(h).attr("id");var d="#"+j+"_content";$(h).addClass("loadedContent");if(j=="search_tab_wishlists"){}else{$.ajax({url:c,type:"GET",success:function(k){$(d).html(k);$(d).css({left:"-"+f+"px",top:e+"px"});setTimeout(function(){g.addRemoveClicks(j);if(!booking.env.b_site_experiment_rewrite_tt){booking[sNSStartupLoad].tooltip_3.addTooltip($(d))}},200)}})}},addRemoveClicks:function(d){var c=this;$("#removeAllHistoryHotel, #removeAllHistorySearch").click(function(){c.removeAll($(this).attr("id"));return false});if(d=="search_tab_viewed"){$("#search_tab_viewed_content a.remove_hotel").click(function(){var f=$(this).attr("href").split("#")[1];$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:f}});booking[sNSStartup].viewed_hotels.cleanupHistoryList(this);this.blur();var e=$(this).parents(".user_search_item").get(0);var g=e.parentNode;$(e).hide("slow",function(){$(this).remove();if($(".hidden_item",g).length){var h=$(".hidden_item",g).get(0);$(h).removeClass("hidden_item")}c.reOddEven(g)});c.removeOneHome(f);if($(".user_search_item",g).length==1){$(".user_search_item",g).show()}return false});$("#search_tab_viewed_content .user_search_show").click(function(e){c.showAllNone(this);return false})}if(d=="search_tab_searched"){$("#search_tab_searched_content a.remove_search").click(function(){var l=$(this).attr("href").split("#")[1];var h=l.split(";");var j=h[0];var f=h[1];var k=h[2];$.ajax({url:"/search_history",type:"DELETE",data:{type:j,value:f,epoch:k}});booking[sNSStartup].search_history.cleanupHistoryList(this);this.blur();var e=$(this).parents(".user_search_item").get(0);var g=e.parentNode;$(e).hide("slow",function(){$(this).remove();if($(".hidden_item",g).length){var m=$(".hidden_item",g).get(0);$(m).removeClass("hidden_item")}c.reOddEven(g)});return false});$("#search_tab_searched_content .user_search_show").click(function(e){c.showAllNone(this);return false})}if(d=="search_tab_booked"){}if(d=="search_tab_favourite"){$("#search_tab_favourite_content").find(".user_search_show").remove();$("#search_tab_favourite_content a.remove_hotel").click(function(){var l=$(this).attr("href").split("#")[1];var h=l.split(";");var j=h[0];var f=h[1];var k=h[2];$.ajax({url:"/favorites/delete",type:"DELETE",data:{hotel_id:j}});this.blur();var e=$(this).parents(".user_search_item").get(0);var g=e.parentNode;$(e).hide("slow",function(){$(this).remove();if($(".hidden_item",g).length){var m=$(".hidden_item",g).get(0);$(m).removeClass("hidden_item")}c.reOddEven(g)});return false});$("#search_tab_searched_content .user_search_show").click(function(e){c.showAllNone(this);return false})}},removeAll:function(d){var e=this;var c=$("#"+d).parents(".user_searches_content");if(d=="removeAllHistoryHotel"){$.ajax({url:"/hotel_history",type:"DELETE",data:{hotel_id:-1}});e.removeAllHome();booking[sNSStartup].viewed_hotels.cleanupHistoryList($("#"+d))}else{booking[sNSStartup].search_history.removeAll(true)}$("#"+d).blur();$(".user_search_item",c).each(function(){if($(this).hasClass("no_listing")){$(this).show("slow")}else{$(this).hide("slow",function(){$(this).remove()})}});$(".user_search_header",c).hide();$(".user_search_footer",c).hide()},removeAllHome:function(){$("#LastViewedHotels").hide()},removeOneHome:function(c){$("#LastViewedHotels .remove_hotel").each(function(){if($(this).attr("href")=="#"+c){$(this.parentNode).hide()}})},reOddEven:function(e){var d=0;if($(".user_search_item",e).length>1){$(".user_search_item",e).each(function(){if(!$(this).hasClass("no_listing")){if(d==0){if($(this).hasClass("even")){$(this).removeClass("even")}d=1}else{if(!$(this).hasClass("even")){$(this).addClass("even")}d=0}}})}else{if($(".no_listing",e).length){var c=$(".no_listing",e).get(0);$(c).show();$(".user_search_header",e).hide();$(".user_search_footer",e).hide()}}}};booking[sNSExperiments]["beKddJPbCATAJRXJNLDRJLHe"]={init:function(){if(this.trackExp()&&booking.track.getVariant("beKddJPbCATAJRXJNLDRJLHe")){if(this.supportsAudioAAC){this.audioElem.src="//r-ec.bstatic.com/static/img/login_event/68a99ee764eba5bbfbacf7214fe7dd524b92eedf.m4a"}else{if(this.supportsAudioVorbis){this.audioElem.src="//r-ec.bstatic.com/static/img/login_event/2ea8b41612a9e0d7dbaa37c98c957e0843691627.ogg"}}this.audioElem.play()}},initElse:function(){this.trackExp()},trackExp:function(){this.audioElem=document.createElement("audio");this.supportsAudio=this.audioElem.canPlayType;this.supportsAudioVorbis=!!(this.audioElem.canPlayType&&this.audioElem.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""));this.supportsAudioAAC=!!(this.audioElem.canPlayType&&this.audioElem.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/,""));if(this.supportsAudio&&(this.supportsAudioVorbis||this.supportsAudioAAC)){booking.track.exp("beKddJPbCATAJRXJNLDRJLHe");return true}else{return false}}};booking[sNSStartupLoad].user_wishlists={priority:9,storedOwnerLink:null,stateMachineForHotelPageModalWindow:null,init:function(){this.initializeWishlist()},getParentWrapper:function(c){return $(c).parents(".wishlist_widget")},initializeWishlist:function(){var c=this;if(booking.browserStorageHandler.getSessionValue("wish_modal",true)){if($("#wishlist_modal").length){this.triggerWishlistModal()}booking.browserStorageHandler.deleteSessionValue("wish_modal",true)}if(booking.env.b_action=="searchresults"){$("#right").delegate(".wishlist_trigger","click",function(f){c.triggerWishlistModal(this);return false})}else{$(".wishlist_trigger").click(function(){c.triggerWishlistModal(this);return false})}$(".add_wl").click(function(){var f=c.getParentWrapper(this);f.find(".wishlist-actions-block .inputText").attr("value","");f.find(".wishlist-actions-block").toggle();f.find(".modal-wrapper #wl_name_input").focus()});$("#wl_list").delegate("li","click",function(g){var f,h=$(this);if(g.target.nodeName!=="INPUT"){g.preventDefault();f=($("input:checked",this).length?"":"checked");$("input",h).attr("checked",f)}h.toggleClass("changed");if($("#wl_list li.changed").length){$(".save_wl").removeClass("disabled")}else{$(".save_wl").addClass("disabled")}});$(".wl_create_form").submit(function(f){var q=$(this),o,n=false,g=true;if($(this).attr("id")=="wl_create_from_sidebar"){var p=1}else{if($(this).attr("id")=="wl_create_from_user_center_bar"){var j=1}else{if($(this).attr("id")=="wl_create_from_hotel_page"){var k=1}}}if($(".inputText",q).length){var m=$(".inputText",q).val()}else{var m=$(".input-text",q).val();var l=1}if(booking.track.getVariant("beKMDNdEPORACMSCMSGEHT")){o=[];q.find(".wishlist-collaborator-email-input").each(function(){var r=$(this),t=r.val();if($.trim(t)!=""){n=true}if(!t||(t&&!c.email_check(t))){r.addClass("wishlist-collaborator-email-input-invalid");g=false}else{o.push(t)}})}if(!m==""&&!(n&&!g)){$.get(q.attr("action"),{name:m},function(u){if(u.success&&u.success=="1"){var t,r=$("#wishlist_modal");$(".empty_name_error").hide();q.find(".wl_nameList_input, #wl_name_input").val("");$("#wl_list").prepend('<li><label><input type="checkbox" id="wl_'+u.id+'" value="wl_'+u.id+'" data-titlewl="'+m+'" /> '+m+"</label></li>");$("#wl_list li:first").click();r.find(".wl_create_form").hide();r.find("#wl_actions_default").show();r.find(".create_wl").show();t='<li><a href="'+booking.env.new_wishlist_url+""+u.id+'"><span>'+m+"</span></a></li>";$(t).insertBefore("#profileMenu li.add_wl_trigger");if(p){booking[sNSStartup].lightbox.hide($("#add_wishlist_modal"))}t='<li><a href="'+booking.env.new_wishlist_url+""+u.id+'"><span>'+m+"</span></a></li>";$("#search_tab_wishlists_content .menu_wishlists").append(t);booking.user.wishlists.lists[u.id.toString()]={numPlaces:0,name:m,url:booking.env.new_wishlist_url+u.id,index:booking.user.wishlists.listCount,isNewList:1,isCollaborated:n};c.updateWishlistsStatus();$(".scrolling_list").scrollTop(0);if(booking.user.wishlists.listCount>3){$(".wl_list_box").addClass("scrolling_list");$(".wishlists_listing").addClass("scrolling_list");if(booking.track.getVariant("IdOccPJRINLJWe")){$(".wishlist-actions-block").addClass("wishlist-actions-block-s-scrolling-list")}if(booking.user.wishlists.listCount==10){$(".exceed_wl_limit").show()}}$("#wl_list_number").text(booking.user.wishlists.listCount);if(n){e({listIds:u.id,operation:"add",emailAddresses:o})}}else{$(".exceed_wl_limit").show()}})}else{if(!m){var h=c.getParentWrapper(this);h.find(".empty_name_error").show()}else{if(n&&!g){}}}$(".wl_create_form").submit(function(){return false});f.preventDefault();return false});$(".save_wl").click(function(){if($(this).hasClass("disabled")){return false}else{var k="";var f="";var q=true;var t=$(".wishlist-social-count-number");var p=0;var r;var n;var m=[];$("#wl_list li.changed").each(function(){var x=(k=="")?"":",",w=$("input",this).attr("id").replace("wl_","")||"",v=booking.user.wishlists.lists[w.toString()];if(!v){return}k+=x+w;if($("input:checked",this).length){new_state="1";p++;v.numPlaces++;v.currentHotelIsAdded=1;m.push(w)}else{new_state="0";p--;v.currentHotelIsAdded=0;if(v.numPlaces>0){v.numPlaces--}}f+=x+new_state});if($("#wl_list input:checked").length){var q=false}if(booking.track.getVariant("beKMDNdEPORACMSCMSGEHT")){if($("#shareCheck:checked").length){var o=$("#wl_create_new_and_share_list").find(".no_email_error");var j=$("#wl_create_new_and_share_list").find(".wishlist-collaborator-email-input");o.hide();var g=[];var l=false;j.each(function(){$.each($(this).val().split(/[\s,;]+/),function(v,w){if(w){if(c.email_check(w)){g.push(w)}else{l=true}}})});if(l){booking.google.trackEvent(booking.google.clickTracker,"invate_invalid_address",j.val())}if(g.length==0){o.show();return false}j.val("");var h={};h.listIds=m;h.operation="add";h.emailAddresses=g;e(h)}}if(t.length){socialCountNr=parseInt($(t.get(0)).text());t.html(socialCountNr+p)}else{$(".wishlist-social-count").hide();$(".wishlist-social-count-overview").hide()}var u=$("#wl_update_form").attr("class").replace("wl_update_form_","");if(f===""){c.showSuccessMsg(q)}else{r={lists:k,new_state:f,hotel_id:u};n=$(".add_hotel_note_input");if(n.length&&n.val()&&(n.val()!==n.attr("title"))){r.note=n.val()}if(booking.track.getVariant("beKMDNdEPPPKfTdC")){$(".wishlist_lightbox").fadeOut(500,function(){booking[sNSStartup].lightbox.hide($("#wishlist_modal"));$(".wishlist_trigger_box").addClass("feedback-fade")})}$.get($("#wl_update_form").attr("action"),r,function(w){if(w.success&&w.success=="1"){var v=c.storedOwnerLink;c.showSuccessMsg(q);c.stateMachineForHotelPageModalWindow=null;if(booking.env.b_action=="destinationfinder"){v=$(v);if(q){v.removeClass("saved_in_wl");v.find("span").html(booking.env.not_added_to_list_cta)}else{v.addClass("saved_in_wl");v.find("span").html(booking.env.added_to_list_cta)}}else{if(q){$(".wishlist_trigger_button").removeClass("saved_in_wl");$(".wishlist_trigger_rounded_larger_button").removeClass("saved_in_wl");$(".wishlist_trigger_larger_button").removeClass("saved_in_wl");$(".wishlist_trigger_rounded_smaller_button").removeClass("saved_in_wl");$(".wishlist_trigger_button_smaller").removeClass("saved_in_wl");$(".wishlist_trigger span").html(booking.env.not_added_to_list_cta)}else{$(".wishlist_trigger_button").addClass("saved_in_wl");$(".wishlist_trigger_rounded_larger_button").addClass("saved_in_wl");$(".wishlist_trigger_rounded_smaller_button").addClass("saved_in_wl");$(".wishlist_trigger_button_smaller").addClass("saved_in_wl");$(".wishlist_trigger_larger_button").addClass("saved_in_wl");$(".wishlist_trigger span").html(booking.env.added_to_list_cta);c.showRecommendedProperties()}}}})}c.updateWishlistsStatus();$("#wl_update_form").submit(function(){return false});return false}});$(".wl_remove_hotel").click(function(){if($("#wl_title").length){var g=$("#wl_title").attr("class").replace("wl_title_","")}else{var g=$("#wl_title_shared_list").data("wl-id")}hotel_box=$(this).parents(".wl_hotel_item");var f=$(this).parents(".wl_hotel_item").attr("id").replace("hotel_","");$.get("/wishlist/save_hotel",{lists:g,new_state:"0",hotel_id:f},function(k){if(k.success&&k.success=="1"){$(hotel_box).fadeOut().slideUp();setTimeout(function(){$(hotel_box).remove();if(!$(".wl_hotels_list .wl_hotel_item").length){$(".wishlist_no_content").show()}},1000);var j=$("#wl_dates_modal input[name=ss]");j.val(j.val().replace(f,""));var h=$("#wl_menu_item_"+g).find(".alert-badge-count");var l=parseInt(h.text())-1;h.text(l)}else{}});c.resizeFormwrap()});$(".wl_add_new_trigger").click(function(){booking[sNSStartup].lightbox.show($("#wl_create_modal"),{customWrapperClassName:"wl_create_modal_wrapper",hideCallBack:function(){$("#wl_create_modal #wl_name_input").val("")}});if($("li.user_wishlists ul li").length=="11"){$("#wl_create_modal .modal_title").hide();$("#wl_create_modal .instructions").hide();$("#wl_create_modal .wl_create_form").hide();$("#wl_create_modal .exceed_wl_limit").css("margin","0").show()}else{$("#wl_create_modal #wl_name_input").focus()}});$(".add_hotel_note_input").focus(function(){if($(this).val()==$(this).attr("title")){$(this).val("")}$(this).css("border","2px solid #0896ff")});$(".add_hotel_note_input").blur(function(){var f=$(this).parents(".wl_hotel_item");if($(this).val()==""){$(this).val($(this).attr("title"))}$(this).css("border","1px solid #ccc")});$(".wl_add_note").click(function(){var k=$(this);var g=k.parents(".wl_hotel_item");var m=$(".add_hotel_note_input",g);if($("#wl_title").length){var l=$("#wl_title").attr("class").replace("wl_title_","")}else{var l=$("#wl_title_shared_list").attr("class").replace("wl_title_","")}var h=$(g).attr("id").replace("hotel_","");var f=$(m).val();var j=$(".note_placeholder",g);if($(".add_hotel_note_input:visible",g).length){$.get("/wishlist/add_note",{list_id:l,hotel_id:h,note:f},function(n){if(n.success&&n.success=="1"){if(f==$(m).attr("title")){$(".wl_add_note",g).html('<i class="btn_icon icon-pencil"></i> '+booking.env.save_note_to_hotel)}else{j.html(f);m.toggle();j.toggle();$(".wl_add_note",g).html('<i class="btn_icon icon-pencil"></i> '+booking.env.edit_note_to_hotel)}}else{}})}else{m.toggle();m.focus();j.toggle();$(this).html('<i class="btn_icon icon-pencil"></i> '+booking.env.save_note_to_hotel)}});$(".wl_dates_trigger").click(function(){booking[sNSStartup].lightbox.show($("#wl_dates_modal"),{customWrapperClassName:"wl_dates_modal_wrapper",bOverflowVisible:true,hideCallBack:function(){$(".alert-error").hide()}})});$(".wl_share_trigger").click(function(){var h=$(this),f,g;booking[sNSStartup].lightbox.show($("#wl_share_modal"),{customWrapperClassName:"wl_share_modal_wrapper",hideCallBack:function(){$(".alert-error").hide()}});if(h.hasClass("wl_share_social")&&!h.hasClass("has_short_url")){f=h.data("share-url");$.get("/short_uri?url="+f+"&aid="+booking.env.aid,function(l){var m=booking.env.user_wishlist_share_urls,j="http://booking.com/"+l.short_url;$("#link_placeholder").html(j);h.addClass("has_short_url");if(m){for(var k in m){$("."+k).attr("href",(m[k]).replace("share_url_placeholder",j))}}})}});$(".wl_email_send_link").click(function(l){l.preventDefault();var f=false;var g=$(this).closest("form");var j=$(this).closest(".wl_create_modal_wrapper");var k=g.find("#to");var h=k.val();$(".mail_send_success").hide();j.find(".alert-error").hide();if(!h){j.find(".alert-error").hide();j.find(".no_email_error").show();validInput=false}else{if(!c.email_check(h)){j.find(".alert-error").hide();j.find(".wrong_email_error").show();validInput=false}else{j.find(".alert-error").hide();f=true;validInput=true}}if(f){$.ajax({url:"/mailafriend.html",type:"POST",data:g.serialize(),success:function(m){k.val("");g.find("#maf_message").val("");g.find(".wl_add_message_input_field").val("");g.find(".mail_send_success strong").html(h);g.find(".mail_send_success").show()},error:function(){g.find(".mail_send_error").show()}})}});$("#link_placeholder").click(function(){c.selectText("link_placeholder")});$(".wl_settings_trigger").click(function(){booking[sNSStartup].lightbox.show($("#wl_settings_modal"),{customWrapperClassName:"wl_settings_modal_wrapper",hideCallBack:function(){$(".alert-error").hide()}})});$(".rename_wl").click(function(){var j=$(this),f=j.parents(".wishlist-edit-wrapper"),k=j.data("wl-id");var g=f.find(".wishlist-edit-name-input").val(),h=true;g=$.trim(g);if(g==""){f.find(".no_name_error").show();var h=false}else{$.get("/wishlist/update",{list_id:k,name:g},function(l){if(l.success&&l.success=="1"){$(".wishlist-main-title").text(g);$("#profileMenu a.cur_menu span.wl_name").text(g);booking[sNSStartup].lightbox.hide($("#wl_share_modal"));$(".wl_rename_confirm").show();setTimeout(function(){$(".wl_rename_confirm").slideUp()},3000)}else{}})}$("#wl_settings_form").submit(function(){return false});return false});$(".delete_wishlist").click(function(){$("#wl_settings_modal .controls-row").hide();$("#wl_settings_modal .confirm_delete_step").show();$("#wl_settings_modal .rename_wl").hide()});$(".do_delete").click(function(){var h=$(this).data("wl-id");var j=$("li.user_wishlists li:first a").attr("id").replace("wl_menu_item_","");var g=$("li.user_wishlists li:nth-child(2) a").attr("id").replace("wl_menu_item_","");if(h!=j){var f=$("li.user_wishlists li:first a").attr("href")}else{var f=$("li.user_wishlists li:nth-child(2) a").attr("href")}$.get("/wishlist/delete",{list_id:h},function(k){if(k.success&&k.success=="1"){window.location.href=f}else{}})});$(".dont_delete").click(function(){$("#wl_settings_modal .controls-row").show();$("#wl_settings_modal .confirm_delete_step").hide();$("#wl_settings_modal .rename_wl").show()});$(".clear_wishlist").click(function(){var f=$(this).attr("data-wl-id");$.get("/wishlist/remove_hotel",{list_id:f},function(g){if(g.success&&g.success=="1"){$(".wl_hotel_item").remove();booking[sNSStartup].lightbox.hide($("#wl_settings_modal"));$(".clear_all_form").hide();$(".wl_actions").hide();$("p.wishlist_no_content").show();$(".wl_clear_confirm").show();$("#wl_menu_item_"+f).find(".alert-badge-count").text("0");delete booking.user.wishlists.lists[f.toString()];c.updateWishlistsStatus();setTimeout(function(){$(".wl_clear_confirm").slideUp()},3000)}else{}})});$("#wishlists_availform").submit(function(){var f=$(this);formParams=f.serialize();if(formParams.indexOf("checkin_monthday=0")!==-1||formParams.indexOf("checkin_year_month=0")!==-1||formParams.indexOf("checkout_monthday=0")!==-1||formParams.indexOf("checkout_year_month=0")!==-1){$("#wl_no_dates_error").show()}else{$("#wl_no_dates_error").hide();window.location=f.attr("action")+"?"+formParams}return false});if(booking.track.getVariant("beKMDNdEPORACMSCMSGEcYJNKe")){$(".wl_collaborator_remove_links_inside").delegate(".wl_remove_user_btn","click",function(l){l.preventDefault();var k=$(this),h=k.data("user-email"),j=k.data("wl-id"),g=k.data("operation"),f;var m=false;if(k.data("myself")){m=function(){document.location.reload(true)}}if(h&&g&&j){f=k.parents(".wl_edit_content_row");e({listIds:j,operation:g,emailAddresses:h,callback:m,hideItem:f.length?f:this})}});$(".wishlist-add-collaborators-form").submit(function(h){h.preventDefault();var o=$(this),f=true,l=o.data("wl-id"),m=o.find(".wishlist-collaborator-email-input").removeClass("wishlist-collaborator-email-input-invalid"),k=[],n,j,g=o.find(".mail_send_success");g.hide();o.find(".alert-error").hide();m.each(function(){var p=$(this),q=p.val();if(!q||(q&&!c.email_check(q))){p.addClass("wishlist-collaborator-email-input-invalid");f=false}else{k.push(q)}});n=o.find(".wl_add_message_input_field");if(n.length&&n.val()){j=n.val()}if(!f){o.find(".wrong_email_error").show()}else{e({listIds:l,operation:"add",emailAddresses:k,message:j});m.val("");o.find(".wl_field_wrapper").each(function(p){if(p>0){$(this).remove()}});g.find("strong").html(k.join(", "));o.find(".wl_add_message_input_field").val("");g.show();$("#wl_menu_item_"+l).find(".wl_small_group_icon").fadeIn()}});var e=function(g){var f;if(g&&g.emailAddresses&&($.isArray(g.emailAddresses)||typeof(g.emailAddresses)==="string")&&g.operation&&g.listIds){f={collaborators_emails:($.isArray(g.emailAddresses)?g.emailAddresses.join(","):g.emailAddresses),list_ids:($.isArray(g.listIds)?g.listIds.join(","):g.listIds),is_removed:(g.operation==="remove"?1:0),lang:booking.env.b_lang};if(g.message){f.message=g.message}$.ajax({url:"/wishlist/add_collaborators",type:"GET",data:f,success:function(h){if(g.hideItem&&h.success){$(g.hideItem).hide()}if(g.callback&&h.success){g.callback.call()}},error:function(){}})}}}var d=$("#wl-list-select");$(".wishlist-trigger-btn").click(function(f){$("#wl-list-select").show();return false});$(".wishlist-done").click(function(){c.promoteWishlistSharing();c.updateWishlistDropdown()});$("#wishlist_modal").click(function(f){$parents=$(f.target).parents("#wl-list-select");if(!$parents.length){c.promoteWishlistSharing();c.updateWishlistDropdown();$("#wl-list-select").hide()}});$(".wishlist-cancel-create").click(function(){d.find("#wl_actions_default").show();d.find("#wl_create_from_hotel_page").hide()})},showRecommendedProperties:function(){booking.track.exp("IEDSFGdYaFBdcEUWOdUC");var e=$(".wl-recommended-hotels");var c=booking.track.getVariant("IEDSFGdYaFBdcEUWOdUC");if(!c||!e.length||e.is(":visible")){return}e.show();height=e.height();e.height(0);e.animate({height:height});if("replaceState" in history){var d=document.location.href.indexOf("?")>-1?booking.env.b_query_params_delimiter:"?";history.replaceState(history.state||{},document.title,document.location.href+d+"_t="+(+new Date()))}},updateWishlistDropdown:function(){var d;$("#wl-list-select").hide();var c=$(".wl_list_box").find("input:checked");if(c.length===0){d=booking.env.wishlistChooseAList}else{if(c.length===1){d=c.attr("data-titlewl")}else{d=booking.env.savedToXWishlists.replace("wishlist_num_lists",(c.length.toString()))}}$(".dropdown-toggle").html(d+'<span class="caret"></span>')},initStateOfTheModal:function(c){if(this.stateMachineForHotelPageModalWindow){return}var e={};e.hotelWasAlreadyInWishlist=0;e.hotelHasBeenAddedToTheWishlist=0;e.hotelHasBeenRemovedFromTheWishlist=0;e.originWishlistsId=[];var d=c.find("input:checked");if(d.length){e.hotelWasAlreadyInWishlist=1}e.originWishlistsId=B.tools.map(d,function(f){return $(f).data("wl-id")});this.stateMachineForHotelPageModalWindow=e;$("#wishlist_modal_content .collaborative_promo").hide()},promoteWishlistSharing:function(){this.updateStateOfTheModal();this.showProperSharingCTA()},updateStateOfTheModal:function(){var d=$("#wl_list");var c=B.tools.map(d.find("input:checked"),function(j){var h=$(j);return h.data("wl-is-sharable")?h.data("wl-id"):""});c=B.tools.filter(c,function(h){return h!=""});var f=this.stateMachineForHotelPageModalWindow;var e=0;$.each(c,function(h,j){if($.inArray(j,f.originWishlistsId)==-1){e++}});var g=(f.originWishlistsId.length+e-c.length);f.hotelHasBeenAddedToTheWishlist=e;f.hotelHasBeenRemovedFromTheWishlist=g},showProperSharingCTA:function(){var e=this.stateMachineForHotelPageModalWindow;$("#wishlist_modal_content .collaborative_promo").hide();var c=false;if(!e.hotelWasAlreadyInWishlist&&e.hotelHasBeenAddedToTheWishlist){$("#wl_create_new_and_share_list").show();c=true}if(e.hotelWasAlreadyInWishlist&&e.hotelHasBeenAddedToTheWishlist){if(e.hotelHasBeenRemovedFromTheWishlist==e.originWishlistsId.length){$("#wl_create_new_and_share_list").show();c=true}else{}}if(c){$("#wl_create_new_and_share_list .wl_share_list_option_text").hide();var d="wl_list_singular";if(e.hotelHasBeenAddedToTheWishlist>1){d="wl_list_plural"}$("#wl_create_new_and_share_list ."+d).show()}},triggerWishlistModal:function(k){var d=this;this.storedOwnerLink=k;if(k&&$(k).attr("data-wlname")){$("#wl_hotel_name").text($(k).attr("data-wlname"));$("#wl_hotel_city").text($(k).attr("data-wlcity"));$("#wl_hotel_country").text($(k).attr("data-wlcountry"));$("#wl_hotel_image").attr("src",$(k).attr("data-wlimage"));$("#wl_hotel_count").text($(k).attr("data-wlcount"));$("#wl_update_form").attr("class","wl_update_form_"+$(k).attr("data-wlhotelid"));var j="";if($(k).attr("data-wlnote")){var j=$(k).attr("data-wlnote")}if(j!=""){$("textarea.add_hotel_note_input").val(j)}else{$("textarea.add_hotel_note_input").val($("textarea.add_hotel_note_input").attr("title"))}var c=[];if($(k).attr("data-wlid")){c=$(k).attr("data-wlid").split(",")}$('#wl_list input[type="checkbox"]').each(function(){if(c.length){var l=$(this).attr("id").replace("wl_","");if($.inArray(l,c)>-1){$(this).attr("checked",true)}else{$(this).attr("checked",false)}}else{$(this).attr("checked",false)}d.updateWishlistDropdown()})}booking.track.exp("beKMDNdEPPPKfTdC,");var f=$("#wishlist_modal");f.find(".wl_modal_title").hide();var h=$("#wl_list");this.initStateOfTheModal(h);var e=true,g;if(h.find("input:checked").length){var e=false}if(e){f.find(".modal_title_unsaved").show()}else{f.find(".modal_title_saved").show()}if(booking.env.b_user_auth_level_is_none){g="wishlist_widget wishlist_lightbox wishlist_user_access_modal_wrapper"}else{g="wishlist_widget wishlist_lightbox narrow_wishlist_modal_wrapper"}if(booking.track.getVariant("BUIdOccPUSUHPPYURUXe")&&booking.env.b_user_auth_level_is_none&&booking.env.b_show_user_accounts_features){$("#wishlist_modal_user_access").hide();$("#wishlist_modal_user_next_step").show()}booking[sNSStartup].lightbox.show(f,{customWrapperClassName:g,hideCallBack:function(){h.find("li").removeClass("changed");f.css("background","#fff");f.addClass("add-wishlist-alternative");f.find(".wl_success_confirmation").hide();f.find(".wl_modal_title").hide();f.find(".save_to_wl").show()}});if(booking.track.getVariant("beKMDNdEPPPKfTdC")){$(".wishlist_trigger_box").removeClass("feedback-fade")}},showSuccessMsg:function(d){var c=$("#wishlist_modal");if(!booking.track.getVariant("beKMDNdEPPPKfTdC")){c.css("background","#e6e7a9").removeClass("add-wishlist-alternative");if(d){c.find(".wl_confirm_removed").show();if(this.storedOwnerLink!=null){if(booking.env.b_action=="searchresults"||booking.env.b_action=="destinationfinder"){$(this.storedOwnerLink).removeClass("saved_in_wl")}else{$(this.storedOwnerLink).removeClass("added_to_fav_lists")}this.storedOwnerLink=null}}else{c.find(".wl_confirm_added").show();if(this.storedOwnerLink!=null){if(booking.env.b_action=="searchresults"||booking.env.b_action=="destinationfinder"){$(this.storedOwnerLink).addClass("saved_in_wl");var e="";$('#wl_list input[type="checkbox"]:checked').each(function(){if(e!=""){e+=","}e+=$(this).attr("id").replace("wl_","")});$(this.storedOwnerLink).attr("data-wlid",e);if($("textarea.add_hotel_note_input").val()!=$("textarea.add_hotel_note_input").attr("title")){$(this.storedOwnerLink).attr("data-wlnote",$("textarea.add_hotel_note_input").val())}}else{$(this.storedOwnerLink).addClass("added_to_fav_lists")}this.storedOwnerLink=null}}c.find(".wl_modal_title").hide();c.find(".save_to_wl").hide();setTimeout(function(){$(".wishlist_lightbox").fadeOut(1000,function(){booking[sNSStartup].lightbox.hide($("#wishlist_modal"))})},1500)}c.find("#wl_list li").removeClass("changed")},updateReaminingListsCount:function(c){var d=$("#wl_list_number"),e=parseInt(d.text(),10);if(!isNaN(e)){if(c==="substract"){e--}else{e++}d.text(e)}},email_check:function(c){var d=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;return d.test(c)},resizeFormwrap:function(){current_formwrap_height=$("#formwrap").css("height");new_formwrap_height=$(".sidebar_menu_placeholder").css("height");if(current_formwrap_height<new_formwrap_height){$("#formwrap").css("min-height",new_formwrap_height)}},selectText:function(d){var f=document,g=f.getElementById(d),c,e;if(f.body.createTextRange){c=document.body.createTextRange();c.moveToElementText(g);c.select()}else{if(window.getSelection){e=window.getSelection();c=document.createRange();c.selectNodeContents(g);e.removeAllRanges();e.addRange(c)}}},animateHighlight:function(g,e){var f=g||"#FFFF9C";var c=e||1500;var d=this.css("backgroundColor");this.stop().css("background-color",f).animate({backgroundColor:d},c)},updateWishlistsStatus:function(){var h="",p=booking.user.wishlists.lists,k=booking.user.wishlists.propertyCountMsg,f=booking.user.wishlists.propertyCountMsg1Item,n,d,j,l=false,c=$(".wishlist-added-to-name"),e=0,m=[],o=booking.user.wishlists.headerMenuTemplate;booking.user.wishlists.listCount=0;for(var q in p){n=p[q];m[n.index]=q}for(var g=(m.length-1);g>=0;g--){n=p[m[g]];j=(n.numPlaces===1?f:k.replace("wishlist_count_placeholder",n.numPlaces));d=(o.replace("wishlist_list_item_template_name",n.name).replace("wishlist_list_item_template_nr_items_msg",j).replace("wishlist_list_item_template_nr_items",n.numPlaces).replace("wishlist_list_item_template_url",n.url));if(!n.isCollaborated){d=d.replace("wl_popover_group_icon","no_wl_popover_group_icon")}if(n.isNewList&&booking.track.getVariant("IdOccPJRINLJWe")){d=d.replace("wishlist-list-item","wishlist-list-item-s-new")}h+=d;e++;if(!l&&n.currentHotelIsAdded){l={name:n.name,url:n.url}}}booking.user.wishlists.listCount=e;if(l){$(".wishlist-added-to-name-link").attr("href",l.url).html(l.name);c.show()}else{$(".wishlist-added-to-name").hide()}$(".wishlists_listing").html(h)}};booking[sNSExperiments]["beKMDNdEPORACMSCMSGEcYJNKe"]={priority:9,init:function(){var d=$(".mail_friend_box");var c=$(".wl_field_wrapper:first",d);var f=$("#wishlist_modal");var g=$(".wl_field_and_remove_wrapper:first");var e=$(".wl_share_list_toggle");$(d).delegate(".wl_extra_email_field","click",function(){if($(".wl_field_wrapper",d).length==8){$(".wl_extra_email_field").addClass("disabled")}else{var h=$(".wl_field_wrapper",d).length+1;c.clone().insertAfter($(".wl_field_wrapper:last",d));$(".wl_field_wrapper:last .maf_input",d).addClass("input-wlRemoveBtnSpace").attr("value","").attr("name","to"+h).attr("id","to"+h);$(".wl_field_wrapper:last .wl_btn_remove_email_field",d).show()}});$(d).delegate(".wl_btn_remove_email_field","click",function(){$(this).parent().remove();if($(".wl_field_wrapper",d).length<4){$(".wl_extra_email_field").removeClass("disabled")}});$(d).delegate(".wl_add_message_field","click",function(){$(".wl_add_message_input_field").toggle()});$(".wl_email_share_trigger").click(function(){booking[sNSStartup].lightbox.show($("#wl_email_invite_modal"),{customWrapperClassName:"wl_create_modal_wrapper"})});$(".wl_invite_share_trigger").click(function(){booking[sNSStartup].lightbox.show($("#wl_invite_modal"),{customWrapperClassName:"wl_create_modal_wrapper"})});if(booking.track.getVariant("beKMDNdEPORACMSCMSGEHT")){$(".wl_add_new_trigger").click(function(){booking[sNSStartup].lightbox.show($("#wl_create_shared_or_personal_list_modal"),{customWrapperClassName:"wl_create_modal_wrapper"})})}f.find(".toggler").click(function(){$(this).closest("div").find(".toggable").slideDown();$(this).remove();return false});$("#shareCheck").click(function(){if($(this).is(":checked")){$(".wl_share_list_with_others").show()}else{$(".wl_share_list_with_others").hide()}});$(e).delegate(".wl_create_extra_email_field","click",function(){if($(".wl_field_and_remove_wrapper",e).length==4){$(".wl_create_extra_email_field").addClass("disabled")}else{var h=$(".wl_field_and_remove_wrapper",e).length+1;g.clone().insertAfter($(".wl_field_and_remove_wrapper:last",e));$(".wl_field_and_remove_wrapper:last .maf_input",e).addClass("input-wlRemoveBtnSpace").attr("value","").attr("name","to"+h).attr("id","to"+h);$(".wl_field_and_remove_wrapper:last .wl_btn_remove_email_field",e).show()}});$(e).delegate(".wl_btn_remove_email_field","click",function(){$(this).parent().remove();if($(".wl_field_and_remove_wrapper",e).length<4){$(".wl_create_extra_email_field").removeClass("disabled")}})}};booking.run("autocomp_remove_partitions").onReady(function(){booking.track.onClick("#destination").exp("TOSNEVdZCTWOeKe")});$(function(){booking.track.onClick(".b_advanced_search_toggler").exp("bLNZKYQJbXVdJDcAeFHKCELSTTKe")});booking[sNSStartupLoad].change_currency_on_click={priority:9,init:function(){var g=booking.env,c="",j,d=$(".click_change_currency");if(booking.track.getVariant("BMFVXKLJDWOAFbKMPAfWe")){return}if(!d.length){return}c=booking.currencyDropdownOptions;if(g.change_currency_hotel_anchor){j="&amp;"+g.change_currency_hotel_anchor;c=c.replace(/href\s*\=\s*\'([\w/=%_&\-.;?]*)\s*\'/ig,"href='$1"+j+"'")}$("#click_current_currency_foldout ul").append(c);var f=$("#click_current_currency_foldout"),h,e;e=f.find("a");$("#click_current_currency_foldout").delegate("li a","click",function(k){try{booking.google.trackEvent("Click",g.b_action,"CurrencyChangedInRoomsTable");k.preventDefault();window.setTimeout(function(){document.location.href=k.currentTarget.href},100)}catch(l){}});$(".click_change_currency").click(function(y){var o=$(this);if(!f.is(":hidden")){f.slideUp()}else{o.after(f);f.slideDown();$("#tooltip").hide();var m=o.closest("tr.flash_deal_soldout");h=m.children(0).attr("id")}var p=$("#current_currency_index").val();if(booking.env.change_currency_on_click_convert_prices&&p!=""){var k=$(this).text();var u=$(".convert_prices option");var w=$("#click_current_currency_foldout .selsymbol");var v={},t,n,z;var x=function(l){return parseFloat(l.replace(/,/g,".").replace(/[^\d\.]/g,""),10)};n=x(k);for(var r=0,q=u.length;r<q;r++){z=n*(p/u[r].value);v[u[r].innerHTML]=z.toFixed(2)}for(var r=0,q=w.length;r<q;r++){t=w[r];$(t.parentNode).find(".converted_currency").html(v[t.innerHTML])}if(booking.env.change_currency_on_click_convert_prices==2){$("#click_current_currency_foldout .seldescription:not(:first)").remove()}}y.stopPropagation()});if(!g.change_currency_hotel_anchor){e.live("click",function(){$(this).attr("href",$(this).attr("href")+"#"+h)})}$("html").click(function(k){if("click_current_currency_foldout"!=k.target.id){f.slideUp()}})}};if(booking.env.enable_scripts_tracking){booking.env.scripts_tracking.main.run=true};